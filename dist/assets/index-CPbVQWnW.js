(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function ph(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var Zd={exports:{}},ci={},Kd={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eo=Symbol.for("react.element"),mh=Symbol.for("react.portal"),hh=Symbol.for("react.fragment"),gh=Symbol.for("react.strict_mode"),vh=Symbol.for("react.profiler"),yh=Symbol.for("react.provider"),kh=Symbol.for("react.context"),wh=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),Sh=Symbol.for("react.memo"),Ch=Symbol.for("react.lazy"),_u=Symbol.iterator;function Eh(t){return t===null||typeof t!="object"?null:(t=_u&&t[_u]||t["@@iterator"],typeof t=="function"?t:null)}var Gd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qd=Object.assign,Vd={};function gr(t,e,n){this.props=t,this.context=e,this.refs=Vd,this.updater=n||Gd}gr.prototype.isReactComponent={};gr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jd(){}Jd.prototype=gr.prototype;function El(t,e,n){this.props=t,this.context=e,this.refs=Vd,this.updater=n||Gd}var Al=El.prototype=new Jd;Al.constructor=El;qd(Al,gr.prototype);Al.isPureReactComponent=!0;var Fu=Array.isArray,ep=Object.prototype.hasOwnProperty,Pl={current:null},tp={key:!0,ref:!0,__self:!0,__source:!0};function np(t,e,n){var r,o={},s=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)ep.call(e,r)&&!tp.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Eo,type:t,key:s,ref:i,props:o,_owner:Pl.current}}function Ah(t,e){return{$$typeof:Eo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Eo}function Ph(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Uu=/\/+/g;function Li(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ph(""+t.key):e.toString(36)}function fs(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Eo:case mh:i=!0}}if(i)return i=t,o=o(i),t=r===""?"."+Li(i,0):r,Fu(o)?(n="",t!=null&&(n=t.replace(Uu,"$&/")+"/"),fs(o,e,n,"",function(c){return c})):o!=null&&(Tl(o)&&(o=Ah(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Uu,"$&/")+"/")+t)),e.push(o)),1;if(i=0,r=r===""?".":r+":",Fu(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Li(s,a);i+=fs(s,e,n,l,o)}else if(l=Eh(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Li(s,a++),i+=fs(s,e,n,l,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function No(t,e,n){if(t==null)return t;var r=[],o=0;return fs(t,r,"","",function(s){return e.call(n,s,o++)}),r}function Th(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ze={current:null},ms={transition:null},Ih={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ms,ReactCurrentOwner:Pl};function rp(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:No,forEach:function(t,e,n){No(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return No(t,function(){e++}),e},toArray:function(t){return No(t,function(e){return e})||[]},only:function(t){if(!Tl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=gr;X.Fragment=hh;X.Profiler=vh;X.PureComponent=El;X.StrictMode=gh;X.Suspense=xh;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ih;X.act=rp;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qd({},t.props),o=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=Pl.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ep.call(e,l)&&!tp.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Eo,type:t.type,key:o,ref:s,props:r,_owner:i}};X.createContext=function(t){return t={$$typeof:kh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yh,_context:t},t.Consumer=t};X.createElement=np;X.createFactory=function(t){var e=np.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:wh,render:t}};X.isValidElement=Tl;X.lazy=function(t){return{$$typeof:Ch,_payload:{_status:-1,_result:t},_init:Th}};X.memo=function(t,e){return{$$typeof:Sh,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=ms.transition;ms.transition={};try{t()}finally{ms.transition=e}};X.unstable_act=rp;X.useCallback=function(t,e){return ze.current.useCallback(t,e)};X.useContext=function(t){return ze.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return ze.current.useDeferredValue(t)};X.useEffect=function(t,e){return ze.current.useEffect(t,e)};X.useId=function(){return ze.current.useId()};X.useImperativeHandle=function(t,e,n){return ze.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return ze.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return ze.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return ze.current.useMemo(t,e)};X.useReducer=function(t,e,n){return ze.current.useReducer(t,e,n)};X.useRef=function(t){return ze.current.useRef(t)};X.useState=function(t){return ze.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return ze.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return ze.current.useTransition()};X.version="18.3.1";Kd.exports=X;var C=Kd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh=C,Rh=Symbol.for("react.element"),Lh=Symbol.for("react.fragment"),Mh=Object.prototype.hasOwnProperty,Oh=bh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zh={key:!0,ref:!0,__self:!0,__source:!0};function op(t,e,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)Mh.call(e,r)&&!zh.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:Rh,type:t,key:s,ref:i,props:o,_owner:Oh.current}}ci.Fragment=Lh;ci.jsx=op;ci.jsxs=op;Zd.exports=ci;var A=Zd.exports,sp={exports:{}},Ge={},ip={exports:{}},ap={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,L){var N=E.length;E.push(L);e:for(;0<N;){var U=N-1>>>1,$=E[U];if(0<o($,L))E[U]=L,E[N]=$,N=U;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var L=E[0],N=E.pop();if(N!==L){E[0]=N;e:for(var U=0,$=E.length,ne=$>>>1;U<ne;){var De=2*(U+1)-1,dn=E[De],Be=De+1,_t=E[Be];if(0>o(dn,N))Be<$&&0>o(_t,dn)?(E[U]=_t,E[Be]=N,U=Be):(E[U]=dn,E[De]=N,U=De);else if(Be<$&&0>o(_t,N))E[U]=_t,E[Be]=N,U=Be;else break e}}return L}function o(E,L){var N=E.sortIndex-L.sortIndex;return N!==0?N:E.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,p=null,d=3,m=!1,h=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(E){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=E)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function k(E){if(y=!1,g(E),!h)if(n(l)!==null)h=!0,Y(x);else{var L=n(c);L!==null&&S(k,L.startTime-E)}}function x(E,L){h=!1,y&&(y=!1,v(M),M=-1),m=!0;var N=d;try{for(g(L),p=n(l);p!==null&&(!(p.expirationTime>L)||E&&!_());){var U=p.callback;if(typeof U=="function"){p.callback=null,d=p.priorityLevel;var $=U(p.expirationTime<=L);L=t.unstable_now(),typeof $=="function"?p.callback=$:p===n(l)&&r(l),g(L)}else r(l);p=n(l)}if(p!==null)var ne=!0;else{var De=n(c);De!==null&&S(k,De.startTime-L),ne=!1}return ne}finally{p=null,d=N,m=!1}}var P=!1,R=null,M=-1,b=5,I=-1;function _(){return!(t.unstable_now()-I<b)}function D(){if(R!==null){var E=t.unstable_now();I=E;var L=!0;try{L=R(!0,E)}finally{L?F():(P=!1,R=null)}}else P=!1}var F;if(typeof f=="function")F=function(){f(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,j=z.port2;z.port1.onmessage=D,F=function(){j.postMessage(null)}}else F=function(){w(D,0)};function Y(E){R=E,P||(P=!0,F())}function S(E,L){M=w(function(){E(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){h||m||(h=!0,Y(x))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(E){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var N=d;d=L;try{return E()}finally{d=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,L){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var N=d;d=E;try{return L()}finally{d=N}},t.unstable_scheduleCallback=function(E,L,N){var U=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?U+N:U):N=U,E){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=N+$,E={id:u++,callback:L,priorityLevel:E,startTime:N,expirationTime:$,sortIndex:-1},N>U?(E.sortIndex=N,e(c,E),n(l)===null&&E===n(c)&&(y?(v(M),M=-1):y=!0,S(k,N-U))):(E.sortIndex=$,e(l,E),h||m||(h=!0,Y(x))),E},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(E){var L=d;return function(){var N=d;d=L;try{return E.apply(this,arguments)}finally{d=N}}}})(ap);ip.exports=ap;var Nh=ip.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh=C,Ke=Nh;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lp=new Set,no={};function On(t,e){lr(t,e),lr(t+"Capture",e)}function lr(t,e){for(no[t]=e,t=0;t<e.length;t++)lp.add(e[t])}var Nt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=Object.prototype.hasOwnProperty,Bh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$u={},Wu={};function jh(t){return ca.call(Wu,t)?!0:ca.call($u,t)?!1:Bh.test(t)?Wu[t]=!0:($u[t]=!0,!1)}function Hh(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _h(t,e,n,r){if(e===null||typeof e>"u"||Hh(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ne(t,e,n,r,o,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ce[t]=new Ne(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ce[e]=new Ne(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ce[t]=new Ne(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ce[t]=new Ne(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ce[t]=new Ne(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ce[t]=new Ne(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ce[t]=new Ne(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ce[t]=new Ne(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ce[t]=new Ne(t,5,!1,t.toLowerCase(),null,!1,!1)});var Il=/[\-:]([a-z])/g;function bl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Il,bl);Ce[e]=new Ne(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Il,bl);Ce[e]=new Ne(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Il,bl);Ce[e]=new Ne(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ce[t]=new Ne(t,1,!1,t.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ce[t]=new Ne(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rl(t,e,n,r){var o=Ce.hasOwnProperty(e)?Ce[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_h(e,n,o,r)&&(n=null),r||o===null?jh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ht=Dh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Do=Symbol.for("react.element"),_n=Symbol.for("react.portal"),Fn=Symbol.for("react.fragment"),Ll=Symbol.for("react.strict_mode"),da=Symbol.for("react.profiler"),up=Symbol.for("react.provider"),cp=Symbol.for("react.context"),Ml=Symbol.for("react.forward_ref"),pa=Symbol.for("react.suspense"),fa=Symbol.for("react.suspense_list"),Ol=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),dp=Symbol.for("react.offscreen"),Qu=Symbol.iterator;function xr(t){return t===null||typeof t!="object"?null:(t=Qu&&t[Qu]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,Mi;function zr(t){if(Mi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mi=e&&e[1]||""}return`
`+Mi+t}var Oi=!1;function zi(t,e){if(!t||Oi)return"";Oi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{Oi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zr(t):""}function Fh(t){switch(t.tag){case 5:return zr(t.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 2:case 15:return t=zi(t.type,!1),t;case 11:return t=zi(t.type.render,!1),t;case 1:return t=zi(t.type,!0),t;default:return""}}function ma(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fn:return"Fragment";case _n:return"Portal";case da:return"Profiler";case Ll:return"StrictMode";case pa:return"Suspense";case fa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cp:return(t.displayName||"Context")+".Consumer";case up:return(t._context.displayName||"Context")+".Provider";case Ml:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ol:return e=t.displayName||null,e!==null?e:ma(t.type)||"Memo";case Ut:e=t._payload,t=t._init;try{return ma(t(e))}catch{}}return null}function Uh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ma(e);case 8:return e===Ll?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function on(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $h(t){var e=pp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bo(t){t._valueTracker||(t._valueTracker=$h(t))}function fp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Is(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ha(t,e){var n=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yu(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=on(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mp(t,e){e=e.checked,e!=null&&Rl(t,"checked",e,!1)}function ga(t,e){mp(t,e);var n=on(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?va(t,e.type,n):e.hasOwnProperty("defaultValue")&&va(t,e.type,on(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function va(t,e,n){(e!=="number"||Is(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Nr=Array.isArray;function tr(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+on(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function ya(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Nr(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:on(n)}}function hp(t,e){var n=on(e.value),r=on(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ku(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ka(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jo,vp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ro(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wh=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(t){Wh.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hr[e]=Hr[t]})});function yp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hr.hasOwnProperty(t)&&Hr[t]?(""+e).trim():e+"px"}function kp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=yp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var Qh=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wa(t,e){if(e){if(Qh[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function xa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sa=null;function zl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ca=null,nr=null,rr=null;function Gu(t){if(t=To(t)){if(typeof Ca!="function")throw Error(O(280));var e=t.stateNode;e&&(e=hi(e),Ca(t.stateNode,t.type,e))}}function wp(t){nr?rr?rr.push(t):rr=[t]:nr=t}function xp(){if(nr){var t=nr,e=rr;if(rr=nr=null,Gu(t),e)for(t=0;t<e.length;t++)Gu(e[t])}}function Sp(t,e){return t(e)}function Cp(){}var Ni=!1;function Ep(t,e,n){if(Ni)return t(e,n);Ni=!0;try{return Sp(t,e,n)}finally{Ni=!1,(nr!==null||rr!==null)&&(Cp(),xp())}}function oo(t,e){var n=t.stateNode;if(n===null)return null;var r=hi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Ea=!1;if(Nt)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Ea=!1}function Yh(t,e,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var _r=!1,bs=null,Rs=!1,Aa=null,Xh={onError:function(t){_r=!0,bs=t}};function Zh(t,e,n,r,o,s,i,a,l){_r=!1,bs=null,Yh.apply(Xh,arguments)}function Kh(t,e,n,r,o,s,i,a,l){if(Zh.apply(this,arguments),_r){if(_r){var c=bs;_r=!1,bs=null}else throw Error(O(198));Rs||(Rs=!0,Aa=c)}}function zn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ap(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qu(t){if(zn(t)!==t)throw Error(O(188))}function Gh(t){var e=t.alternate;if(!e){if(e=zn(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return qu(o),t;if(s===r)return qu(o),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function Pp(t){return t=Gh(t),t!==null?Tp(t):null}function Tp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tp(t);if(e!==null)return e;t=t.sibling}return null}var Ip=Ke.unstable_scheduleCallback,Vu=Ke.unstable_cancelCallback,qh=Ke.unstable_shouldYield,Vh=Ke.unstable_requestPaint,pe=Ke.unstable_now,Jh=Ke.unstable_getCurrentPriorityLevel,Nl=Ke.unstable_ImmediatePriority,bp=Ke.unstable_UserBlockingPriority,Ls=Ke.unstable_NormalPriority,eg=Ke.unstable_LowPriority,Rp=Ke.unstable_IdlePriority,di=null,At=null;function tg(t){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(di,t,void 0,(t.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:og,ng=Math.log,rg=Math.LN2;function og(t){return t>>>=0,t===0?32:31-(ng(t)/rg|0)|0}var Ho=64,_o=4194304;function Dr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ms(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,s=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=Dr(a):(s&=i,s!==0&&(r=Dr(s)))}else i=n&~o,i!==0?r=Dr(i):s!==0&&(r=Dr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ft(e),o=1<<n,r|=t[n],e&=~o;return r}function sg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ig(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-ft(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=sg(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Pa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lp(){var t=Ho;return Ho<<=1,!(Ho&4194240)&&(Ho=64),t}function Di(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ao(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ft(e),t[e]=n}function ag(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-ft(n),s=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~s}}function Dl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ft(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var K=0;function Mp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Op,Bl,zp,Np,Dp,Ta=!1,Fo=[],Gt=null,qt=null,Vt=null,so=new Map,io=new Map,Wt=[],lg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ju(t,e){switch(t){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":so.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(e.pointerId)}}function Cr(t,e,n,r,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},e!==null&&(e=To(e),e!==null&&Bl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function ug(t,e,n,r,o){switch(e){case"focusin":return Gt=Cr(Gt,t,e,n,r,o),!0;case"dragenter":return qt=Cr(qt,t,e,n,r,o),!0;case"mouseover":return Vt=Cr(Vt,t,e,n,r,o),!0;case"pointerover":var s=o.pointerId;return so.set(s,Cr(so.get(s)||null,t,e,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,io.set(s,Cr(io.get(s)||null,t,e,n,r,o)),!0}return!1}function Bp(t){var e=xn(t.target);if(e!==null){var n=zn(e);if(n!==null){if(e=n.tag,e===13){if(e=Ap(n),e!==null){t.blockedOn=e,Dp(t.priority,function(){zp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ia(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sa=r,n.target.dispatchEvent(r),Sa=null}else return e=To(n),e!==null&&Bl(e),t.blockedOn=n,!1;e.shift()}return!0}function ec(t,e,n){hs(t)&&n.delete(e)}function cg(){Ta=!1,Gt!==null&&hs(Gt)&&(Gt=null),qt!==null&&hs(qt)&&(qt=null),Vt!==null&&hs(Vt)&&(Vt=null),so.forEach(ec),io.forEach(ec)}function Er(t,e){t.blockedOn===e&&(t.blockedOn=null,Ta||(Ta=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,cg)))}function ao(t){function e(o){return Er(o,t)}if(0<Fo.length){Er(Fo[0],t);for(var n=1;n<Fo.length;n++){var r=Fo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gt!==null&&Er(Gt,t),qt!==null&&Er(qt,t),Vt!==null&&Er(Vt,t),so.forEach(e),io.forEach(e),n=0;n<Wt.length;n++)r=Wt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wt.length&&(n=Wt[0],n.blockedOn===null);)Bp(n),n.blockedOn===null&&Wt.shift()}var or=Ht.ReactCurrentBatchConfig,Os=!0;function dg(t,e,n,r){var o=K,s=or.transition;or.transition=null;try{K=1,jl(t,e,n,r)}finally{K=o,or.transition=s}}function pg(t,e,n,r){var o=K,s=or.transition;or.transition=null;try{K=4,jl(t,e,n,r)}finally{K=o,or.transition=s}}function jl(t,e,n,r){if(Os){var o=Ia(t,e,n,r);if(o===null)Yi(t,e,r,zs,n),Ju(t,r);else if(ug(o,t,e,n,r))r.stopPropagation();else if(Ju(t,r),e&4&&-1<lg.indexOf(t)){for(;o!==null;){var s=To(o);if(s!==null&&Op(s),s=Ia(t,e,n,r),s===null&&Yi(t,e,r,zs,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Yi(t,e,r,null,n)}}var zs=null;function Ia(t,e,n,r){if(zs=null,t=zl(r),t=xn(t),t!==null)if(e=zn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ap(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zs=t,null}function jp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jh()){case Nl:return 1;case bp:return 4;case Ls:case eg:return 16;case Rp:return 536870912;default:return 16}default:return 16}}var Xt=null,Hl=null,gs=null;function Hp(){if(gs)return gs;var t,e=Hl,n=e.length,r,o="value"in Xt?Xt.value:Xt.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===o[s-r];r++);return gs=o.slice(t,1<r?1-r:void 0)}function vs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uo(){return!0}function tc(){return!1}function qe(t){function e(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Uo:tc,this.isPropagationStopped=tc,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uo)},persist:function(){},isPersistent:Uo}),e}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=qe(vr),Po=ue({},vr,{view:0,detail:0}),fg=qe(Po),Bi,ji,Ar,pi=ue({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ar&&(Ar&&t.type==="mousemove"?(Bi=t.screenX-Ar.screenX,ji=t.screenY-Ar.screenY):ji=Bi=0,Ar=t),Bi)},movementY:function(t){return"movementY"in t?t.movementY:ji}}),nc=qe(pi),mg=ue({},pi,{dataTransfer:0}),hg=qe(mg),gg=ue({},Po,{relatedTarget:0}),Hi=qe(gg),vg=ue({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),yg=qe(vg),kg=ue({},vr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wg=qe(kg),xg=ue({},vr,{data:0}),rc=qe(xg),Sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ag(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Eg[t])?!!e[t]:!1}function Fl(){return Ag}var Pg=ue({},Po,{key:function(t){if(t.key){var e=Sg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fl,charCode:function(t){return t.type==="keypress"?vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tg=qe(Pg),Ig=ue({},pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oc=qe(Ig),bg=ue({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fl}),Rg=qe(bg),Lg=ue({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mg=qe(Lg),Og=ue({},pi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zg=qe(Og),Ng=[9,13,27,32],Ul=Nt&&"CompositionEvent"in window,Fr=null;Nt&&"documentMode"in document&&(Fr=document.documentMode);var Dg=Nt&&"TextEvent"in window&&!Fr,_p=Nt&&(!Ul||Fr&&8<Fr&&11>=Fr),sc=" ",ic=!1;function Fp(t,e){switch(t){case"keyup":return Ng.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Up(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Un=!1;function Bg(t,e){switch(t){case"compositionend":return Up(e);case"keypress":return e.which!==32?null:(ic=!0,sc);case"textInput":return t=e.data,t===sc&&ic?null:t;default:return null}}function jg(t,e){if(Un)return t==="compositionend"||!Ul&&Fp(t,e)?(t=Hp(),gs=Hl=Xt=null,Un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _p&&e.locale!=="ko"?null:e.data;default:return null}}var Hg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hg[t.type]:e==="textarea"}function $p(t,e,n,r){wp(r),e=Ns(e,"onChange"),0<e.length&&(n=new _l("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ur=null,lo=null;function _g(t){ef(t,0)}function fi(t){var e=Qn(t);if(fp(e))return t}function Fg(t,e){if(t==="change")return e}var Wp=!1;if(Nt){var _i;if(Nt){var Fi="oninput"in document;if(!Fi){var lc=document.createElement("div");lc.setAttribute("oninput","return;"),Fi=typeof lc.oninput=="function"}_i=Fi}else _i=!1;Wp=_i&&(!document.documentMode||9<document.documentMode)}function uc(){Ur&&(Ur.detachEvent("onpropertychange",Qp),lo=Ur=null)}function Qp(t){if(t.propertyName==="value"&&fi(lo)){var e=[];$p(e,lo,t,zl(t)),Ep(_g,e)}}function Ug(t,e,n){t==="focusin"?(uc(),Ur=e,lo=n,Ur.attachEvent("onpropertychange",Qp)):t==="focusout"&&uc()}function $g(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fi(lo)}function Wg(t,e){if(t==="click")return fi(e)}function Qg(t,e){if(t==="input"||t==="change")return fi(e)}function Yg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gt=typeof Object.is=="function"?Object.is:Yg;function uo(t,e){if(gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ca.call(e,o)||!gt(t[o],e[o]))return!1}return!0}function cc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dc(t,e){var n=cc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cc(n)}}function Yp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xp(){for(var t=window,e=Is();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Is(t.document)}return e}function $l(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Xg(t){var e=Xp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yp(n.ownerDocument.documentElement,n)){if(r!==null&&$l(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!t.extend&&s>r&&(o=r,r=s,s=o),o=dc(n,s);var i=dc(n,r);o&&i&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zg=Nt&&"documentMode"in document&&11>=document.documentMode,$n=null,ba=null,$r=null,Ra=!1;function pc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ra||$n==null||$n!==Is(r)||(r=$n,"selectionStart"in r&&$l(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$r&&uo($r,r)||($r=r,r=Ns(ba,"onSelect"),0<r.length&&(e=new _l("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$n)))}function $o(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wn={animationend:$o("Animation","AnimationEnd"),animationiteration:$o("Animation","AnimationIteration"),animationstart:$o("Animation","AnimationStart"),transitionend:$o("Transition","TransitionEnd")},Ui={},Zp={};Nt&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function mi(t){if(Ui[t])return Ui[t];if(!Wn[t])return t;var e=Wn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zp)return Ui[t]=e[n];return t}var Kp=mi("animationend"),Gp=mi("animationiteration"),qp=mi("animationstart"),Vp=mi("transitionend"),Jp=new Map,fc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(t,e){Jp.set(t,e),On(e,[t])}for(var $i=0;$i<fc.length;$i++){var Wi=fc[$i],Kg=Wi.toLowerCase(),Gg=Wi[0].toUpperCase()+Wi.slice(1);an(Kg,"on"+Gg)}an(Kp,"onAnimationEnd");an(Gp,"onAnimationIteration");an(qp,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Vp,"onTransitionEnd");lr("onMouseEnter",["mouseout","mouseover"]);lr("onMouseLeave",["mouseout","mouseover"]);lr("onPointerEnter",["pointerout","pointerover"]);lr("onPointerLeave",["pointerout","pointerover"]);On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));On("onBeforeInput",["compositionend","keypress","textInput","paste"]);On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function mc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Kh(r,e,void 0,t),t.currentTarget=null}function ef(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;mc(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;mc(o,a,c),s=l}}}if(Rs)throw t=Aa,Rs=!1,Aa=null,t}function ee(t,e){var n=e[Na];n===void 0&&(n=e[Na]=new Set);var r=t+"__bubble";n.has(r)||(tf(e,t,2,!1),n.add(r))}function Qi(t,e,n){var r=0;e&&(r|=4),tf(n,t,r,e)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function co(t){if(!t[Wo]){t[Wo]=!0,lp.forEach(function(n){n!=="selectionchange"&&(qg.has(n)||Qi(n,!1,t),Qi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wo]||(e[Wo]=!0,Qi("selectionchange",!1,e))}}function tf(t,e,n,r){switch(jp(e)){case 1:var o=dg;break;case 4:o=pg;break;default:o=jl}n=o.bind(null,e,n,t),o=void 0,!Ea||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Yi(t,e,n,r,o){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=xn(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}Ep(function(){var c=s,u=zl(n),p=[];e:{var d=Jp.get(t);if(d!==void 0){var m=_l,h=t;switch(t){case"keypress":if(vs(n)===0)break e;case"keydown":case"keyup":m=Tg;break;case"focusin":h="focus",m=Hi;break;case"focusout":h="blur",m=Hi;break;case"beforeblur":case"afterblur":m=Hi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=hg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Rg;break;case Kp:case Gp:case qp:m=yg;break;case Vp:m=Mg;break;case"scroll":m=fg;break;case"wheel":m=zg;break;case"copy":case"cut":case"paste":m=wg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=oc}var y=(e&4)!==0,w=!y&&t==="scroll",v=y?d!==null?d+"Capture":null:d;y=[];for(var f=c,g;f!==null;){g=f;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,v!==null&&(k=oo(f,v),k!=null&&y.push(po(f,k,g)))),w)break;f=f.return}0<y.length&&(d=new m(d,h,null,n,u),p.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==Sa&&(h=n.relatedTarget||n.fromElement)&&(xn(h)||h[Dt]))break e;if((m||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=c,h=h?xn(h):null,h!==null&&(w=zn(h),h!==w||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=c),m!==h)){if(y=nc,k="onMouseLeave",v="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(y=oc,k="onPointerLeave",v="onPointerEnter",f="pointer"),w=m==null?d:Qn(m),g=h==null?d:Qn(h),d=new y(k,f+"leave",m,n,u),d.target=w,d.relatedTarget=g,k=null,xn(u)===c&&(y=new y(v,f+"enter",h,n,u),y.target=g,y.relatedTarget=w,k=y),w=k,m&&h)t:{for(y=m,v=h,f=0,g=y;g;g=jn(g))f++;for(g=0,k=v;k;k=jn(k))g++;for(;0<f-g;)y=jn(y),f--;for(;0<g-f;)v=jn(v),g--;for(;f--;){if(y===v||v!==null&&y===v.alternate)break t;y=jn(y),v=jn(v)}y=null}else y=null;m!==null&&hc(p,d,m,y,!1),h!==null&&w!==null&&hc(p,w,h,y,!0)}}e:{if(d=c?Qn(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var x=Fg;else if(ac(d))if(Wp)x=Qg;else{x=$g;var P=Ug}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=Wg);if(x&&(x=x(t,c))){$p(p,x,n,u);break e}P&&P(t,d,c),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&va(d,"number",d.value)}switch(P=c?Qn(c):window,t){case"focusin":(ac(P)||P.contentEditable==="true")&&($n=P,ba=c,$r=null);break;case"focusout":$r=ba=$n=null;break;case"mousedown":Ra=!0;break;case"contextmenu":case"mouseup":case"dragend":Ra=!1,pc(p,n,u);break;case"selectionchange":if(Zg)break;case"keydown":case"keyup":pc(p,n,u)}var R;if(Ul)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Un?Fp(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(_p&&n.locale!=="ko"&&(Un||M!=="onCompositionStart"?M==="onCompositionEnd"&&Un&&(R=Hp()):(Xt=u,Hl="value"in Xt?Xt.value:Xt.textContent,Un=!0)),P=Ns(c,M),0<P.length&&(M=new rc(M,t,null,n,u),p.push({event:M,listeners:P}),R?M.data=R:(R=Up(n),R!==null&&(M.data=R)))),(R=Dg?Bg(t,n):jg(t,n))&&(c=Ns(c,"onBeforeInput"),0<c.length&&(u=new rc("onBeforeInput","beforeinput",null,n,u),p.push({event:u,listeners:c}),u.data=R))}ef(p,e)})}function po(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ns(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=oo(t,n),s!=null&&r.unshift(po(t,s,o)),s=oo(t,e),s!=null&&r.push(po(t,s,o))),t=t.return}return r}function jn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hc(t,e,n,r,o){for(var s=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=oo(n,s),l!=null&&i.unshift(po(n,l,a))):o||(l=oo(n,s),l!=null&&i.push(po(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var Vg=/\r\n?/g,Jg=/\u0000|\uFFFD/g;function gc(t){return(typeof t=="string"?t:""+t).replace(Vg,`
`).replace(Jg,"")}function Qo(t,e,n){if(e=gc(e),gc(t)!==e&&n)throw Error(O(425))}function Ds(){}var La=null,Ma=null;function Oa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var za=typeof setTimeout=="function"?setTimeout:void 0,ev=typeof clearTimeout=="function"?clearTimeout:void 0,vc=typeof Promise=="function"?Promise:void 0,tv=typeof queueMicrotask=="function"?queueMicrotask:typeof vc<"u"?function(t){return vc.resolve(null).then(t).catch(nv)}:za;function nv(t){setTimeout(function(){throw t})}function Xi(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),ao(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ao(e)}function Jt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yr=Math.random().toString(36).slice(2),Et="__reactFiber$"+yr,fo="__reactProps$"+yr,Dt="__reactContainer$"+yr,Na="__reactEvents$"+yr,rv="__reactListeners$"+yr,ov="__reactHandles$"+yr;function xn(t){var e=t[Et];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dt]||n[Et]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yc(t);t!==null;){if(n=t[Et])return n;t=yc(t)}return e}t=n,n=t.parentNode}return null}function To(t){return t=t[Et]||t[Dt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function hi(t){return t[fo]||null}var Da=[],Yn=-1;function ln(t){return{current:t}}function te(t){0>Yn||(t.current=Da[Yn],Da[Yn]=null,Yn--)}function V(t,e){Yn++,Da[Yn]=t.current,t.current=e}var sn={},be=ln(sn),_e=ln(!1),Tn=sn;function ur(t,e){var n=t.type.contextTypes;if(!n)return sn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Fe(t){return t=t.childContextTypes,t!=null}function Bs(){te(_e),te(be)}function kc(t,e,n){if(be.current!==sn)throw Error(O(168));V(be,e),V(_e,n)}function nf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(O(108,Uh(t)||"Unknown",o));return ue({},n,r)}function js(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sn,Tn=be.current,V(be,t),V(_e,_e.current),!0}function wc(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=nf(t,e,Tn),r.__reactInternalMemoizedMergedChildContext=t,te(_e),te(be),V(be,t)):te(_e),V(_e,n)}var It=null,gi=!1,Zi=!1;function rf(t){It===null?It=[t]:It.push(t)}function sv(t){gi=!0,rf(t)}function un(){if(!Zi&&It!==null){Zi=!0;var t=0,e=K;try{var n=It;for(K=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}It=null,gi=!1}catch(o){throw It!==null&&(It=It.slice(t+1)),Ip(Nl,un),o}finally{K=e,Zi=!1}}return null}var Xn=[],Zn=0,Hs=null,_s=0,Je=[],et=0,In=null,Rt=1,Lt="";function mn(t,e){Xn[Zn++]=_s,Xn[Zn++]=Hs,Hs=t,_s=e}function of(t,e,n){Je[et++]=Rt,Je[et++]=Lt,Je[et++]=In,In=t;var r=Rt;t=Lt;var o=32-ft(r)-1;r&=~(1<<o),n+=1;var s=32-ft(e)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Rt=1<<32-ft(e)+o|n<<o|r,Lt=s+t}else Rt=1<<s|n<<o|r,Lt=t}function Wl(t){t.return!==null&&(mn(t,1),of(t,1,0))}function Ql(t){for(;t===Hs;)Hs=Xn[--Zn],Xn[Zn]=null,_s=Xn[--Zn],Xn[Zn]=null;for(;t===In;)In=Je[--et],Je[et]=null,Lt=Je[--et],Je[et]=null,Rt=Je[--et],Je[et]=null}var Ze=null,Xe=null,se=!1,ct=null;function sf(t,e){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ze=t,Xe=Jt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ze=t,Xe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=In!==null?{id:Rt,overflow:Lt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ze=t,Xe=null,!0):!1;default:return!1}}function Ba(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ja(t){if(se){var e=Xe;if(e){var n=e;if(!xc(t,e)){if(Ba(t))throw Error(O(418));e=Jt(n.nextSibling);var r=Ze;e&&xc(t,e)?sf(r,n):(t.flags=t.flags&-4097|2,se=!1,Ze=t)}}else{if(Ba(t))throw Error(O(418));t.flags=t.flags&-4097|2,se=!1,Ze=t}}}function Sc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ze=t}function Yo(t){if(t!==Ze)return!1;if(!se)return Sc(t),se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Oa(t.type,t.memoizedProps)),e&&(e=Xe)){if(Ba(t))throw af(),Error(O(418));for(;e;)sf(t,e),e=Jt(e.nextSibling)}if(Sc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xe=Jt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xe=null}}else Xe=Ze?Jt(t.stateNode.nextSibling):null;return!0}function af(){for(var t=Xe;t;)t=Jt(t.nextSibling)}function cr(){Xe=Ze=null,se=!1}function Yl(t){ct===null?ct=[t]:ct.push(t)}var iv=Ht.ReactCurrentBatchConfig;function Pr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var o=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Xo(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cc(t){var e=t._init;return e(t._payload)}function lf(t){function e(v,f){if(t){var g=v.deletions;g===null?(v.deletions=[f],v.flags|=16):g.push(f)}}function n(v,f){if(!t)return null;for(;f!==null;)e(v,f),f=f.sibling;return null}function r(v,f){for(v=new Map;f!==null;)f.key!==null?v.set(f.key,f):v.set(f.index,f),f=f.sibling;return v}function o(v,f){return v=rn(v,f),v.index=0,v.sibling=null,v}function s(v,f,g){return v.index=g,t?(g=v.alternate,g!==null?(g=g.index,g<f?(v.flags|=2,f):g):(v.flags|=2,f)):(v.flags|=1048576,f)}function i(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,f,g,k){return f===null||f.tag!==6?(f=ta(g,v.mode,k),f.return=v,f):(f=o(f,g),f.return=v,f)}function l(v,f,g,k){var x=g.type;return x===Fn?u(v,f,g.props.children,k,g.key):f!==null&&(f.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ut&&Cc(x)===f.type)?(k=o(f,g.props),k.ref=Pr(v,f,g),k.return=v,k):(k=Es(g.type,g.key,g.props,null,v.mode,k),k.ref=Pr(v,f,g),k.return=v,k)}function c(v,f,g,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=na(g,v.mode,k),f.return=v,f):(f=o(f,g.children||[]),f.return=v,f)}function u(v,f,g,k,x){return f===null||f.tag!==7?(f=An(g,v.mode,k,x),f.return=v,f):(f=o(f,g),f.return=v,f)}function p(v,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ta(""+f,v.mode,g),f.return=v,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Do:return g=Es(f.type,f.key,f.props,null,v.mode,g),g.ref=Pr(v,null,f),g.return=v,g;case _n:return f=na(f,v.mode,g),f.return=v,f;case Ut:var k=f._init;return p(v,k(f._payload),g)}if(Nr(f)||xr(f))return f=An(f,v.mode,g,null),f.return=v,f;Xo(v,f)}return null}function d(v,f,g,k){var x=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:a(v,f,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Do:return g.key===x?l(v,f,g,k):null;case _n:return g.key===x?c(v,f,g,k):null;case Ut:return x=g._init,d(v,f,x(g._payload),k)}if(Nr(g)||xr(g))return x!==null?null:u(v,f,g,k,null);Xo(v,g)}return null}function m(v,f,g,k,x){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(g)||null,a(f,v,""+k,x);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Do:return v=v.get(k.key===null?g:k.key)||null,l(f,v,k,x);case _n:return v=v.get(k.key===null?g:k.key)||null,c(f,v,k,x);case Ut:var P=k._init;return m(v,f,g,P(k._payload),x)}if(Nr(k)||xr(k))return v=v.get(g)||null,u(f,v,k,x,null);Xo(f,k)}return null}function h(v,f,g,k){for(var x=null,P=null,R=f,M=f=0,b=null;R!==null&&M<g.length;M++){R.index>M?(b=R,R=null):b=R.sibling;var I=d(v,R,g[M],k);if(I===null){R===null&&(R=b);break}t&&R&&I.alternate===null&&e(v,R),f=s(I,f,M),P===null?x=I:P.sibling=I,P=I,R=b}if(M===g.length)return n(v,R),se&&mn(v,M),x;if(R===null){for(;M<g.length;M++)R=p(v,g[M],k),R!==null&&(f=s(R,f,M),P===null?x=R:P.sibling=R,P=R);return se&&mn(v,M),x}for(R=r(v,R);M<g.length;M++)b=m(R,v,M,g[M],k),b!==null&&(t&&b.alternate!==null&&R.delete(b.key===null?M:b.key),f=s(b,f,M),P===null?x=b:P.sibling=b,P=b);return t&&R.forEach(function(_){return e(v,_)}),se&&mn(v,M),x}function y(v,f,g,k){var x=xr(g);if(typeof x!="function")throw Error(O(150));if(g=x.call(g),g==null)throw Error(O(151));for(var P=x=null,R=f,M=f=0,b=null,I=g.next();R!==null&&!I.done;M++,I=g.next()){R.index>M?(b=R,R=null):b=R.sibling;var _=d(v,R,I.value,k);if(_===null){R===null&&(R=b);break}t&&R&&_.alternate===null&&e(v,R),f=s(_,f,M),P===null?x=_:P.sibling=_,P=_,R=b}if(I.done)return n(v,R),se&&mn(v,M),x;if(R===null){for(;!I.done;M++,I=g.next())I=p(v,I.value,k),I!==null&&(f=s(I,f,M),P===null?x=I:P.sibling=I,P=I);return se&&mn(v,M),x}for(R=r(v,R);!I.done;M++,I=g.next())I=m(R,v,M,I.value,k),I!==null&&(t&&I.alternate!==null&&R.delete(I.key===null?M:I.key),f=s(I,f,M),P===null?x=I:P.sibling=I,P=I);return t&&R.forEach(function(D){return e(v,D)}),se&&mn(v,M),x}function w(v,f,g,k){if(typeof g=="object"&&g!==null&&g.type===Fn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Do:e:{for(var x=g.key,P=f;P!==null;){if(P.key===x){if(x=g.type,x===Fn){if(P.tag===7){n(v,P.sibling),f=o(P,g.props.children),f.return=v,v=f;break e}}else if(P.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ut&&Cc(x)===P.type){n(v,P.sibling),f=o(P,g.props),f.ref=Pr(v,P,g),f.return=v,v=f;break e}n(v,P);break}else e(v,P);P=P.sibling}g.type===Fn?(f=An(g.props.children,v.mode,k,g.key),f.return=v,v=f):(k=Es(g.type,g.key,g.props,null,v.mode,k),k.ref=Pr(v,f,g),k.return=v,v=k)}return i(v);case _n:e:{for(P=g.key;f!==null;){if(f.key===P)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(v,f.sibling),f=o(f,g.children||[]),f.return=v,v=f;break e}else{n(v,f);break}else e(v,f);f=f.sibling}f=na(g,v.mode,k),f.return=v,v=f}return i(v);case Ut:return P=g._init,w(v,f,P(g._payload),k)}if(Nr(g))return h(v,f,g,k);if(xr(g))return y(v,f,g,k);Xo(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(v,f.sibling),f=o(f,g),f.return=v,v=f):(n(v,f),f=ta(g,v.mode,k),f.return=v,v=f),i(v)):n(v,f)}return w}var dr=lf(!0),uf=lf(!1),Fs=ln(null),Us=null,Kn=null,Xl=null;function Zl(){Xl=Kn=Us=null}function Kl(t){var e=Fs.current;te(Fs),t._currentValue=e}function Ha(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sr(t,e){Us=t,Xl=Kn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(He=!0),t.firstContext=null)}function ot(t){var e=t._currentValue;if(Xl!==t)if(t={context:t,memoizedValue:e,next:null},Kn===null){if(Us===null)throw Error(O(308));Kn=t,Us.dependencies={lanes:0,firstContext:t}}else Kn=Kn.next=t;return e}var Sn=null;function Gl(t){Sn===null?Sn=[t]:Sn.push(t)}function cf(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Gl(e)):(n.next=o.next,o.next=n),e.interleaved=n,Bt(t,r)}function Bt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $t=!1;function ql(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function df(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function en(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Bt(t,n)}return o=r.interleaved,o===null?(e.next=e,Gl(r)):(e.next=o.next,o.next=e),r.interleaved=e,Bt(t,n)}function ys(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dl(t,n)}}function Ec(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $s(t,e,n,r){var o=t.updateQueue;$t=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var p=o.baseState;i=0,u=c=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=t,y=a;switch(d=e,m=n,y.tag){case 1:if(h=y.payload,typeof h=="function"){p=h.call(m,p,d);break e}p=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,d=typeof h=="function"?h.call(m,p,d):h,d==null)break e;p=ue({},p,d);break e;case 2:$t=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=o.effects,d===null?o.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=p):u=u.next=m,i|=d;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;d=a,a=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(u===null&&(l=p),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,e=o.shared.interleaved,e!==null){o=e;do i|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);Rn|=i,t.lanes=i,t.memoizedState=p}}function Ac(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(O(191,o));o.call(r)}}}var Io={},Pt=ln(Io),mo=ln(Io),ho=ln(Io);function Cn(t){if(t===Io)throw Error(O(174));return t}function Vl(t,e){switch(V(ho,e),V(mo,t),V(Pt,Io),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ka(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ka(e,t)}te(Pt),V(Pt,e)}function pr(){te(Pt),te(mo),te(ho)}function pf(t){Cn(ho.current);var e=Cn(Pt.current),n=ka(e,t.type);e!==n&&(V(mo,t),V(Pt,n))}function Jl(t){mo.current===t&&(te(Pt),te(mo))}var ae=ln(0);function Ws(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ki=[];function eu(){for(var t=0;t<Ki.length;t++)Ki[t]._workInProgressVersionPrimary=null;Ki.length=0}var ks=Ht.ReactCurrentDispatcher,Gi=Ht.ReactCurrentBatchConfig,bn=0,le=null,me=null,ke=null,Qs=!1,Wr=!1,go=0,av=0;function Ae(){throw Error(O(321))}function tu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gt(t[n],e[n]))return!1;return!0}function nu(t,e,n,r,o,s){if(bn=s,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ks.current=t===null||t.memoizedState===null?dv:pv,t=n(r,o),Wr){s=0;do{if(Wr=!1,go=0,25<=s)throw Error(O(301));s+=1,ke=me=null,e.updateQueue=null,ks.current=fv,t=n(r,o)}while(Wr)}if(ks.current=Ys,e=me!==null&&me.next!==null,bn=0,ke=me=le=null,Qs=!1,e)throw Error(O(300));return t}function ru(){var t=go!==0;return go=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?le.memoizedState=ke=t:ke=ke.next=t,ke}function st(){if(me===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=me.next;var e=ke===null?le.memoizedState:ke.next;if(e!==null)ke=e,me=t;else{if(t===null)throw Error(O(310));me=t,t={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ke===null?le.memoizedState=ke=t:ke=ke.next=t}return ke}function vo(t,e){return typeof e=="function"?e(t):e}function qi(t){var e=st(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=me,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var u=c.lane;if((bn&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,i=r):l=l.next=p,le.lanes|=u,Rn|=u}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,gt(r,e.memoizedState)||(He=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do s=o.lane,le.lanes|=s,Rn|=s,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vi(t){var e=st(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=t(s,i.action),i=i.next;while(i!==o);gt(s,e.memoizedState)||(He=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ff(){}function mf(t,e){var n=le,r=st(),o=e(),s=!gt(r.memoizedState,o);if(s&&(r.memoizedState=o,He=!0),r=r.queue,ou(vf.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,yo(9,gf.bind(null,n,r,o,e),void 0,null),we===null)throw Error(O(349));bn&30||hf(n,e,o)}return o}function hf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gf(t,e,n,r){e.value=n,e.getSnapshot=r,yf(e)&&kf(t)}function vf(t,e,n){return n(function(){yf(e)&&kf(t)})}function yf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gt(t,n)}catch{return!0}}function kf(t){var e=Bt(t,1);e!==null&&mt(e,t,1,-1)}function Pc(t){var e=St();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:t},e.queue=t,t=t.dispatch=cv.bind(null,le,t),[e.memoizedState,t]}function yo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wf(){return st().memoizedState}function ws(t,e,n,r){var o=St();le.flags|=t,o.memoizedState=yo(1|e,n,void 0,r===void 0?null:r)}function vi(t,e,n,r){var o=st();r=r===void 0?null:r;var s=void 0;if(me!==null){var i=me.memoizedState;if(s=i.destroy,r!==null&&tu(r,i.deps)){o.memoizedState=yo(e,n,s,r);return}}le.flags|=t,o.memoizedState=yo(1|e,n,s,r)}function Tc(t,e){return ws(8390656,8,t,e)}function ou(t,e){return vi(2048,8,t,e)}function xf(t,e){return vi(4,2,t,e)}function Sf(t,e){return vi(4,4,t,e)}function Cf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ef(t,e,n){return n=n!=null?n.concat([t]):null,vi(4,4,Cf.bind(null,e,t),n)}function su(){}function Af(t,e){var n=st();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pf(t,e){var n=st();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Tf(t,e,n){return bn&21?(gt(n,e)||(n=Lp(),le.lanes|=n,Rn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,He=!0),t.memoizedState=n)}function lv(t,e){var n=K;K=n!==0&&4>n?n:4,t(!0);var r=Gi.transition;Gi.transition={};try{t(!1),e()}finally{K=n,Gi.transition=r}}function If(){return st().memoizedState}function uv(t,e,n){var r=nn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bf(t))Rf(e,n);else if(n=cf(t,e,n,r),n!==null){var o=Oe();mt(n,t,r,o),Lf(n,e,r)}}function cv(t,e,n){var r=nn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bf(t))Rf(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,gt(a,i)){var l=e.interleaved;l===null?(o.next=o,Gl(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=cf(t,e,o,r),n!==null&&(o=Oe(),mt(n,t,r,o),Lf(n,e,r))}}function bf(t){var e=t.alternate;return t===le||e!==null&&e===le}function Rf(t,e){Wr=Qs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Lf(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dl(t,n)}}var Ys={readContext:ot,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},dv={readContext:ot,useCallback:function(t,e){return St().memoizedState=[t,e===void 0?null:e],t},useContext:ot,useEffect:Tc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ws(4194308,4,Cf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ws(4194308,4,t,e)},useInsertionEffect:function(t,e){return ws(4,2,t,e)},useMemo:function(t,e){var n=St();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=St();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=uv.bind(null,le,t),[r.memoizedState,t]},useRef:function(t){var e=St();return t={current:t},e.memoizedState=t},useState:Pc,useDebugValue:su,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=Pc(!1),e=t[0];return t=lv.bind(null,t[1]),St().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=le,o=St();if(se){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),we===null)throw Error(O(349));bn&30||hf(r,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,Tc(vf.bind(null,r,s,t),[t]),r.flags|=2048,yo(9,gf.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=St(),e=we.identifierPrefix;if(se){var n=Lt,r=Rt;n=(r&~(1<<32-ft(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=go++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=av++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pv={readContext:ot,useCallback:Af,useContext:ot,useEffect:ou,useImperativeHandle:Ef,useInsertionEffect:xf,useLayoutEffect:Sf,useMemo:Pf,useReducer:qi,useRef:wf,useState:function(){return qi(vo)},useDebugValue:su,useDeferredValue:function(t){var e=st();return Tf(e,me.memoizedState,t)},useTransition:function(){var t=qi(vo)[0],e=st().memoizedState;return[t,e]},useMutableSource:ff,useSyncExternalStore:mf,useId:If,unstable_isNewReconciler:!1},fv={readContext:ot,useCallback:Af,useContext:ot,useEffect:ou,useImperativeHandle:Ef,useInsertionEffect:xf,useLayoutEffect:Sf,useMemo:Pf,useReducer:Vi,useRef:wf,useState:function(){return Vi(vo)},useDebugValue:su,useDeferredValue:function(t){var e=st();return me===null?e.memoizedState=t:Tf(e,me.memoizedState,t)},useTransition:function(){var t=Vi(vo)[0],e=st().memoizedState;return[t,e]},useMutableSource:ff,useSyncExternalStore:mf,useId:If,unstable_isNewReconciler:!1};function at(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _a(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yi={isMounted:function(t){return(t=t._reactInternals)?zn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Oe(),o=nn(t),s=zt(r,o);s.payload=e,n!=null&&(s.callback=n),e=en(t,s,o),e!==null&&(mt(e,t,o,r),ys(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Oe(),o=nn(t),s=zt(r,o);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=en(t,s,o),e!==null&&(mt(e,t,o,r),ys(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Oe(),r=nn(t),o=zt(n,r);o.tag=2,e!=null&&(o.callback=e),e=en(t,o,r),e!==null&&(mt(e,t,r,n),ys(e,t,r))}};function Ic(t,e,n,r,o,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,i):e.prototype&&e.prototype.isPureReactComponent?!uo(n,r)||!uo(o,s):!0}function Mf(t,e,n){var r=!1,o=sn,s=e.contextType;return typeof s=="object"&&s!==null?s=ot(s):(o=Fe(e)?Tn:be.current,r=e.contextTypes,s=(r=r!=null)?ur(t,o):sn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function bc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yi.enqueueReplaceState(e,e.state,null)}function Fa(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},ql(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=ot(s):(s=Fe(e)?Tn:be.current,o.context=ur(t,s)),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_a(t,e,s,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&yi.enqueueReplaceState(o,o.state,null),$s(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function fr(t,e){try{var n="",r=e;do n+=Fh(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o,digest:null}}function Ji(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ua(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mv=typeof WeakMap=="function"?WeakMap:Map;function Of(t,e,n){n=zt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zs||(Zs=!0,Va=r),Ua(t,e)},n}function zf(t,e,n){n=zt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Ua(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ua(t,e),typeof r!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Rc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mv;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=Iv.bind(null,t,e,n),e.then(t,t))}function Lc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mc(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zt(-1,1),e.tag=2,en(n,e,1))),n.lanes|=1),t)}var hv=Ht.ReactCurrentOwner,He=!1;function Le(t,e,n,r){e.child=t===null?uf(e,null,n,r):dr(e,t.child,n,r)}function Oc(t,e,n,r,o){n=n.render;var s=e.ref;return sr(e,o),r=nu(t,e,n,r,s,o),n=ru(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,jt(t,e,o)):(se&&n&&Wl(e),e.flags|=1,Le(t,e,r,o),e.child)}function zc(t,e,n,r,o){if(t===null){var s=n.type;return typeof s=="function"&&!fu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Nf(t,e,s,r,o)):(t=Es(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:uo,n(i,r)&&t.ref===e.ref)return jt(t,e,o)}return e.flags|=1,t=rn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Nf(t,e,n,r,o){if(t!==null){var s=t.memoizedProps;if(uo(s,r)&&t.ref===e.ref)if(He=!1,e.pendingProps=r=s,(t.lanes&o)!==0)t.flags&131072&&(He=!0);else return e.lanes=t.lanes,jt(t,e,o)}return $a(t,e,n,r,o)}function Df(t,e,n){var r=e.pendingProps,o=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(qn,We),We|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,V(qn,We),We|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,V(qn,We),We|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,V(qn,We),We|=r;return Le(t,e,o,n),e.child}function Bf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $a(t,e,n,r,o){var s=Fe(n)?Tn:be.current;return s=ur(e,s),sr(e,o),n=nu(t,e,n,r,s,o),r=ru(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,jt(t,e,o)):(se&&r&&Wl(e),e.flags|=1,Le(t,e,n,o),e.child)}function Nc(t,e,n,r,o){if(Fe(n)){var s=!0;js(e)}else s=!1;if(sr(e,o),e.stateNode===null)xs(t,e),Mf(e,n,r),Fa(e,n,r,o),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=ot(c):(c=Fe(n)?Tn:be.current,c=ur(e,c));var u=n.getDerivedStateFromProps,p=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&bc(e,i,r,c),$t=!1;var d=e.memoizedState;i.state=d,$s(e,r,i,o),l=e.memoizedState,a!==r||d!==l||_e.current||$t?(typeof u=="function"&&(_a(e,n,u,r),l=e.memoizedState),(a=$t||Ic(e,n,a,r,d,l,c))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,df(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:at(e.type,a),i.props=c,p=e.pendingProps,d=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=ot(l):(l=Fe(n)?Tn:be.current,l=ur(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==p||d!==l)&&bc(e,i,r,l),$t=!1,d=e.memoizedState,i.state=d,$s(e,r,i,o);var h=e.memoizedState;a!==p||d!==h||_e.current||$t?(typeof m=="function"&&(_a(e,n,m,r),h=e.memoizedState),(c=$t||Ic(e,n,c,r,d,h,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,h,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,h,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),i.props=r,i.state=h,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Wa(t,e,n,r,s,o)}function Wa(t,e,n,r,o,s){Bf(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return o&&wc(e,n,!1),jt(t,e,s);r=e.stateNode,hv.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=dr(e,t.child,null,s),e.child=dr(e,null,a,s)):Le(t,e,a,s),e.memoizedState=r.state,o&&wc(e,n,!0),e.child}function jf(t){var e=t.stateNode;e.pendingContext?kc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kc(t,e.context,!1),Vl(t,e.containerInfo)}function Dc(t,e,n,r,o){return cr(),Yl(o),e.flags|=256,Le(t,e,n,r),e.child}var Qa={dehydrated:null,treeContext:null,retryLane:0};function Ya(t){return{baseLanes:t,cachePool:null,transitions:null}}function Hf(t,e,n){var r=e.pendingProps,o=ae.current,s=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),V(ae,o&1),t===null)return ja(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=xi(i,r,0,null),t=An(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ya(n),e.memoizedState=Qa,t):iu(e,i));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return gv(t,e,i,r,a,o,n);if(s){s=r.fallback,i=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=rn(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=rn(a,s):(s=An(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,i=t.child.memoizedState,i=i===null?Ya(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~n,e.memoizedState=Qa,r}return s=t.child,t=s.sibling,r=rn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iu(t,e){return e=xi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zo(t,e,n,r){return r!==null&&Yl(r),dr(e,t.child,null,n),t=iu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gv(t,e,n,r,o,s,i){if(n)return e.flags&256?(e.flags&=-257,r=Ji(Error(O(422))),Zo(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,o=e.mode,r=xi({mode:"visible",children:r.children},o,0,null),s=An(s,o,i,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&dr(e,t.child,null,i),e.child.memoizedState=Ya(i),e.memoizedState=Qa,s);if(!(e.mode&1))return Zo(t,e,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=Ji(s,r,void 0),Zo(t,e,i,r)}if(a=(i&t.childLanes)!==0,He||a){if(r=we,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Bt(t,o),mt(r,t,o,-1))}return pu(),r=Ji(Error(O(421))),Zo(t,e,i,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=bv.bind(null,t),o._reactRetry=e,null):(t=s.treeContext,Xe=Jt(o.nextSibling),Ze=e,se=!0,ct=null,t!==null&&(Je[et++]=Rt,Je[et++]=Lt,Je[et++]=In,Rt=t.id,Lt=t.overflow,In=e),e=iu(e,r.children),e.flags|=4096,e)}function Bc(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ha(t.return,e,n)}function ea(t,e,n,r,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function _f(t,e,n){var r=e.pendingProps,o=r.revealOrder,s=r.tail;if(Le(t,e,r.children,n),r=ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bc(t,n,e);else if(t.tag===19)Bc(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(V(ae,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Ws(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),ea(e,!1,o,n,s);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Ws(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}ea(e,!0,n,null,s);break;case"together":ea(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=rn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vv(t,e,n){switch(e.tag){case 3:jf(e),cr();break;case 5:pf(e);break;case 1:Fe(e.type)&&js(e);break;case 4:Vl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;V(Fs,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(V(ae,ae.current&1),e.flags|=128,null):n&e.child.childLanes?Hf(t,e,n):(V(ae,ae.current&1),t=jt(t,e,n),t!==null?t.sibling:null);V(ae,ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _f(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),V(ae,ae.current),r)break;return null;case 22:case 23:return e.lanes=0,Df(t,e,n)}return jt(t,e,n)}var Ff,Xa,Uf,$f;Ff=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xa=function(){};Uf=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Cn(Pt.current);var s=null;switch(n){case"input":o=ha(t,o),r=ha(t,r),s=[];break;case"select":o=ue({},o,{value:void 0}),r=ue({},r,{value:void 0}),s=[];break;case"textarea":o=ya(t,o),r=ya(t,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ds)}wa(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(no.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(no.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ee("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};$f=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tr(t,e){if(!se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yv(t,e,n){var r=e.pendingProps;switch(Ql(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(e),null;case 1:return Fe(e.type)&&Bs(),Pe(e),null;case 3:return r=e.stateNode,pr(),te(_e),te(be),eu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ct!==null&&(tl(ct),ct=null))),Xa(t,e),Pe(e),null;case 5:Jl(e);var o=Cn(ho.current);if(n=e.type,t!==null&&e.stateNode!=null)Uf(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Pe(e),null}if(t=Cn(Pt.current),Yo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Et]=e,r[fo]=s,t=(e.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(o=0;o<Br.length;o++)ee(Br[o],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":Yu(r,s),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ee("invalid",r);break;case"textarea":Zu(r,s),ee("invalid",r)}wa(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Qo(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Qo(r.textContent,a,t),o=["children",""+a]):no.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ee("scroll",r)}switch(n){case"input":Bo(r),Xu(r,s,!0);break;case"textarea":Bo(r),Ku(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ds)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[Et]=e,t[fo]=r,Ff(t,e,!1,!1),e.stateNode=t;e:{switch(i=xa(n,r),n){case"dialog":ee("cancel",t),ee("close",t),o=r;break;case"iframe":case"object":case"embed":ee("load",t),o=r;break;case"video":case"audio":for(o=0;o<Br.length;o++)ee(Br[o],t);o=r;break;case"source":ee("error",t),o=r;break;case"img":case"image":case"link":ee("error",t),ee("load",t),o=r;break;case"details":ee("toggle",t),o=r;break;case"input":Yu(t,r),o=ha(t,r),ee("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=ue({},r,{value:void 0}),ee("invalid",t);break;case"textarea":Zu(t,r),o=ya(t,r),ee("invalid",t);break;default:o=r}wa(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?kp(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vp(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ro(t,l):typeof l=="number"&&ro(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(no.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ee("scroll",t):l!=null&&Rl(t,s,l,i))}switch(n){case"input":Bo(t),Xu(t,r,!1);break;case"textarea":Bo(t),Ku(t);break;case"option":r.value!=null&&t.setAttribute("value",""+on(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?tr(t,!!r.multiple,s,!1):r.defaultValue!=null&&tr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Ds)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pe(e),null;case 6:if(t&&e.stateNode!=null)$f(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=Cn(ho.current),Cn(Pt.current),Yo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Et]=e,(s=r.nodeValue!==n)&&(t=Ze,t!==null))switch(t.tag){case 3:Qo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Et]=e,e.stateNode=r}return Pe(e),null;case 13:if(te(ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(se&&Xe!==null&&e.mode&1&&!(e.flags&128))af(),cr(),e.flags|=98560,s=!1;else if(s=Yo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[Et]=e}else cr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pe(e),s=!1}else ct!==null&&(tl(ct),ct=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ae.current&1?he===0&&(he=3):pu())),e.updateQueue!==null&&(e.flags|=4),Pe(e),null);case 4:return pr(),Xa(t,e),t===null&&co(e.stateNode.containerInfo),Pe(e),null;case 10:return Kl(e.type._context),Pe(e),null;case 17:return Fe(e.type)&&Bs(),Pe(e),null;case 19:if(te(ae),s=e.memoizedState,s===null)return Pe(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)Tr(s,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Ws(t),i!==null){for(e.flags|=128,Tr(s,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return V(ae,ae.current&1|2),e.child}t=t.sibling}s.tail!==null&&pe()>mr&&(e.flags|=128,r=!0,Tr(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ws(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!se)return Pe(e),null}else 2*pe()-s.renderingStartTime>mr&&n!==1073741824&&(e.flags|=128,r=!0,Tr(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(n=s.last,n!==null?n.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pe(),e.sibling=null,n=ae.current,V(ae,r?n&1|2:n&1),e):(Pe(e),null);case 22:case 23:return du(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?We&1073741824&&(Pe(e),e.subtreeFlags&6&&(e.flags|=8192)):Pe(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function kv(t,e){switch(Ql(e),e.tag){case 1:return Fe(e.type)&&Bs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pr(),te(_e),te(be),eu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jl(e),null;case 13:if(te(ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));cr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(ae),null;case 4:return pr(),null;case 10:return Kl(e.type._context),null;case 22:case 23:return du(),null;case 24:return null;default:return null}}var Ko=!1,Ie=!1,wv=typeof WeakSet=="function"?WeakSet:Set,B=null;function Gn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(t,e,r)}else n.current=null}function Za(t,e,n){try{n()}catch(r){ce(t,e,r)}}var jc=!1;function xv(t,e){if(La=Os,t=Xp(),$l(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,p=t,d=null;t:for(;;){for(var m;p!==n||o!==0&&p.nodeType!==3||(a=i+o),p!==s||r!==0&&p.nodeType!==3||(l=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(m=p.firstChild)!==null;)d=p,p=m;for(;;){if(p===t)break t;if(d===n&&++c===o&&(a=i),d===s&&++u===r&&(l=i),(m=p.nextSibling)!==null)break;p=d,d=p.parentNode}p=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ma={focusedElem:t,selectionRange:n},Os=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,w=h.memoizedState,v=e.stateNode,f=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:at(e.type,y),w);v.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(k){ce(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return h=jc,jc=!1,h}function Qr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var s=o.destroy;o.destroy=void 0,s!==void 0&&Za(e,n,s)}o=o.next}while(o!==r)}}function ki(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ka(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Wf(t){var e=t.alternate;e!==null&&(t.alternate=null,Wf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Et],delete e[fo],delete e[Na],delete e[rv],delete e[ov])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qf(t){return t.tag===5||t.tag===3||t.tag===4}function Hc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ga(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ds));else if(r!==4&&(t=t.child,t!==null))for(Ga(t,e,n),t=t.sibling;t!==null;)Ga(t,e,n),t=t.sibling}function qa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qa(t,e,n),t=t.sibling;t!==null;)qa(t,e,n),t=t.sibling}var xe=null,ut=!1;function Ft(t,e,n){for(n=n.child;n!==null;)Yf(t,e,n),n=n.sibling}function Yf(t,e,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(di,n)}catch{}switch(n.tag){case 5:Ie||Gn(n,e);case 6:var r=xe,o=ut;xe=null,Ft(t,e,n),xe=r,ut=o,xe!==null&&(ut?(t=xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xe.removeChild(n.stateNode));break;case 18:xe!==null&&(ut?(t=xe,n=n.stateNode,t.nodeType===8?Xi(t.parentNode,n):t.nodeType===1&&Xi(t,n),ao(t)):Xi(xe,n.stateNode));break;case 4:r=xe,o=ut,xe=n.stateNode.containerInfo,ut=!0,Ft(t,e,n),xe=r,ut=o;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Za(n,e,i),o=o.next}while(o!==r)}Ft(t,e,n);break;case 1:if(!Ie&&(Gn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ce(n,e,a)}Ft(t,e,n);break;case 21:Ft(t,e,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,Ft(t,e,n),Ie=r):Ft(t,e,n);break;default:Ft(t,e,n)}}function _c(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wv),e.forEach(function(r){var o=Rv.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function it(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:xe=a.stateNode,ut=!1;break e;case 3:xe=a.stateNode.containerInfo,ut=!0;break e;case 4:xe=a.stateNode.containerInfo,ut=!0;break e}a=a.return}if(xe===null)throw Error(O(160));Yf(s,i,o),xe=null,ut=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){ce(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xf(e,t),e=e.sibling}function Xf(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(it(e,t),kt(t),r&4){try{Qr(3,t,t.return),ki(3,t)}catch(y){ce(t,t.return,y)}try{Qr(5,t,t.return)}catch(y){ce(t,t.return,y)}}break;case 1:it(e,t),kt(t),r&512&&n!==null&&Gn(n,n.return);break;case 5:if(it(e,t),kt(t),r&512&&n!==null&&Gn(n,n.return),t.flags&32){var o=t.stateNode;try{ro(o,"")}catch(y){ce(t,t.return,y)}}if(r&4&&(o=t.stateNode,o!=null)){var s=t.memoizedProps,i=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&mp(o,s),xa(a,i);var c=xa(a,s);for(i=0;i<l.length;i+=2){var u=l[i],p=l[i+1];u==="style"?kp(o,p):u==="dangerouslySetInnerHTML"?vp(o,p):u==="children"?ro(o,p):Rl(o,u,p,c)}switch(a){case"input":ga(o,s);break;case"textarea":hp(o,s);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?tr(o,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?tr(o,!!s.multiple,s.defaultValue,!0):tr(o,!!s.multiple,s.multiple?[]:"",!1))}o[fo]=s}catch(y){ce(t,t.return,y)}}break;case 6:if(it(e,t),kt(t),r&4){if(t.stateNode===null)throw Error(O(162));o=t.stateNode,s=t.memoizedProps;try{o.nodeValue=s}catch(y){ce(t,t.return,y)}}break;case 3:if(it(e,t),kt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ao(e.containerInfo)}catch(y){ce(t,t.return,y)}break;case 4:it(e,t),kt(t);break;case 13:it(e,t),kt(t),o=t.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(uu=pe())),r&4&&_c(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ie=(c=Ie)||u,it(e,t),Ie=c):it(e,t),kt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(B=t,u=t.child;u!==null;){for(p=B=u;B!==null;){switch(d=B,m=d.child,d.tag){case 0:case 11:case 14:case 15:Qr(4,d,d.return);break;case 1:Gn(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(y){ce(r,n,y)}}break;case 5:Gn(d,d.return);break;case 22:if(d.memoizedState!==null){Uc(p);continue}}m!==null?(m.return=d,B=m):Uc(p)}u=u.sibling}e:for(u=null,p=t;;){if(p.tag===5){if(u===null){u=p;try{o=p.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yp("display",i))}catch(y){ce(t,t.return,y)}}}else if(p.tag===6){if(u===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(y){ce(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:it(e,t),kt(t),r&4&&_c(t);break;case 21:break;default:it(e,t),kt(t)}}function kt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Qf(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ro(o,""),r.flags&=-33);var s=Hc(t);qa(t,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Hc(t);Ga(t,a,i);break;default:throw Error(O(161))}}catch(l){ce(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sv(t,e,n){B=t,Zf(t)}function Zf(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var o=B,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Ko;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Ie;a=Ko;var c=Ie;if(Ko=i,(Ie=l)&&!c)for(B=o;B!==null;)i=B,l=i.child,i.tag===22&&i.memoizedState!==null?$c(o):l!==null?(l.return=i,B=l):$c(o);for(;s!==null;)B=s,Zf(s),s=s.sibling;B=o,Ko=a,Ie=c}Fc(t)}else o.subtreeFlags&8772&&s!==null?(s.return=o,B=s):Fc(t)}}function Fc(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ie||ki(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:at(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ac(e,s,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ac(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var p=u.dehydrated;p!==null&&ao(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ie||e.flags&512&&Ka(e)}catch(d){ce(e,e.return,d)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function Uc(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function $c(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ki(4,e)}catch(l){ce(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){ce(e,o,l)}}var s=e.return;try{Ka(e)}catch(l){ce(e,s,l)}break;case 5:var i=e.return;try{Ka(e)}catch(l){ce(e,i,l)}}}catch(l){ce(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var Cv=Math.ceil,Xs=Ht.ReactCurrentDispatcher,au=Ht.ReactCurrentOwner,rt=Ht.ReactCurrentBatchConfig,Z=0,we=null,fe=null,Se=0,We=0,qn=ln(0),he=0,ko=null,Rn=0,wi=0,lu=0,Yr=null,je=null,uu=0,mr=1/0,Tt=null,Zs=!1,Va=null,tn=null,Go=!1,Zt=null,Ks=0,Xr=0,Ja=null,Ss=-1,Cs=0;function Oe(){return Z&6?pe():Ss!==-1?Ss:Ss=pe()}function nn(t){return t.mode&1?Z&2&&Se!==0?Se&-Se:iv.transition!==null?(Cs===0&&(Cs=Lp()),Cs):(t=K,t!==0||(t=window.event,t=t===void 0?16:jp(t.type)),t):1}function mt(t,e,n,r){if(50<Xr)throw Xr=0,Ja=null,Error(O(185));Ao(t,n,r),(!(Z&2)||t!==we)&&(t===we&&(!(Z&2)&&(wi|=n),he===4&&Qt(t,Se)),Ue(t,r),n===1&&Z===0&&!(e.mode&1)&&(mr=pe()+500,gi&&un()))}function Ue(t,e){var n=t.callbackNode;ig(t,e);var r=Ms(t,t===we?Se:0);if(r===0)n!==null&&Vu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Vu(n),e===1)t.tag===0?sv(Wc.bind(null,t)):rf(Wc.bind(null,t)),tv(function(){!(Z&6)&&un()}),n=null;else{switch(Mp(r)){case 1:n=Nl;break;case 4:n=bp;break;case 16:n=Ls;break;case 536870912:n=Rp;break;default:n=Ls}n=nm(n,Kf.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Kf(t,e){if(Ss=-1,Cs=0,Z&6)throw Error(O(327));var n=t.callbackNode;if(ir()&&t.callbackNode!==n)return null;var r=Ms(t,t===we?Se:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gs(t,r);else{e=r;var o=Z;Z|=2;var s=qf();(we!==t||Se!==e)&&(Tt=null,mr=pe()+500,En(t,e));do try{Pv();break}catch(a){Gf(t,a)}while(!0);Zl(),Xs.current=s,Z=o,fe!==null?e=0:(we=null,Se=0,e=he)}if(e!==0){if(e===2&&(o=Pa(t),o!==0&&(r=o,e=el(t,o))),e===1)throw n=ko,En(t,0),Qt(t,r),Ue(t,pe()),n;if(e===6)Qt(t,r);else{if(o=t.current.alternate,!(r&30)&&!Ev(o)&&(e=Gs(t,r),e===2&&(s=Pa(t),s!==0&&(r=s,e=el(t,s))),e===1))throw n=ko,En(t,0),Qt(t,r),Ue(t,pe()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:hn(t,je,Tt);break;case 3:if(Qt(t,r),(r&130023424)===r&&(e=uu+500-pe(),10<e)){if(Ms(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Oe(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=za(hn.bind(null,t,je,Tt),e);break}hn(t,je,Tt);break;case 4:if(Qt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var i=31-ft(r);s=1<<i,i=e[i],i>o&&(o=i),r&=~s}if(r=o,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cv(r/1960))-r,10<r){t.timeoutHandle=za(hn.bind(null,t,je,Tt),r);break}hn(t,je,Tt);break;case 5:hn(t,je,Tt);break;default:throw Error(O(329))}}}return Ue(t,pe()),t.callbackNode===n?Kf.bind(null,t):null}function el(t,e){var n=Yr;return t.current.memoizedState.isDehydrated&&(En(t,e).flags|=256),t=Gs(t,e),t!==2&&(e=je,je=n,e!==null&&tl(e)),t}function tl(t){je===null?je=t:je.push.apply(je,t)}function Ev(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!gt(s(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qt(t,e){for(e&=~lu,e&=~wi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ft(e),r=1<<n;t[n]=-1,e&=~r}}function Wc(t){if(Z&6)throw Error(O(327));ir();var e=Ms(t,0);if(!(e&1))return Ue(t,pe()),null;var n=Gs(t,e);if(t.tag!==0&&n===2){var r=Pa(t);r!==0&&(e=r,n=el(t,r))}if(n===1)throw n=ko,En(t,0),Qt(t,e),Ue(t,pe()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hn(t,je,Tt),Ue(t,pe()),null}function cu(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(mr=pe()+500,gi&&un())}}function Ln(t){Zt!==null&&Zt.tag===0&&!(Z&6)&&ir();var e=Z;Z|=1;var n=rt.transition,r=K;try{if(rt.transition=null,K=1,t)return t()}finally{K=r,rt.transition=n,Z=e,!(Z&6)&&un()}}function du(){We=qn.current,te(qn)}function En(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ev(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(Ql(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bs();break;case 3:pr(),te(_e),te(be),eu();break;case 5:Jl(r);break;case 4:pr();break;case 13:te(ae);break;case 19:te(ae);break;case 10:Kl(r.type._context);break;case 22:case 23:du()}n=n.return}if(we=t,fe=t=rn(t.current,null),Se=We=e,he=0,ko=null,lu=wi=Rn=0,je=Yr=null,Sn!==null){for(e=0;e<Sn.length;e++)if(n=Sn[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Sn=null}return t}function Gf(t,e){do{var n=fe;try{if(Zl(),ks.current=Ys,Qs){for(var r=le.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Qs=!1}if(bn=0,ke=me=le=null,Wr=!1,go=0,au.current=null,n===null||n.return===null){he=1,ko=e,fe=null;break}e:{var s=t,i=n.return,a=n,l=e;if(e=Se,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,p=u.tag;if(!(u.mode&1)&&(p===0||p===11||p===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=Lc(i);if(m!==null){m.flags&=-257,Mc(m,i,a,s,e),m.mode&1&&Rc(s,c,e),e=m,l=c;var h=e.updateQueue;if(h===null){var y=new Set;y.add(l),e.updateQueue=y}else h.add(l);break e}else{if(!(e&1)){Rc(s,c,e),pu();break e}l=Error(O(426))}}else if(se&&a.mode&1){var w=Lc(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Mc(w,i,a,s,e),Yl(fr(l,a));break e}}s=l=fr(l,a),he!==4&&(he=2),Yr===null?Yr=[s]:Yr.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Of(s,l,e);Ec(s,v);break e;case 1:a=l;var f=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(tn===null||!tn.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=zf(s,a,e);Ec(s,k);break e}}s=s.return}while(s!==null)}Jf(n)}catch(x){e=x,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function qf(){var t=Xs.current;return Xs.current=Ys,t===null?Ys:t}function pu(){(he===0||he===3||he===2)&&(he=4),we===null||!(Rn&268435455)&&!(wi&268435455)||Qt(we,Se)}function Gs(t,e){var n=Z;Z|=2;var r=qf();(we!==t||Se!==e)&&(Tt=null,En(t,e));do try{Av();break}catch(o){Gf(t,o)}while(!0);if(Zl(),Z=n,Xs.current=r,fe!==null)throw Error(O(261));return we=null,Se=0,he}function Av(){for(;fe!==null;)Vf(fe)}function Pv(){for(;fe!==null&&!qh();)Vf(fe)}function Vf(t){var e=tm(t.alternate,t,We);t.memoizedProps=t.pendingProps,e===null?Jf(t):fe=e,au.current=null}function Jf(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kv(n,e),n!==null){n.flags&=32767,fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,fe=null;return}}else if(n=yv(n,e,We),n!==null){fe=n;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=t}while(e!==null);he===0&&(he=5)}function hn(t,e,n){var r=K,o=rt.transition;try{rt.transition=null,K=1,Tv(t,e,n,r)}finally{rt.transition=o,K=r}return null}function Tv(t,e,n,r){do ir();while(Zt!==null);if(Z&6)throw Error(O(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ag(t,s),t===we&&(fe=we=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Go||(Go=!0,nm(Ls,function(){return ir(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rt.transition,rt.transition=null;var i=K;K=1;var a=Z;Z|=4,au.current=null,xv(t,n),Xf(n,t),Xg(Ma),Os=!!La,Ma=La=null,t.current=n,Sv(n),Vh(),Z=a,K=i,rt.transition=s}else t.current=n;if(Go&&(Go=!1,Zt=t,Ks=o),s=t.pendingLanes,s===0&&(tn=null),tg(n.stateNode),Ue(t,pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Zs)throw Zs=!1,t=Va,Va=null,t;return Ks&1&&t.tag!==0&&ir(),s=t.pendingLanes,s&1?t===Ja?Xr++:(Xr=0,Ja=t):Xr=0,un(),null}function ir(){if(Zt!==null){var t=Mp(Ks),e=rt.transition,n=K;try{if(rt.transition=null,K=16>t?16:t,Zt===null)var r=!1;else{if(t=Zt,Zt=null,Ks=0,Z&6)throw Error(O(331));var o=Z;for(Z|=4,B=t.current;B!==null;){var s=B,i=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(B=c;B!==null;){var u=B;switch(u.tag){case 0:case 11:case 15:Qr(8,u,s)}var p=u.child;if(p!==null)p.return=u,B=p;else for(;B!==null;){u=B;var d=u.sibling,m=u.return;if(Wf(u),u===c){B=null;break}if(d!==null){d.return=m,B=d;break}B=m}}}var h=s.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}B=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,B=i;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qr(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,B=v;break e}B=s.return}}var f=t.current;for(B=f;B!==null;){i=B;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,B=g;else e:for(i=f;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ki(9,a)}}catch(x){ce(a,a.return,x)}if(a===i){B=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,B=k;break e}B=a.return}}if(Z=o,un(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(di,t)}catch{}r=!0}return r}finally{K=n,rt.transition=e}}return!1}function Qc(t,e,n){e=fr(n,e),e=Of(t,e,1),t=en(t,e,1),e=Oe(),t!==null&&(Ao(t,1,e),Ue(t,e))}function ce(t,e,n){if(t.tag===3)Qc(t,t,n);else for(;e!==null;){if(e.tag===3){Qc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tn===null||!tn.has(r))){t=fr(n,t),t=zf(e,t,1),e=en(e,t,1),t=Oe(),e!==null&&(Ao(e,1,t),Ue(e,t));break}}e=e.return}}function Iv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Oe(),t.pingedLanes|=t.suspendedLanes&n,we===t&&(Se&n)===n&&(he===4||he===3&&(Se&130023424)===Se&&500>pe()-uu?En(t,0):lu|=n),Ue(t,e)}function em(t,e){e===0&&(t.mode&1?(e=_o,_o<<=1,!(_o&130023424)&&(_o=4194304)):e=1);var n=Oe();t=Bt(t,e),t!==null&&(Ao(t,e,n),Ue(t,n))}function bv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),em(t,n)}function Rv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),em(t,n)}var tm;tm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_e.current)He=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return He=!1,vv(t,e,n);He=!!(t.flags&131072)}else He=!1,se&&e.flags&1048576&&of(e,_s,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xs(t,e),t=e.pendingProps;var o=ur(e,be.current);sr(e,n),o=nu(null,e,r,t,o,n);var s=ru();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fe(r)?(s=!0,js(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ql(e),o.updater=yi,e.stateNode=o,o._reactInternals=e,Fa(e,r,t,n),e=Wa(null,e,r,!0,s,n)):(e.tag=0,se&&s&&Wl(e),Le(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xs(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=Mv(r),t=at(r,t),o){case 0:e=$a(null,e,r,t,n);break e;case 1:e=Nc(null,e,r,t,n);break e;case 11:e=Oc(null,e,r,t,n);break e;case 14:e=zc(null,e,r,at(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:at(r,o),$a(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:at(r,o),Nc(t,e,r,o,n);case 3:e:{if(jf(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,o=s.element,df(t,e),$s(e,r,null,n);var i=e.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=fr(Error(O(423)),e),e=Dc(t,e,r,n,o);break e}else if(r!==o){o=fr(Error(O(424)),e),e=Dc(t,e,r,n,o);break e}else for(Xe=Jt(e.stateNode.containerInfo.firstChild),Ze=e,se=!0,ct=null,n=uf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cr(),r===o){e=jt(t,e,n);break e}Le(t,e,r,n)}e=e.child}return e;case 5:return pf(e),t===null&&ja(e),r=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,i=o.children,Oa(r,o)?i=null:s!==null&&Oa(r,s)&&(e.flags|=32),Bf(t,e),Le(t,e,i,n),e.child;case 6:return t===null&&ja(e),null;case 13:return Hf(t,e,n);case 4:return Vl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=dr(e,null,r,n):Le(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:at(r,o),Oc(t,e,r,o,n);case 7:return Le(t,e,e.pendingProps,n),e.child;case 8:return Le(t,e,e.pendingProps.children,n),e.child;case 12:return Le(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,i=o.value,V(Fs,r._currentValue),r._currentValue=i,s!==null)if(gt(s.value,i)){if(s.children===o.children&&!_e.current){e=jt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=zt(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ha(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(O(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ha(i,n,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Le(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,sr(e,n),o=ot(o),r=r(o),e.flags|=1,Le(t,e,r,n),e.child;case 14:return r=e.type,o=at(r,e.pendingProps),o=at(r.type,o),zc(t,e,r,o,n);case 15:return Nf(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:at(r,o),xs(t,e),e.tag=1,Fe(r)?(t=!0,js(e)):t=!1,sr(e,n),Mf(e,r,o),Fa(e,r,o,n),Wa(null,e,r,!0,t,n);case 19:return _f(t,e,n);case 22:return Df(t,e,n)}throw Error(O(156,e.tag))};function nm(t,e){return Ip(t,e)}function Lv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(t,e,n,r){return new Lv(t,e,n,r)}function fu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mv(t){if(typeof t=="function")return fu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ml)return 11;if(t===Ol)return 14}return 2}function rn(t,e){var n=t.alternate;return n===null?(n=tt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Es(t,e,n,r,o,s){var i=2;if(r=t,typeof t=="function")fu(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Fn:return An(n.children,o,s,e);case Ll:i=8,o|=8;break;case da:return t=tt(12,n,e,o|2),t.elementType=da,t.lanes=s,t;case pa:return t=tt(13,n,e,o),t.elementType=pa,t.lanes=s,t;case fa:return t=tt(19,n,e,o),t.elementType=fa,t.lanes=s,t;case dp:return xi(n,o,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case up:i=10;break e;case cp:i=9;break e;case Ml:i=11;break e;case Ol:i=14;break e;case Ut:i=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=tt(i,n,e,o),e.elementType=t,e.type=r,e.lanes=s,e}function An(t,e,n,r){return t=tt(7,t,r,e),t.lanes=n,t}function xi(t,e,n,r){return t=tt(22,t,r,e),t.elementType=dp,t.lanes=n,t.stateNode={isHidden:!1},t}function ta(t,e,n){return t=tt(6,t,null,e),t.lanes=n,t}function na(t,e,n){return e=tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ov(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function mu(t,e,n,r,o,s,i,a,l){return t=new Ov(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=tt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ql(s),t}function zv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_n,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rm(t){if(!t)return sn;t=t._reactInternals;e:{if(zn(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(Fe(n))return nf(t,n,e)}return e}function om(t,e,n,r,o,s,i,a,l){return t=mu(n,r,!0,t,o,s,i,a,l),t.context=rm(null),n=t.current,r=Oe(),o=nn(n),s=zt(r,o),s.callback=e??null,en(n,s,o),t.current.lanes=o,Ao(t,o,r),Ue(t,r),t}function Si(t,e,n,r){var o=e.current,s=Oe(),i=nn(o);return n=rm(n),e.context===null?e.context=n:e.pendingContext=n,e=zt(s,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=en(o,e,i),t!==null&&(mt(t,o,i,s),ys(t,o,i)),i}function qs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hu(t,e){Yc(t,e),(t=t.alternate)&&Yc(t,e)}function Nv(){return null}var sm=typeof reportError=="function"?reportError:function(t){console.error(t)};function gu(t){this._internalRoot=t}Ci.prototype.render=gu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Si(t,e,null,null)};Ci.prototype.unmount=gu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ln(function(){Si(null,t,null,null)}),e[Dt]=null}};function Ci(t){this._internalRoot=t}Ci.prototype.unstable_scheduleHydration=function(t){if(t){var e=Np();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wt.length&&e!==0&&e<Wt[n].priority;n++);Wt.splice(n,0,t),n===0&&Bp(t)}};function vu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ei(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xc(){}function Dv(t,e,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=qs(i);s.call(c)}}var i=om(e,r,t,0,null,!1,!1,"",Xc);return t._reactRootContainer=i,t[Dt]=i.current,co(t.nodeType===8?t.parentNode:t),Ln(),i}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=qs(l);a.call(c)}}var l=mu(t,0,!1,null,null,!1,!1,"",Xc);return t._reactRootContainer=l,t[Dt]=l.current,co(t.nodeType===8?t.parentNode:t),Ln(function(){Si(e,l,n,r)}),l}function Ai(t,e,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=qs(i);a.call(l)}}Si(e,i,t,o)}else i=Dv(n,e,t,o,r);return qs(i)}Op=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Dr(e.pendingLanes);n!==0&&(Dl(e,n|1),Ue(e,pe()),!(Z&6)&&(mr=pe()+500,un()))}break;case 13:Ln(function(){var r=Bt(t,1);if(r!==null){var o=Oe();mt(r,t,1,o)}}),hu(t,1)}};Bl=function(t){if(t.tag===13){var e=Bt(t,134217728);if(e!==null){var n=Oe();mt(e,t,134217728,n)}hu(t,134217728)}};zp=function(t){if(t.tag===13){var e=nn(t),n=Bt(t,e);if(n!==null){var r=Oe();mt(n,t,e,r)}hu(t,e)}};Np=function(){return K};Dp=function(t,e){var n=K;try{return K=t,e()}finally{K=n}};Ca=function(t,e,n){switch(e){case"input":if(ga(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=hi(r);if(!o)throw Error(O(90));fp(r),ga(r,o)}}}break;case"textarea":hp(t,n);break;case"select":e=n.value,e!=null&&tr(t,!!n.multiple,e,!1)}};Sp=cu;Cp=Ln;var Bv={usingClientEntryPoint:!1,Events:[To,Qn,hi,wp,xp,cu]},Ir={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jv={bundleType:Ir.bundleType,version:Ir.version,rendererPackageName:Ir.rendererPackageName,rendererConfig:Ir.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pp(t),t===null?null:t.stateNode},findFiberByHostInstance:Ir.findFiberByHostInstance||Nv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{di=qo.inject(jv),At=qo}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bv;Ge.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vu(e))throw Error(O(200));return zv(t,e,null,n)};Ge.createRoot=function(t,e){if(!vu(t))throw Error(O(299));var n=!1,r="",o=sm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=mu(t,1,!1,null,null,n,!1,r,o),t[Dt]=e.current,co(t.nodeType===8?t.parentNode:t),new gu(e)};Ge.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=Pp(e),t=t===null?null:t.stateNode,t};Ge.flushSync=function(t){return Ln(t)};Ge.hydrate=function(t,e,n){if(!Ei(e))throw Error(O(200));return Ai(null,t,e,!0,n)};Ge.hydrateRoot=function(t,e,n){if(!vu(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=sm;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=om(e,null,t,1,n??null,o,!1,s,i),t[Dt]=e.current,co(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Ci(e)};Ge.render=function(t,e,n){if(!Ei(e))throw Error(O(200));return Ai(null,t,e,!1,n)};Ge.unmountComponentAtNode=function(t){if(!Ei(t))throw Error(O(40));return t._reactRootContainer?(Ln(function(){Ai(null,null,t,!1,function(){t._reactRootContainer=null,t[Dt]=null})}),!0):!1};Ge.unstable_batchedUpdates=cu;Ge.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ei(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Ai(t,e,n,!1,r)};Ge.version="18.3.1-next-f1338f8080-20240426";function im(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(im)}catch(t){console.error(t)}}im(),sp.exports=Ge;var am=sp.exports,lm,Zc=am;lm=Zc.createRoot,Zc.hydrateRoot;const Kc=7,Gc="https://app.keytrustee.org",Hv="https://app.keytrustee.org/api/completions",_v="gpt-4o",Fv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDktMTZUMTU6Mzk6MzUtMDQwMCIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjQtMDktMTZUMTU6NDY6MTgtMDQ6MDAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDktMTZUMTU6NDY6MTgtMDQ6MDAiCiAgIHBob3Rvc2hvcDpEYXRlQ3JlYXRlZD0iMjAyNC0wOS0xNlQxNTozOTozNS0wNDAwIgogICBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIgogICBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiCiAgIGV4aWY6UGl4ZWxYRGltZW5zaW9uPSIzMiIKICAgZXhpZjpQaXhlbFlEaW1l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";var Uv=Object.defineProperty,Vo=(t,e,n)=>((r,o,s)=>o in r?Uv(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,typeof e!="symbol"?e+"":e,n);class Yt extends Error{constructor(e={}){super(e.message),Vo(this,"exceptionId"),Vo(this,"message"),Vo(this,"source"),Vo(this,"type"),this.message=e.message??"",this.source=e.source,this.type=this.constructor.name,this.exceptionId=e.exceptionId}}class gn extends Yt{}class Vs extends Yt{}const Me=t=>{typeof t!="string"?t&&typeof t.toString=="function"?console.warn(`[nlux] ${t.toString()}`):console.warn("[nlux]"):console.warn(`[nlux] ${t}`)},qc=[],nl=t=>{qc.includes(t)||(qc.push(t),Me(t))},um=class As{static register(e){const n=e.__compId;n?As.componentDefs.get(n)===void 0&&(e.__renderer&&e.__updater?As.componentDefs.set(n,{id:n,model:e,render:e.__renderer,update:e.__updater}):Me(`Component with id "${n}" missing renderer or updater`)):Me("Component definition missing valid id")}static retrieve(e){const n=As.componentDefs.get(e);if(n)return n;Me(`Component with id "${e}" not registered`)}};um.componentDefs=new Map;let cm=um;btoa("sectionsRegistered")+"";const Ct=t=>{const e=requestAnimationFrame(()=>{t()});return()=>{cancelAnimationFrame(e)}},wo=t=>{t.replaceChildren()},dt=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return(t=="x"?e:3&e|8).toString(16)});class nt{constructor(e,n){this.subComponentElementIds=new Map,this.subComponents=new Map,this.__context=null,this.__destroyed=!1,this.__status="unmounted",this.actionsOnDomReady=[],this.compEventGetter=i=>{if(this.destroyed)return()=>{};const a=this.rendererEventListeners.get(i);if(!a)throw new Yt({source:this.constructor.name,message:`Unable to call renderer event "${i}" because no matching event listener was found. Make sure that the event listener is registered using @CompEventListener() decorator in the component model class, and use class methods instead of arrow function attributes.`});return a};const r=Object.getPrototypeOf(this).constructor.__compId;if(!r)throw new gn({source:this.constructor.name,message:"Unable to instantiate component: missing compId in implementation. Component should be annotated using @Model() to set compId before iy can be instantiated."});if(this.def=cm.retrieve(r)??null,!this.def)throw new gn({source:this.constructor.name,message:`Unable to instantiate component "${r}" because it's not registered. Component should be registered using CompRegistry.register(ComponentClass) before instantiating a component.`});this.__instanceId=dt(),this.__destroyed=!1,this.__context=e,this.renderedDom=null,this.renderingRoot=null,this.props=n;const o=n?Object.entries(n):[];this.elementProps=new Map(o),this.rendererEventListeners=new Map;const s=this.constructor.__compEventListeners;s&&s.forEach((i,a)=>{i.forEach(l=>{const c=Object.getPrototypeOf(this)[l];typeof c=="function"?this.addRendererEventListener(a,c.bind(this)):Me(`Unable to set event listener "${a}" because method "${l}" cannot be found on component "${this.constructor.name} at runtime!"`)})}),this.rendererProps=Object.freeze(n)}get destroyed(){return this.__destroyed}get id(){return this.__instanceId}get rendered(){return this.renderedDom!==null}get root(){return this.throwIfDestroyed(),this.renderedDom&&this.renderingRoot?this.renderingRoot:null}get status(){return this.__status}get context(){if(!this.__context)throw new gn({source:this.constructor.name,message:"Unable to get context because it's not set"});return this.__context}destroy(){this.destroyComponent()}destroyListItemComponent(){this.destroyComponent(!0)}getProp(e){return this.throwIfDestroyed(),this.elementProps.get(e)??null}render(e,n){var i;if(!this.def)return;if(this.destroyed)return void Me(`Unable to render component "${(i=this.def)==null?void 0:i.id}" because it is already destroyed`);if(this.rendered||this.renderedDom)return void Me(`Unable to render component "${this.def.id}" because it is already rendered`);const r=document.createDocumentFragment(),o=Object.getPrototypeOf(this).constructor.__compId,s=this.executeRenderer(r);if(!s)throw new Yt({source:this.constructor.name,message:`Unable to render component "${o}" because renderer returned null`});this.renderedDom=s;for(const[,a]of this.subComponents){const l=this.getSubComponentPortal(a.id);l&&this.mountSubComponentToPortal(a.id,l)}Ct(()=>{this.destroyed||(n?e.insertBefore(r,n):e.append(r),this.renderingRoot=e)})}updateSubComponent(e,n,r){this.throwIfDestroyed();const o=this.subComponents.get(e);o&&!o.destroyed&&o.setProp(n,r)}addSubComponent(e,n,r){if(this.throwIfDestroyed(),this.subComponents.has(e))throw new gn({source:this.constructor.name,message:`Unable to add sub-component "${e}" because it already exists`});if(this.subComponents.set(e,n),r&&this.subComponentElementIds.set(e,r),this.renderedDom){const o=this.getSubComponentPortal(e);o&&this.mountSubComponentToPortal(e,o)}}executeDomAction(e,...n){if(this.throwIfDestroyed(),!this.renderedDom)return void this.actionsOnDomReady.push(()=>this.executeDomAction(e,...n));if(!this.renderingRoot)throw new Yt({source:this.constructor.name,message:"Unable to execute DOM action because renderingRoot is not set"});const r=this.renderedDom.actions[e];if(!r)throw new Yt({source:this.constructor.name,message:`Unable to execute DOM action "${String(e)}" because it does not exist`});return Ct(()=>r(...n))}executeRenderer(e){var o;const n=(o=this.def)==null?void 0:o.render;if(!n)return null;if(this.renderingRoot)throw new Yt({source:this.constructor.name,message:"Unable to render component because renderingRoot is already set"});const r=n({appendToRoot:s=>{e.append(s),this.runDomActionsQueue()},compEvent:this.compEventGetter,props:this.rendererProps,context:this.context});return r&&(this.renderingRoot=e),r}removeSubComponent(e){this.throwIfDestroyed(),Ct(()=>{const n=this.subComponents.get(e);n&&(n.renderingRoot=null,n.destroy(),this.subComponents.delete(e))})}runDomActionsQueue(){if(this.actionsOnDomReady.length>0&&this.rendered){const e=this.actionsOnDomReady;this.actionsOnDomReady=[];for(const n of e)Ct(()=>n())}}setProp(e,n){this.destroyed?Me(`Unable to set prop "${String(e)}" because component "${this.constructor.name}" is destroyed`):this.elementProps.has(e)?(this.schedulePropUpdate(e,this.elementProps.get(e),n),this.props=Object.freeze(Object.fromEntries(this.elementProps)),this.elementProps.set(e,n)):Me(`Unable to set prop "${String(e)}" because it does not exist in the component props`)}throwIfDestroyed(){if(this.__destroyed)throw new gn({source:this.constructor.name,message:"Unable to call method on destroyed component"})}addRendererEventListener(e,n){if(this.throwIfDestroyed(),this.rendererEventListeners.has(e))throw new gn({source:this.constructor.name,message:`Unable to add event listener to rendererEvents "${e}" because it already exists`});this.rendererEventListeners.set(e,n)}destroyComponent(e=!1){if(this.throwIfDestroyed(),this.subComponents.forEach(n=>{n.destroy()}),this.renderedDom){this.renderedDom.elements&&(this.renderedDom.elements=void 0),this.renderedDom.actions&&(this.renderedDom.actions=void 0),this.renderedDom.onDestroy&&this.renderedDom.onDestroy();const n=this.renderingRoot;Ct(()=>{var r;if(n)if(n instanceof DocumentFragment)for(;n.firstChild;)n.removeChild(n.firstChild);else e?(r=n.parentElement)==null||r.removeChild(n):wo(n)}),this.renderedDom=null,this.renderingRoot=null}this.__destroyed=!0,this.__context=null,this.props=void 0,this.elementProps.clear(),this.rendererEventListeners.clear(),this.subComponents.clear()}getSubComponentPortal(e){var s;const n=this.subComponents.get(e),r=this.subComponentElementIds.get(e);if(!n||!r)return null;const o=((s=this.renderedDom)==null?void 0:s.elements)[r];return o instanceof HTMLElement?o:null}mountSubComponentToPortal(e,n){const r=this.subComponents.get(e);r==null||r.render(n)}schedulePropUpdate(e,n,r){var a;if(!this.renderedDom||!((a=this.def)!=null&&a.update))return;const o=this.renderedDom,s=this.renderingRoot,i=this.def.update;s&&Ct(()=>{i({propName:e,currentValue:n,newValue:r,dom:{root:s,elements:o.elements,actions:o.actions},updateSubComponent:this.updateSubComponent})})}}nt.__compEventListeners=null,nt.__compId=null,nt.__renderer=null,nt.__updater=null;const cn=(t,e,n)=>r=>{r.__compId=t,r.__renderer=e,r.__updater=n},pt=t=>(e,n)=>{const r=e;if(typeof r.constructor!="function")throw new gn({source:"CallbackFor",message:"@CallbackFor can only be used on methods of a class!"});r.constructor.hasOwnProperty("__compEventListeners")&&r.constructor.__compEventListeners!==null||(r.constructor.__compEventListeners=new Map);const o=r.constructor.__compEventListeners,s=o.get(t);s?s.push(n):o.set(t,[n])},dm=(t,e)=>{const n=document.createElement("div");if(n.classList.add("nlux-comp-avatarContainer"),t){const r=document.createElement("div");r.classList.add("nlux-comp-avatarPicture"),r.style.backgroundImage=`url("${encodeURI(t)}")`,n.append(r)}return n},yu="nlux-comp-avatar",ku=t=>{const e=document.createElement("div");return e.classList.add(yu),t.avatar||t.name?(t.name&&(e.title=t.name),t.avatar&&t.avatar instanceof HTMLElement?(e.append(t.avatar.cloneNode(!0)),e):(e.append(dm(t.avatar)),e)):e},Jo={received:"nlux_msg_received",sent:"nlux_msg_sent"},pm=(t,e)=>{Object.keys(Jo).forEach(n=>{t.classList.remove(Jo[n])}),Jo[e]&&t.classList.add(Jo[e])},jr={streaming:"nlux_msg_streaming",complete:"nlux_msg_complete"},fm=(t,e)=>{Object.keys(jr).forEach(n=>{t.classList.remove(jr[n])}),jr[e]&&t.classList.add(jr[e])},Vc=t=>{if(!(t instanceof HTMLButtonElement)||t.dataset.clickListenerSet==="true")return;let e=!1;const n=t.nextElementSibling;t.addEventListener("click",()=>{if(e||!n)return;const r=n.innerText;navigator.clipboard.writeText(r??""),e=!0,t.classList.add("clicked"),setTimeout(()=>{e=!1,t.classList.remove("clicked")},1e3)}),t.dataset.clickListenerSet="true"},mm=t=>{const e="nlux-comp-copyButton";t instanceof HTMLButtonElement&&t.classList.contains(e)?Vc(t):t.querySelectorAll(`.${e}`).forEach(Vc)};function $v(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Nn={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Jc(t){Nn=t}var Wv=Object.defineProperty,hm=(t,e,n)=>((r,o,s)=>o in r?Wv(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,typeof e!="symbol"?e+"":e,n);let Zr=class{constructor(e){hm(this,"options"),this.options=e||Nn}postprocess(e){return e}preprocess(e){return e}processAllTokens(e){return e}};hm(Zr,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));const gm=/[&<>"']/,Qv=new RegExp(gm.source,"g"),vm=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Yv=new RegExp(vm.source,"g"),Xv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ed=t=>Xv[t];function Qe(t,e){if(e){if(gm.test(t))return t.replace(Qv,ed)}else if(vm.test(t))return t.replace(Yv,ed);return t}const Zv=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Kv(t){return t.replace(Zv,(e,n)=>(n=n.toLowerCase())==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):"")}const Gv=/(^|[^\[])\^/g;function G(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const r={replace:(o,s)=>{let i=typeof s=="string"?s:s.source;return i=i.replace(Gv,"$1"),n=n.replace(o,i),r},getRegex:()=>new RegExp(n,e)};return r}function td(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Kr={exec:()=>null};function nd(t,e){const n=t.replace(/\|/g,(o,s,i)=>{let a=!1,l=s;for(;--l>=0&&i[l]==="\\";)a=!a;return a?"|":" |"}).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function es(t,e,n){const r=t.length;if(r===0)return"";let o=0;for(;o<r;){const s=t.charAt(r-o-1);if(s!==e||n){if(s===e||!n)break;o++}else o++}return t.slice(0,r-o)}const bo=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ym=/(?:[*+-]|\d{1,9}[.)])/,km=G(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ym).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),wu=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,xu=/(?!\s*\])(?:\\.|[^\[\]\\])+/,qv=G(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",xu).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Vv=G(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ym).getRegex(),Pi="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Su=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Jv=G("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Su).replace("tag",Pi).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),rd=G(wu).replace("hr",bo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pi).getRegex(),Cu={blockquote:G(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",rd).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:qv,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:bo,html:Jv,lheading:km,list:Vv,newline:/^(?: *(?:\n|$))+/,paragraph:rd,table:Kr,text:/^[^\n]+/},od=G("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",bo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pi).getRegex(),ey={...Cu,table:od,paragraph:G(wu).replace("hr",bo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",od).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Pi).getRegex()},ty={...Cu,html:G(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Su).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Kr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:G(wu).replace("hr",bo).replace("heading",` *#{1,6} *[^
]`).replace("lheading",km).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},wm=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,xm=/^( {2,}|\\)\n(?!\s*$)/,Ro="\\p{P}\\p{S}",ny=G(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Ro).getRegex(),ry=G(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Ro).getRegex(),oy=G("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Ro).getRegex(),sy=G("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Ro).getRegex(),iy=G(/\\([punct])/,"gu").replace(/punct/g,Ro).getRegex(),ay=G(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ly=G(Su).replace("(?:-->|$)","-->").getRegex(),uy=G("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ly).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Js=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,cy=G(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Js).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),sd=G(/^!?\[(label)\]\[(ref)\]/).replace("label",Js).replace("ref",xu).getRegex(),id=G(/^!?\[(ref)\](?:\[\])?/).replace("ref",xu).getRegex(),Eu={_backpedal:Kr,anyPunctuation:iy,autolink:ay,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:xm,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Kr,emStrongLDelim:ry,emStrongRDelimAst:oy,emStrongRDelimUnd:sy,escape:wm,link:cy,nolink:id,punctuation:ny,reflink:sd,reflinkSearch:G("reflink|nolink(?!\\()","g").replace("reflink",sd).replace("nolink",id).getRegex(),tag:uy,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Kr},dy={...Eu,link:G(/^!?\[(label)\]\((.*?)\)/).replace("label",Js).getRegex(),reflink:G(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Js).getRegex()},rl={...Eu,escape:G(wm).replace("])","~|])").getRegex(),url:G(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},py={...rl,br:G(xm).replace("{2,}","*").getRegex(),text:G(rl.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ts={normal:Cu,gfm:ey,pedantic:ty},br={normal:Eu,gfm:rl,breaks:py,pedantic:dy};var fy=Object.defineProperty,ra=(t,e,n)=>((r,o,s)=>o in r?fy(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,typeof e!="symbol"?e+"":e,n);function ad(t,e,n,r){const o=e.href,s=e.title?Qe(e.title):null,i=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:o,title:s,text:i,tokens:r.inlineTokens(i)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:o,title:s,text:Qe(i)}}let ei=class{constructor(e){ra(this,"lexer"),ra(this,"options"),ra(this,"rules"),this.options=e||Nn}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,o;return n[2]==="@"?(r=Qe(n[1]),o="mailto:"+r):(r=Qe(n[1]),o=r),{type:"link",raw:n[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=n[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=es(r.replace(/^ *>[ \t]?/gm,""),`
`);const o=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:n[0],tokens:s,text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:es(r,`
`)}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const o=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return o&&s&&(r=r.substring(1,r.length-1)),r=Qe(r,!0),{type:"codespan",raw:n[0],text:r}}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),o=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:o,title:s}}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}emStrong(e,n,r=""){let o=this.rules.inline.emStrongLDelim.exec(e);if(o&&!(o[3]&&r.match(/[\p{L}\p{N}]/u))&&(!(o[1]||o[2])||!r||this.rules.inline.punctuation.exec(r))){const s=[...o[0]].length-1;let i,a,l=s,c=0;const u=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,n=n.slice(-1*e.length+s);(o=u.exec(n))!=null;){if(i=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!i)continue;if(a=[...i].length,o[3]||o[4]){l+=a;continue}if((o[5]||o[6])&&s%3&&!((s+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);const p=[...o[0]][0].length,d=e.slice(0,s+o.index+p+a);if(Math.min(s,a)%2){const h=d.slice(1,-1);return{type:"em",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}const m=d.slice(2,-2);return{type:"strong",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Qe(n[1])}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],o=function(s,i){const a=s.match(/^(\s+)(?:```)/);if(a===null)return i;const l=a[1];return i.split(`
`).map(c=>{const u=c.match(/^\s+/);if(u===null)return c;const[p]=u;return p.length>=l.length?c.slice(l.length):c}).join(`
`)}(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:o}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const o=es(r,"#");this.options.pedantic?r=o.trim():o&&!/ $/.test(o)||(r=o.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let r;return r=this.lexer.state.inRawBlock?n[0]:Qe(n[0]),{type:"text",raw:n[0],text:r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const i=es(r.slice(0,-1),"\\");if((r.length-i.length)%2==0)return}else{const i=function(a,l){if(a.indexOf(l[1])===-1)return-1;let c=0;for(let u=0;u<a.length;u++)if(a[u]==="\\")u++;else if(a[u]===l[0])c++;else if(a[u]===l[1]&&(c--,c<0))return u;return-1}(n[2],"()");if(i>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+i;n[2]=n[2].substring(0,i),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let o=n[2],s="";if(this.options.pedantic){const i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);i&&(o=i[1],s=i[3])}else s=n[3]?n[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),ad(n,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const o=r.length>1,s={type:"list",raw:"",ordered:o,start:o?+r.slice(0,-1):"",loose:!1,items:[]};r=o?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=o?r:"[*+-]");const i=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;e;){let u=!1;if(!(n=i.exec(e))||this.rules.block.hr.test(e))break;a=n[0],e=e.substring(a.length);let p=n[2].split(`
`,1)[0].replace(/^\t+/,v=>" ".repeat(3*v.length)),d=e.split(`
`,1)[0],m=0;this.options.pedantic?(m=2,l=p.trimStart()):(m=n[2].search(/[^ ]/),m=m>4?1:m,l=p.slice(m),m+=n[1].length);let h=!1;if(!p&&/^ *$/.test(d)&&(a+=d+`
`,e=e.substring(d.length+1),u=!0),!u){const v=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),f=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),g=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){const x=e.split(`
`,1)[0];if(d=x,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),g.test(d)||k.test(d)||v.test(d)||f.test(e))break;if(d.search(/[^ ]/)>=m||!d.trim())l+=`
`+d.slice(m);else{if(h||p.search(/[^ ]/)>=4||g.test(p)||k.test(p)||f.test(p))break;l+=`
`+d}h||d.trim()||(h=!0),a+=x+`
`,e=e.substring(x.length+1),p=d.slice(m)}}s.loose||(c?s.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let y,w=null;this.options.gfm&&(w=/^\[[ xX]\] /.exec(l),w&&(y=w[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:a,task:!!w,checked:y,loose:!1,text:l,tokens:[]}),s.raw+=a}s.items[s.items.length-1].raw=a.trimEnd(),s.items[s.items.length-1].text=l.trimEnd(),s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){const p=s.items[u].tokens.filter(m=>m.type==="space"),d=p.length>0&&p.some(m=>/\n.*\n/.test(m.raw));s.loose=d}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const o=n[(r[2]||r[1]).replace(/\s+/g," ").toLowerCase()];if(!o){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return ad(r,o,r[0],this.lexer)}}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const r=nd(n[1]),o=n[2].replace(/^\||\| *$/g,"").split("|"),s=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],i={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===o.length){for(const a of o)/^ *-+: *$/.test(a)?i.align.push("right"):/^ *:-+: *$/.test(a)?i.align.push("center"):/^ *:-+ *$/.test(a)?i.align.push("left"):i.align.push(null);for(const a of r)i.header.push({text:a,tokens:this.lexer.inline(a)});for(const a of s)i.rows.push(nd(a,i.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return i}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}url(e){var r;let n;if(n=this.rules.inline.url.exec(e)){let o,s;if(n[2]==="@")o=Qe(n[0]),s="mailto:"+o;else{let i;do i=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(i!==n[0]);o=Qe(n[0]),s=n[1]==="www."?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:o,href:s,tokens:[{type:"text",raw:o,text:o}]}}}};var my=Object.defineProperty,Rr=(t,e,n)=>((r,o,s)=>o in r?my(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,typeof e!="symbol"?e+"":e,n);let Vn=class ol{constructor(e){Rr(this,"options"),Rr(this,"state"),Rr(this,"tokens"),Rr(this,"inlineQueue"),Rr(this,"tokenizer"),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Nn,this.options.tokenizer=this.options.tokenizer||new ei,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:ts.normal,inline:br.normal};this.options.pedantic?(n.block=ts.pedantic,n.inline=br.pedantic):this.options.gfm&&(n.block=ts.gfm,this.options.breaks?n.inline=br.breaks:n.inline=br.gfm),this.tokenizer.rules=n}static get rules(){return{block:ts,inline:br}}static lex(e,n){return new ol(n).lex(e)}static lexInline(e,n){return new ol(n).inlineTokens(e)}blockTokens(e,n=[]){let r,o,s,i;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,n))&&(e=e.substring(r.raw.length),n.push(r),!0))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),o=n[n.length-1],!o||o.type!=="paragraph"&&o.type!=="text"?n.push(r):(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.list(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.def(e))e=e.substring(r.raw.length),o=n[n.length-1],!o||o.type!=="paragraph"&&o.type!=="text"?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+=`
`+r.raw,o.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),n.push(r);else{if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s)))o=n[n.length-1],i&&o.type==="paragraph"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r),i=s.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),o=n[n.length-1],o&&o.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r);else if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,o,s,i,a,l,c=e;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)c=c.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(c))!=null;)c=c.slice(0,i.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(l=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>!!(r=u.call({lexer:this},e,n))&&(e=e.substring(r.raw.length),n.push(r),!0))))if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.tag(e))e=e.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);else if(r=this.tokenizer.emStrong(e,c,l))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.autolink(e))e=e.substring(r.raw.length),n.push(r);else if(this.state.inLink||!(r=this.tokenizer.url(e))){if(s=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const p=e.slice(1);let d;this.options.extensions.startInline.forEach(m=>{d=m.call({lexer:this},p),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(r=this.tokenizer.inlineText(s))e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(l=r.raw.slice(-1)),a=!0,o=n[n.length-1],o&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);else if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}}else e=e.substring(r.raw.length),n.push(r);return n}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}};var hy=Object.defineProperty,gy=(t,e,n)=>((r,o,s)=>o in r?hy(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,e+"",n);let ti=class{constructor(e){gy(this,"options"),this.options=e||Nn}blockquote(e){return`<blockquote>
${e}</blockquote>
`}br(){return"<br>"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}code(e,n,r){var s;const o=(s=(n||"").match(/^\S*/))==null?void 0:s[0];return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="language-'+Qe(o)+'">'+(r?e:Qe(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Qe(e,!0))+`</code></pre>
`}codespan(e){return`<code>${e}</code>`}del(e){return`<del>${e}</del>`}em(e){return`<em>${e}</em>`}heading(e,n,r){return`<h${n}>${e}</h${n}>
`}hr(){return`<hr>
`}html(e,n){return e}image(e,n,r){const o=td(e);if(o===null)return r;let s=`<img src="${e=o}" alt="${r}"`;return n&&(s+=` title="${n}"`),s+=">",s}link(e,n,r){const o=td(e);if(o===null)return r;let s='<a href="'+(e=o)+'"';return n&&(s+=' title="'+n+'"'),s+=">"+r+"</a>",s}list(e,n,r){const o=n?"ol":"ul";return"<"+o+(n&&r!==1?' start="'+r+'"':"")+`>
`+e+"</"+o+`>
`}listitem(e,n,r){return`<li>${e}</li>
`}paragraph(e){return`<p>${e}</p>
`}strong(e){return`<strong>${e}</strong>`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}tablerow(e){return`<tr>
${e}</tr>
`}text(e){return e}},Au=class{br(){return""}codespan(e){return e}del(e){return e}em(e){return e}html(e){return e}image(e,n,r){return""+r}link(e,n,r){return""+r}strong(e){return e}text(e){return e}};var vy=Object.defineProperty,oa=(t,e,n)=>((r,o,s)=>o in r?vy(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,typeof e!="symbol"?e+"":e,n);let Jn=class sl{constructor(e){oa(this,"options"),oa(this,"renderer"),oa(this,"textRenderer"),this.options=e||Nn,this.options.renderer=this.options.renderer||new ti,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Au}static parse(e,n){return new sl(n).parse(e)}static parseInline(e,n){return new sl(n).parseInline(e)}parse(e,n=!0){let r="";for(let o=0;o<e.length;o++){const s=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const i=s,a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(i.type)){r+=a||"";continue}}switch(s.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":{const i=s;r+=this.renderer.heading(this.parseInline(i.tokens),i.depth,Kv(this.parseInline(i.tokens,this.textRenderer)));continue}case"code":{const i=s;r+=this.renderer.code(i.text,i.lang,!!i.escaped);continue}case"table":{const i=s;let a="",l="";for(let u=0;u<i.header.length;u++)l+=this.renderer.tablecell(this.parseInline(i.header[u].tokens),{header:!0,align:i.align[u]});a+=this.renderer.tablerow(l);let c="";for(let u=0;u<i.rows.length;u++){const p=i.rows[u];l="";for(let d=0;d<p.length;d++)l+=this.renderer.tablecell(this.parseInline(p[d].tokens),{header:!1,align:i.align[d]});c+=this.renderer.tablerow(l)}r+=this.renderer.table(a,c);continue}case"blockquote":{const i=s,a=this.parse(i.tokens);r+=this.renderer.blockquote(a);continue}case"list":{const i=s,a=i.ordered,l=i.start,c=i.loose;let u="";for(let p=0;p<i.items.length;p++){const d=i.items[p],m=d.checked,h=d.task;let y="";if(d.task){const w=this.renderer.checkbox(!!m);c?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=w+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=w+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:w+" "}):y+=w+" "}y+=this.parse(d.tokens,c),u+=this.renderer.listitem(y,h,!!m)}r+=this.renderer.list(u,a,l);continue}case"html":{const i=s;r+=this.renderer.html(i.text,i.block);continue}case"paragraph":{const i=s;r+=this.renderer.paragraph(this.parseInline(i.tokens));continue}case"text":{let i=s,a=i.tokens?this.parseInline(i.tokens):i.text;for(;o+1<e.length&&e[o+1].type==="text";)i=e[++o],a+=`
`+(i.tokens?this.parseInline(i.tokens):i.text);r+=n?this.renderer.paragraph(a):a;continue}default:{const i='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return r}parseInline(e,n){n=n||this.renderer;let r="";for(let o=0;o<e.length;o++){const s=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const i=this.options.extensions.renderers[s.type].call({parser:this},s);if(i!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=i||"";continue}}switch(s.type){case"escape":{const i=s;r+=n.text(i.text);break}case"html":{const i=s;r+=n.html(i.text);break}case"link":{const i=s;r+=n.link(i.href,i.title,this.parseInline(i.tokens,n));break}case"image":{const i=s;r+=n.image(i.href,i.title,i.text);break}case"strong":{const i=s;r+=n.strong(this.parseInline(i.tokens,n));break}case"em":{const i=s;r+=n.em(this.parseInline(i.tokens,n));break}case"codespan":{const i=s;r+=n.codespan(i.text);break}case"br":r+=n.br();break;case"del":{const i=s;r+=n.del(this.parseInline(i.tokens,n));break}case"text":{const i=s;r+=n.text(i.text);break}default:{const i='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return r}};var Gr,ld,il,yy=Object.defineProperty,Sm=t=>{throw TypeError(t)},wt=(t,e,n)=>((r,o,s)=>o in r?yy(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,typeof e!="symbol"?e+"":e,n),al=(t,e,n)=>(((r,o,s)=>{o.has(r)||Sm("Cannot "+s)})(t,e,"access private method"),n);Gr=new WeakSet,ld=function(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const r="<p>An error occurred:</p><pre>"+Qe(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}},il=function(t,e){return(n,r)=>{const o={...r},s={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const i=al(this,Gr,ld).call(this,!!s.silent,!!s.async);if(n==null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(a=>t(a,s)).then(a=>s.hooks?s.hooks.processAllTokens(a):a).then(a=>s.walkTokens?Promise.all(this.walkTokens(a,s.walkTokens)).then(()=>a):a).then(a=>e(a,s)).then(a=>s.hooks?s.hooks.postprocess(a):a).catch(i);try{s.hooks&&(n=s.hooks.preprocess(n));let a=t(n,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let l=e(a,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(a){return i(a)}}};const vn=new class{constructor(...t){var e,n,r;e=this,(n=Gr).has(e)?Sm("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,r),wt(this,"Hooks",Zr),wt(this,"Lexer",Vn),wt(this,"Parser",Jn),wt(this,"Renderer",ti),wt(this,"TextRenderer",Au),wt(this,"Tokenizer",ei),wt(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),wt(this,"options",this.setOptions),wt(this,"parse",al(this,Gr,il).call(this,Vn.lex,Jn.parse)),wt(this,"parseInline",al(this,Gr,il).call(this,Vn.lexInline,Jn.parseInline)),this.use(...t)}lexer(t,e){return Vn.lex(t,e??this.defaults)}parser(t,e){return Jn.parse(t,e??this.defaults)}setOptions(t){return this.defaults={...this.defaults,...t},this}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=e.renderers[o.name];e.renderers[o.name]=s?function(...i){let a=o.renderer.apply(this,i);return a===!1&&(a=s.apply(this,i)),a}:o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=e[o.level];s?s.unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&(o.level==="block"?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:o.level==="inline"&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),n.renderer){const o=this.defaults.renderer||new ti(this.defaults);for(const s in n.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(s==="options")continue;const i=s,a=n.renderer[i],l=o[i];o[i]=(...c)=>{let u=a.apply(o,c);return u===!1&&(u=l.apply(o,c)),u||""}}r.renderer=o}if(n.tokenizer){const o=this.defaults.tokenizer||new ei(this.defaults);for(const s in n.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const i=s,a=n.tokenizer[i],l=o[i];o[i]=(...c)=>{let u=a.apply(o,c);return u===!1&&(u=l.apply(o,c)),u}}r.tokenizer=o}if(n.hooks){const o=this.defaults.hooks||new Zr;for(const s in n.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const i=s,a=n.hooks[i],l=o[i];Zr.passThroughHooks.has(s)?o[i]=c=>{if(this.defaults.async)return Promise.resolve(a.call(o,c)).then(p=>l.call(o,p));const u=a.call(o,c);return l.call(o,u)}:o[i]=(...c)=>{let u=a.apply(o,c);return u===!1&&(u=l.apply(o,c)),u}}r.hooks=o}if(n.walkTokens){const o=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(i){let a=[];return a.push(s.call(this,i)),o&&(a=a.concat(o.call(this,i))),a}}this.defaults={...this.defaults,...r}}),this}walkTokens(t,e){var r,o;let n=[];for(const s of t)switch(n=n.concat(e.call(this,s)),s.type){case"table":{const i=s;for(const a of i.header)n=n.concat(this.walkTokens(a.tokens,e));for(const a of i.rows)for(const l of a)n=n.concat(this.walkTokens(l.tokens,e));break}case"list":{const i=s;n=n.concat(this.walkTokens(i.items,e));break}default:{const i=s;(o=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&o[i.type]?this.defaults.extensions.childTokens[i.type].forEach(a=>{const l=i[a].flat(1/0);n=n.concat(this.walkTokens(l,e))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,e)))}}return n}};function re(t,e){return vn.parse(t,e)}re.options=re.setOptions=function(t){return vn.setOptions(t),re.defaults=vn.defaults,Jc(re.defaults),re},re.getDefaults=$v,re.defaults=Nn,re.use=function(...t){return vn.use(...t),re.defaults=vn.defaults,Jc(re.defaults),re},re.walkTokens=function(t,e){return vn.walkTokens(t,e)},re.parseInline=vn.parseInline,re.Parser=Jn,re.parser=Jn.parse,re.Renderer=ti,re.TextRenderer=Au,re.Lexer=Vn,re.lexer=Vn.lex,re.Tokenizer=ei,re.Hooks=Zr,re.parse=re;const Cm=(t,e)=>{const{showCodeBlockCopyButton:n,markdownLinkTarget:r,syntaxHighlighter:o,htmlSanitizer:s}=e||{},i=re(t,{async:!1,breaks:!0});if(typeof i!="string")throw new Error("Markdown parsing failed");const a=document.createElement("div");return a.innerHTML=s?s(i):i,a.querySelectorAll("pre").forEach(l=>{const c=document.createElement("div");c.className="code-block";const u=l.querySelector("code");if(!u){const h=l.innerHTML;return c.innerHTML=s?s(h):h,void l.replaceWith(c)}let p;for(let h=0;h<u.classList.length;h++){const y=u.classList[h];if(y.startsWith("language-")){p=y.slice(9);break}}const d=document.createElement("pre"),m="<div>"+u.innerHTML+"</div>";if(d.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(m):m,p&&(d.setAttribute("data-language",p),o)){const h="<div>"+o.createHighlighter()(u.textContent||"",p)+"</div>";d.innerHTML=s?s(h):h,d.className="highlighter-dark"}wo(c),c.appendChild(d),l.replaceWith(c)}),n!==!1&&a.querySelectorAll(".code-block").forEach(l=>{var d;if(!l.querySelector("pre")||(d=l.previousElementSibling)!=null&&d.classList.contains("nlux-comp-copyButton"))return;const c="Copy code block to clipboard",u=document.createElement("button");u.classList.add("nlux-comp-copyButton"),u.setAttribute("aria-label",c),u.setAttribute("title",c);const p=document.createElement("span");p.classList.add("icon-copy"),u.appendChild(p),l.appendChild(u)}),r!=="self"&&a.querySelectorAll("a").forEach(l=>{l.setAttribute("target","_blank")}),a.innerHTML},Em=(t,e="text",n)=>{if(e==="markdown"){const r=document.createElement("div"),o=Cm(t,n);r.innerHTML=n!=null&&n.htmlSanitizer?n.htmlSanitizer(o):o,mm(r);const s=document.createDocumentFragment();for(;r.firstChild;)s.appendChild(r.firstChild);return s}return document.createTextNode(t)},Am="nlux-comp-message",ns={received:"nlux-comp-chatItem--received",sent:"nlux-comp-chatItem--sent"},Pm=(t,e)=>{Object.keys(ns).forEach(n=>{t.classList.remove(ns[n])}),ns[e]&&t.classList.add(ns[e])},rs={bubbles:"nlux-comp-chatItem--bubblesLayout",list:"nlux-comp-chatItem--listLayout"},Tm=(t,e)=>{Object.keys(rs).forEach(n=>{t.classList.remove(rs[n])}),rs[e]&&t.classList.add(rs[e])},Im="nlux-comp-chatItem-participantInfo",bm="nlux-comp-chatItem-participantName",ky=t=>{const e=document.createElement("div");e.classList.add("nlux-comp-chatItem");const n={direction:t.direction,status:t.status,message:t.message,htmlSanitizer:t.htmlSanitizer};let r;if(t.avatar!==void 0){const i={name:t.name,avatar:t.avatar};r=ku(i)}const o=document.createElement("span");o.classList.add(bm),o.textContent=t.name;{const i=document.createElement("div");i.classList.add(Im),r!==void 0&&i.append(r),i.append(o),e.append(i)}Pm(e,t.direction),Tm(e,t.layout);const s=(i=>{const a=document.createElement("div");a.classList.add(Am);const l=i.status?i.status:"complete";return fm(a,l),pm(a,i.direction),a})(n);return e.append(s),e},ud=(t,e,n)=>{if(e.name!==n.name&&typeof n.avatar=="string"){const r=n.name&&n.name.length>0?n.name[0].toUpperCase():"",o=t.querySelector("* > .nlux-comp-avatarContainer > .avtr_ltr");o==null||o.replaceChildren(r)}},Rm=(t,e,n)=>{e.avatar===n.avatar&&e.name===n.name||(e.avatar!==n.avatar&&((r,o,s)=>{if(o.avatar!==s.avatar)if(typeof s.avatar=="string"&&typeof o.avatar=="string"){const i=r.querySelector("* > .nlux-comp-avatarContainer > .nlux-comp-avatarPicture");i!==null&&(i.style.backgroundImage=`url("${encodeURI(s.avatar)}")`)}else if(typeof s.avatar=="string"){const i=dm(s.avatar);r.replaceChildren(i)}else s.avatar?r.replaceChildren(s.avatar.cloneNode(!0)):wo(r)})(t,e,n),n.name?e.name!==n.name&&(t.title=n.name,ud(t,e,n)):(t.title="",ud(t,e,n)))},wy=(t,e,n)=>{if(e.message===n.message&&e.status===n.status&&e.direction===n.direction||!n||!n.hasOwnProperty("message")&&!n.hasOwnProperty("status")&&!n.hasOwnProperty("direction"))return;e.direction!==n.direction&&pm(t,n.direction);const r=n.status;if(e.status!==r)return fm(t,n.status),void((o,s,i)=>{const a=i.status;if(a!=="streaming"&&a==="complete"){const l=i.message?i.message:"",c=document.createTextNode(l);o.classList.add(jr[a]),wo(o),o.append(c)}})(t,0,n);r==="complete"&&(e.message===n.message&&e.format===n.format||((o,s,i)=>{s.message===i.message&&s.format===i.format||(wo(o),o.append(Em(i.message??"",i.format,{htmlSanitizer:i.htmlSanitizer})))})(t,e,n))},xy=(t,e)=>{let n=!1;const{onComplete:r}=e||{},o=[],s=(e!=null&&e.skipStreamingAnimation?"timeout":"animationFrame")=="timeout"?p=>setTimeout(p,0):p=>requestAnimationFrame(p),i=document.createElement("div");i.classList.add("md-in-progress"),t.append(i);const a=()=>{for(;i.firstChild;){const p=i.firstChild;p instanceof HTMLElement&&mm(p),i.before(p)}},l=!(e!=null&&e.skipStreamingAnimation)&&(e!=null&&e.streamingAnimationSpeed)&&e.streamingAnimationSpeed>=0?e.streamingAnimationSpeed:e!=null&&e.skipStreamingAnimation?0:8,c={timeSinceLastProcessing:new Date().getTime(),currentMarkdown:"",previousHtml:void 0};let u=setInterval(()=>{const p=new Date().getTime(),d=(e==null?void 0:e.waitTimeBeforeStreamCompletion)!=="never";if(o.length===0&&d){const h=typeof(e==null?void 0:e.waitTimeBeforeStreamCompletion)=="number"?e.waitTimeBeforeStreamCompletion:2e3;return void((n||p-c.timeSinceLastProcessing>h)&&(n=!0,u&&(clearInterval(u),u=void 0),a(),i.remove(),r==null?void 0:r()))}c.timeSinceLastProcessing=p;const m=o.shift();m!==void 0&&typeof m=="string"&&s(()=>{const h=c.currentMarkdown+m,y=Cm(h,e).trim();if(typeof y!="string")return c.currentMarkdown=c.currentMarkdown.slice(0,-m.length),void Me("Markdown parsing failed");if(c.previousHtml&&y.length>c.previousHtml.length&&y.startsWith(c.previousHtml)){a();const w=y.slice(c.previousHtml.length).trim();i.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(w):w,c.currentMarkdown=m,c.previousHtml=void 0}else i.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(y):y,c.currentMarkdown=h,c.previousHtml=y})},l);return{next:p=>{if(n)Me("Stream is already complete. No more chunks can be added");else for(const d of p)o.push(d)},complete:()=>{o.push(`
`),n=!0},cancel:()=>{u&&(clearInterval(u),u=void 0),n=!0,i.remove()},error:()=>{n=!0}}},cd="dom/getElement";var Sy=Object.defineProperty,Cy=Object.getOwnPropertyDescriptor,dd=(t,e,n,r)=>{for(var o,s=r>1?void 0:r?Cy(e,n):e,i=t.length-1;i>=0;i--)(o=t[i])&&(s=(r?o(e,n,s):o(s))||s);return r&&s&&Sy(e,n,s),s};let Ps=class extends nt{constructor(e,n){super(e,n),this.serverResponse=[],this.stringContent="",n.domProps.message!==void 0&&(this.stringContent=n.domProps.message)}addChunk(e,n){this.throwIfDestroyed(),this.executeDomAction("processStreamedChunk",e),typeof e=="string"&&(this.stringContent+=e),this.serverResponse.push(n)}commitChunks(){this.throwIfDestroyed(),this.executeDomAction("commitStreamedChunks")}getChatSegmentItem(){return this.getProp("domProps").direction==="received"?{uid:this.props.uid,participantRole:"assistant",content:this.getItemContent(),contentType:"text",serverResponse:this.serverResponse,status:"complete",dataTransferMode:"batch",time:new Date}:{uid:this.props.uid,participantRole:"user",content:this.getItemContent(),contentType:"text",status:"complete",time:new Date}}getItemContent(){return this.aiMessageContent??this.stringContent}updateDomProps(e){const n=this.getProp("domProps"),r={...n,...e};this.setProp("domProps",r),this.executeDomAction("updateDomProps",n,r)}updateMarkdownStreamRenderer(e,n){if(this.setProp(e,n),e==="syntaxHighlighter"){const r=n;this.executeDomAction("updateMarkdownStreamRenderer",{syntaxHighlighter:r})}if(e==="htmlSanitizer"){const r=n;this.executeDomAction("updateMarkdownStreamRenderer",{htmlSanitizer:r})}}onMarkdownStreamComplete(e){this.context.emit("messageRendered",{uid:this.props.uid})}};dd([pt("markdown-stream-complete")],Ps.prototype,"onMarkdownStreamComplete",1),Ps=dd([cn("chatItem",({props:t,appendToRoot:e,compEvent:n})=>{const r=ky({...t.domProps,htmlSanitizer:t.htmlSanitizer,message:void 0}),o=((u,p)=>{const d=u.querySelector(p);if(!d)throw new Vs({source:cd,message:`Could not find element with query "${p}". Make sure the query provided matches an element that exists in the root element.`});if(!(d instanceof HTMLElement))throw new Vs({source:cd,message:`Element with query "${p}" is not a valid HTMLElement.`});return d})(r,".nlux-comp-message");if(!o)throw new Error("Message container not found");const s=document.createElement("div");s.classList.add("nlux-markdownStream-root");const i=document.createElement("div");if(i.classList.add("nlux-markdown-container"),i.setAttribute("nlux-message-id",t.uid),s.append(i),o.append(s),t.domProps.message){const u=Em(t.domProps.message??"","markdown",{markdownLinkTarget:t.markdownLinkTarget,syntaxHighlighter:t.syntaxHighlighter,htmlSanitizer:t.htmlSanitizer});i.append(u)}let a;e(r);let l={...t};const c=u=>((p,d)=>{const m=xy(p,{syntaxHighlighter:d==null?void 0:d.syntaxHighlighter,htmlSanitizer:d==null?void 0:d.htmlSanitizer,markdownLinkTarget:d==null?void 0:d.markdownLinkTarget,showCodeBlockCopyButton:d==null?void 0:d.showCodeBlockCopyButton,skipStreamingAnimation:d==null?void 0:d.skipStreamingAnimation,streamingAnimationSpeed:d==null?void 0:d.streamingAnimationSpeed,waitTimeBeforeStreamCompletion:d==null?void 0:d.waitTimeBeforeStreamCompletion,onComplete:d==null?void 0:d.onComplete});return{next(h){m.next(h)},complete(){m.complete()}}})(i,{syntaxHighlighter:u.syntaxHighlighter,htmlSanitizer:u.htmlSanitizer,markdownLinkTarget:u.markdownLinkTarget,showCodeBlockCopyButton:u.showCodeBlockCopyButton,skipStreamingAnimation:u.skipStreamingAnimation,streamingAnimationSpeed:u.streamingAnimationSpeed,onComplete:()=>n("markdown-stream-complete")});return{elements:{chatItemContainer:r},actions:{focus:()=>{r.focus()},processStreamedChunk:u=>{a||(a=c(l)),a.next(u)},commitStreamedChunks:()=>{a&&a.complete()},updateMarkdownStreamRenderer:u=>{l={...l,...u},c(l)},updateDomProps:(u,p)=>{((d,m,h)=>{if((m.direction!==h.direction||m.layout!==h.layout||m.status!==h.status||m.message!==h.message||m.name!==h.name||m.avatar!==h.avatar)&&h&&(h.hasOwnProperty("direction")||h.hasOwnProperty("layout")||h.hasOwnProperty("status")||h.hasOwnProperty("message")||h.hasOwnProperty("loader")||h.hasOwnProperty("name")||h.hasOwnProperty("avatar"))){if(m.direction!==h.direction&&Pm(d,h.direction),m.layout!==h.layout&&Tm(d,h.layout),m.direction!==h.direction||m.status!==h.status||m.message!==h.message){const y=d.querySelector(`.${Am}`);y&&wy(y,{direction:m.direction,status:m.status,message:m.message,htmlSanitizer:m.htmlSanitizer},{direction:h.direction,status:h.status,message:h.message,htmlSanitizer:m.htmlSanitizer})}if(m.name!==h.name||m.avatar!==h.avatar){const y=d.querySelector(`.${yu}`);if(!h.name&&!h.avatar)return void(y==null?void 0:y.remove());if(y)Rm(y,{name:m.name,avatar:m.avatar},{name:h.name,avatar:h.avatar});else if(h.name!==void 0||h.avatar!==void 0){const w={name:h.name,avatar:h.avatar},v=ku(w),f=d.querySelector(`.${Im}`);f&&f.prepend(v)}}if(m.name!==h.name){const y=d.querySelector(`.${bm}`);y&&(y.textContent=h.name||"")}}})(r,u,p)}},onDestroy:()=>{r.remove(),a=void 0}}},({propName:t,newValue:e,dom:n})=>{var r;switch(t){case"markdownLinkTarget":case"skipStreamingAnimation":case"syntaxHighlighter":case"htmlSanitizer":case"showCodeBlockCopyButton":case"streamingAnimationSpeed":(r=n.actions)==null||r.updateMarkdownStreamRenderer({[t]:e})}})],Ps);const Ey=(t,e)=>{let n,r=e,o=t,s=!0;const i=((y,w)=>{let v=!1;if(typeof y!="function")throw new Yt({source:"x/throttle",message:"Callback must be a function"});return(...f)=>{v||(y.apply(void 0,f),v=!0,setTimeout(function(){v=!1},w))}})((y=>{let w,v;return f=>{const g=f.target;if(!(g instanceof HTMLElement))return;const{scrollTop:k,clientHeight:x,scrollHeight:P}=g,R=P-30,M=Math.ceil(k+x)>=R,b=w===void 0||v===void 0?void 0:k>w&&v===P?"down":k<w&&v===P?"up":void 0;v=P,w=k,y({scrolledToBottom:M,scrollDirection:b})}})(({scrolledToBottom:y,scrollDirection:w})=>{s?w==="up"&&(s=!1):w==="down"&&y&&(s=!0)}),50),a=y=>{y.addEventListener("scroll",i)},l=y=>{y==null||y.removeEventListener("scroll",i)},c=y=>{(n==null?void 0:n.uid)===y&&(u==null||u.disconnect(),p==null||p.disconnect(),n=void 0,u=void 0,p=void 0)};let u,p;const d=()=>{o==null||o.scrollTo({top:5e4,behavior:"instant"})},m=()=>{o&&r&&s&&d()},h=()=>{m()};return a(o),{updateConversationContainer:y=>{l(o),a(y),o=y},updateProps:({autoScroll:y})=>{r=y},handleNewChatSegmentAdded:(y,w)=>{n&&(u==null||u.disconnect(),p==null||p.disconnect()),n={uid:y,container:w},u=new ResizeObserver(m),u.observe(w),p=new MutationObserver(h),p.observe(w,{childList:!0,subtree:!0,characterData:!0}),r&&d()},handleChatSegmentRemoved:y=>c(y),handleChatSegmentComplete:y=>c(y),destroy:()=>{n&&(c(n.uid),n=void 0),l(o),o=void 0}}},ar=t=>{var r;const e=typeof t=="function"?t.__compId:void 0;if(!e)throw new Error("Invalid compClass! Component should be registered before using");const n=(r=cm.retrieve(e))==null?void 0:r.model;if(!n||typeof n!="function")throw new Error(`Component "${e}" is not registered`);return{withContext:o=>({create:()=>new n(o,{}),withProps:s=>({create:()=>new n(o,s)})})}},Ay=t=>{const e=["adapter","events"],n=Object.keys(t).filter(o=>!e.includes(o)),r={};for(let o=0;o<n.length;o++){const s=n[o];r[s]=t[s]}return r},Lm=()=>{const t=document.createElement("div");t.classList.add("nlux-comp-messageLoader");const e=document.createElement("span");e.classList.add("spinning-loader");const n=document.createElement("div");return n.classList.add("nlux-comp-loaderContainer"),n.appendChild(e),t.appendChild(n),t},sa={typing:"nlux-composer--typing","submitting-prompt":"nlux-composer--submitting","submitting-conversation-starter":"nlux-composer--submitting",waiting:"nlux-composer--waiting"},Mm=(t,e)=>{Object.keys(sa).forEach(n=>{t.classList.remove(sa[n])}),t.classList.add(sa[e])},Py=t=>{const e=document.createElement("div");e.classList.add("nlux-comp-composer");const n=document.createElement("textarea");n.placeholder=t.placeholder??"",n.value=t.message??"",t.autoFocus&&(n.autofocus=!0);const r=document.createElement("button");return r.append((()=>{const o=document.createElement("div");o.classList.add("nlux-comp-sendIcon");const s=document.createElement("div");return s.classList.add("nlux-comp-sendIcon-container"),o.appendChild(s),o})()),r.append(Lm()),e.append(n),e.append(r),Mm(e,t.status),t.status!=="submitting-conversation-starter"&&t.status!=="submitting-prompt"||(n.disabled=!0,r.disabled=!0),t.status==="waiting"&&(r.disabled=!0),t.status==="typing"&&(r.disabled=t.disableSubmitButton??n.value===""),e},ni=(t,e)=>{let n=!1;const r=e?t.querySelector(e):t,o=r instanceof HTMLElement?r:void 0;if(!o)throw new Vs({source:"dom/listenTo",message:`Could not find element with query "${e}". Make sure the query provided matches an element that exists in the root element.`});const s=new Map,i=new Map,a=()=>{o&&(s.forEach((c,u)=>{o.removeEventListener(u,c)}),s.clear(),i.clear())},l={on:(c,u)=>{if(!u||!o)return l;if(!s.has(c)){const p=d=>{var m;(m=i.get(c))==null||m.forEach(h=>h(d))};s.set(c,p),o.addEventListener(c,p)}return i.has(c)||i.set(c,new Set),i.get(c).add(u),l},get:()=>{if(n)throw new Error("listenTo().get() can only be used once!");return n=!0,[o,a]}};return l},pd=t=>{t.style.height="auto",t.style.height=`${t.scrollHeight}px`};var Ty=Object.defineProperty,Iy=Object.getOwnPropertyDescriptor,Lr=(t,e,n,r)=>{for(var o,s=r>1?void 0:r?Iy(e,n):e,i=t.length-1;i>=0;i--)(o=t[i])&&(s=(r?o(e,n,s):o(s))||s);return r&&s&&Ty(e,n,s),s};let yn=class extends nt{constructor(e,{props:n,eventListeners:r}){super(e,n),this.userEventListeners=r}focusTextInput(){this.executeDomAction("focusTextInput")}handleCommandEnterKeyPressed(e){var r;((r=this.getProp("domCompProps"))==null?void 0:r.submitShortcut)==="CommandEnter"&&(this.handleSendButtonClick(),e==null||e.preventDefault())}handleEnterKeyPressed(e){var r;const n=(r=this.getProp("domCompProps"))==null?void 0:r.submitShortcut;n&&(n!=="Enter"||e!=null&&e.isComposing)||(this.handleSendButtonClick(),e==null||e.preventDefault())}handleSendButtonClick(){var o;const e=this.getProp("domCompProps");if(e!=null&&e.disableSubmitButton||!(e==null?void 0:e.message))return;const r=(o=this.userEventListeners)==null?void 0:o.onSubmit;r&&r()}handleTextChange(e){var o;const n=(o=this.userEventListeners)==null?void 0:o.onTextUpdated;n&&n(e);const r=this.getProp("domCompProps");this.setDomProps({...r,message:e})}handleTextInputUpdated(e){const n=e.target;n instanceof HTMLTextAreaElement&&this.handleTextChange(n.value)}setDomProps(e){this.setProp("domCompProps",e)}};Lr([pt("command-enter-key-pressed")],yn.prototype,"handleCommandEnterKeyPressed",1),Lr([pt("enter-key-pressed")],yn.prototype,"handleEnterKeyPressed",1),Lr([pt("send-message-clicked")],yn.prototype,"handleSendButtonClick",1),Lr([pt("text-updated")],yn.prototype,"handleTextInputUpdated",1),yn=Lr([cn("composer",({appendToRoot:t,props:e,compEvent:n})=>{const r=Py(e.domCompProps);t(r);const[o,s]=ni(r,":scope > textarea").on("input",n("text-updated")).on("keydown",u=>{const p=u.key==="Enter"&&!u.isComposing,d=u.altKey||u.ctrlKey||u.metaKey||u.shiftKey;if(p&&!d)return void n("enter-key-pressed")(u);const m=u.getModifierState("Meta")&&u.key==="Enter",h=u.getModifierState("Control")&&u.key==="Enter";(m||h)&&n("command-enter-key-pressed")(u)}).get(),[i,a]=ni(r,":scope > button").on("click",n("send-message-clicked")).get();if(!(i instanceof HTMLButtonElement))throw new Error("Expected a button element");if(!(o instanceof HTMLTextAreaElement))throw new Vs({source:(l="composer",c="render",`#${l}/${c}`),message:"Expected a textarea element"});var l,c;return{elements:{root:r,textInput:o,sendButton:i},actions:{focusTextInput:()=>Ct(()=>{o.focus(),o.setSelectionRange(o.value.length,o.value.length)})},onDestroy:()=>{s(),a()}}},({propName:t,currentValue:e,newValue:n,dom:r})=>{var o;t==="domCompProps"&&((o=r.elements)!=null&&o.root)&&((s,i,a)=>{if(i.status===a.status&&i.message===a.message&&i.placeholder===a.placeholder&&i.autoFocus===a.autoFocus&&i.disableSubmitButton===a.disableSubmitButton)return;const l=s.querySelector("* > textarea");if(i.status!==a.status)return Mm(s,a.status),((c,u,p)=>{if(u.status===p.status)return;const d=c.querySelector("* > textarea");p.status!=="typing"&&p.status!=="waiting"||!d.disabled?p.status!=="submitting-prompt"&&p.status!=="submitting-conversation-starter"||d.disabled||(d.disabled=!0):d.disabled=!1;const m=c.querySelector("* > button");if(p.status==="typing"){const h=(u.disableSubmitButton!==p.disableSubmitButton?p.disableSubmitButton:u.disableSubmitButton)??d.value==="";m.disabled!==h&&(m.disabled=h)}else p.status!=="waiting"&&p.status!=="submitting-prompt"&&p.status!=="submitting-conversation-starter"||m.disabled||(m.disabled=!0);u.placeholder!==p.placeholder&&(d.placeholder=p.placeholder??""),u.message!==p.message&&(d.value=p.message??""),u.autoFocus!==p.autoFocus&&(d.autofocus=p.autoFocus??!1)})(s,i,a),void pd(l);if(i.placeholder!==a.placeholder&&(l.placeholder=a.placeholder??""),i.autoFocus!==a.autoFocus&&(l.autofocus=a.autoFocus??!1),i.message!==a.message&&(l.value=a.message??"",pd(l)),i.status==="typing"){const c=s.querySelector("* > button"),u=(i.disableSubmitButton!==a.disableSubmitButton?a.disableSubmitButton:i.disableSubmitButton)??l.value==="";c.disabled!==u&&(c.disabled=u)}})(r.elements.root,e,n)})],yn);const fd=t=>{const e="nlux-chatSegment";return t==="complete"?`${e} nlux-chatSegment--complete`:t==="error"?`${e} nlux-chatSegment--error`:`${e} nlux-chatSegment--active`},os=(t,e)=>{var n,r;return t==="assistant"?((n=e==null?void 0:e.assistant)==null?void 0:n.name)??"Assistant":t==="user"?((r=e==null?void 0:e.user)==null?void 0:r.name)??"User":""},by="bubbles";var Ry=Object.defineProperty,Ly=Object.getOwnPropertyDescriptor,ss=(t,e,n,r)=>{for(var o,s=r>1?void 0:r?Ly(e,n):e,i=t.length-1;i>=0;i--)(o=t[i])&&(s=(r?o(e,n,s):o(s))||s);return r&&s&&Ry(e,n,s),s};let Hn=class extends nt{constructor(e,n){super(e,n),this.chatItemCompIdsByIndex=[],this.chatItemComponentsById=new Map}addChatItem(e){var o,s;if(this.throwIfDestroyed(),this.chatItemComponentsById.has(e.uid))throw new Error(`CompChatSegment: chat item with id "${e.uid}" already exists`);const n=((i,a,l,c)=>{const u=a??by;if(i.participantRole==="assistant"){const d=i.status==="complete"?"complete":"streaming";return i.dataTransferMode==="stream"?{status:d,layout:u,direction:"received",name:os("assistant",{assistant:c}),avatar:c==null?void 0:c.avatar}:i.status==="complete"?{status:d,layout:u,direction:"received",name:os("assistant",{assistant:c}),avatar:c==null?void 0:c.avatar,message:(p=i.content,typeof p=="string"?p:typeof p=="object"?`${p}`:p==null?"":typeof p.toString=="function"?p.toString():JSON.stringify(p))}:{status:d,layout:u,direction:"received",name:os("assistant",{assistant:c}),avatar:c==null?void 0:c.avatar}}var p;return{status:"complete",layout:u,direction:"sent",message:i.content,name:os("user",{user:l}),avatar:l==null?void 0:l.avatar}})(e,this.getProp("conversationLayout"),this.getProp("userPersona"),this.getProp("assistantPersona"));if(!n)throw new Error(`CompChatSegment: chat item with id "${e.uid}" has invalid props`);const r=ar(Ps).withContext(this.context).withProps({uid:e.uid,domProps:n,markdownLinkTarget:this.getProp("markdownLinkTarget"),showCodeBlockCopyButton:this.getProp("showCodeBlockCopyButton"),skipStreamingAnimation:this.getProp("skipStreamingAnimation"),syntaxHighlighter:this.getProp("syntaxHighlighter"),htmlSanitizer:this.getProp("htmlSanitizer"),streamingAnimationSpeed:this.getProp("streamingAnimationSpeed")}).create();this.chatItemComponentsById.set(e.uid,r),this.chatItemCompIdsByIndex.push(e.uid),this.rendered&&((s=(o=this.renderedDom)==null?void 0:o.elements)!=null&&s.chatSegmentContainer?r.render(this.renderedDom.elements.chatSegmentContainer,this.renderedDom.elements.loaderContainer):nl("CompChatSegment: chatSegmentContainer is not available"))}addChunk(e,n,r){if(this.destroyed)return;const o=this.chatItemComponentsById.get(e);if(!o)throw new Error(`CompChatSegment: chat item with id "${e}" not found`);o.addChunk(n,r)}complete(){this.throwIfDestroyed(),this.chatItemComponentsById.forEach(e=>e.commitChunks()),this.setProp("status","complete")}destroy(){this.chatItemComponentsById.forEach(e=>e.destroy()),this.chatItemComponentsById.clear(),this.chatItemCompIdsByIndex=[],super.destroy()}getChatItems(){return this.chatItemCompIdsByIndex.map(e=>this.chatItemComponentsById.get(e)).filter(e=>!!e)}onLoaderShown(e){var n;(n=this.renderedDom)!=null&&n.elements&&(this.renderedDom.elements.loaderContainer=e)}setAssistantPersona(e){this.setProp("assistantPersona",e);const n={name:e==null?void 0:e.name,avatar:e==null?void 0:e.avatar};this.chatItemComponentsById.forEach(r=>{r.getChatSegmentItem().participantRole==="assistant"&&r.updateDomProps(n)})}setLayout(e){this.setProp("conversationLayout",e),this.chatItemComponentsById.forEach(n=>{n.updateDomProps({layout:e})})}setUserPersona(e){this.setProp("userPersona",e);const n={name:e==null?void 0:e.name,avatar:e==null?void 0:e.avatar};this.chatItemComponentsById.forEach(r=>{r.getChatSegmentItem().participantRole==="user"&&r.updateDomProps(n)})}updateMarkdownStreamRenderer(e,n){this.setProp(e,n)}setProp(e,n){super.setProp(e,n),e!=="markdownLinkTarget"&&e!=="syntaxHighlighter"&&e!=="htmlSanitizer"&&e!=="skipStreamingAnimation"&&e!=="streamingAnimationSpeed"||this.chatItemComponentsById.forEach(r=>{r.updateMarkdownStreamRenderer(e,n)})}onChatSegmentReady(){Ct(()=>{var n,r,o,s;if(!((r=(n=this.renderedDom)==null?void 0:n.elements)!=null&&r.chatSegmentContainer))return;const e=(s=(o=this.renderedDom)==null?void 0:o.elements)==null?void 0:s.chatSegmentContainer;this.chatItemComponentsById.forEach(i=>{i.rendered||i.render(e)})})}onLoaderHidden(){var e;(e=this.renderedDom)!=null&&e.elements&&(this.renderedDom.elements.loaderContainer=void 0)}};ss([pt("loader-shown")],Hn.prototype,"onLoaderShown",1),ss([pt("chat-segment-ready")],Hn.prototype,"onChatSegmentReady",1),ss([pt("loader-hidden")],Hn.prototype,"onLoaderHidden",1),Hn=ss([cn("chatSegment",({props:t,compEvent:e,appendToRoot:n})=>{let r;const o=document.createElement("div");o.className=fd(t.status);const s=()=>{if(!r){r=document.createElement("div"),r.className="nlux-chatSegment-loader-container";const i=Lm();r.appendChild(i),o.appendChild(r),e("loader-shown")(r)}};return t.status==="active"&&s(),n(o),e("chat-segment-ready")(),{elements:{chatSegmentContainer:o,loaderContainer:r},actions:{showLoader:s,hideLoader:()=>{r&&(r.remove(),r=void 0,e("loader-hidden")())}},onDestroy:()=>{o.remove()}}},({propName:t,newValue:e,dom:n})=>{var r,o,s;if(t==="status"){const i=(r=n.elements)==null?void 0:r.chatSegmentContainer;if(!i)return;const a=e;i.className=fd(a),a==="active"?(o=n.actions)==null||o.showLoader():(s=n.actions)==null||s.hideLoader()}})],Hn);let ll=class extends nt{constructor(e,n){super(e,n),this.chatSegmentCompIdsByIndex=[],this.chatSegmentComponentsById=new Map,n.messages&&n.messages.length>0&&this.addChatSegment("complete",n.messages)}addChatItem(e,n){const r=this.chatSegmentComponentsById.get(e);if(!r)throw new Error(`CompConversation: chat segment with id "${e}" not found`);r.destroyed?nl(`CompConversation: chat segment with id "${e}" is destroyed and cannot be used`):r.addChatItem(n)}addChatSegment(e="active",n){this.throwIfDestroyed();const r=dt(),o=ar(Hn).withContext(this.context).withProps({uid:r,status:e,conversationLayout:this.getProp("conversationLayout"),userPersona:this.getProp("userPersona"),assistantPersona:this.getProp("assistantPersona"),markdownLinkTarget:this.getProp("markdownLinkTarget"),showCodeBlockCopyButton:this.getProp("showCodeBlockCopyButton"),skipStreamingAnimation:this.getProp("skipStreamingAnimation"),syntaxHighlighter:this.getProp("syntaxHighlighter"),htmlSanitizer:this.getProp("htmlSanitizer"),streamingAnimationSpeed:this.getProp("streamingAnimationSpeed")}).create();if(n)for(const i of n)i.role==="assistant"?o.addChatItem({uid:dt(),participantRole:"assistant",time:new Date,dataTransferMode:"batch",status:"complete",content:i.message,serverResponse:i.serverResponse,contentType:"text"}):i.role==="user"&&o.addChatItem({uid:dt(),participantRole:"user",time:new Date,status:"complete",content:i.message,contentType:"text"});this.chatSegmentComponentsById.set(r,o),this.chatSegmentCompIdsByIndex.push(r);const s=o.id;return this.addSubComponent(s,o,"segmentsContainer"),this.notifyAboutSegmentCountChange(this.chatSegmentCompIdsByIndex.length),r}addChunk(e,n,r,o){const s=this.chatSegmentComponentsById.get(e);if(!s)throw new Error(`CompConversation: chat segment with id "${e}" not found`);s.addChunk(n,r,o)}completeChatSegment(e){const n=this.chatSegmentComponentsById.get(e);if(!n)throw new Error(`CompConversation: chat segment with id "${e}" not found`);n.destroyed||n.complete()}getChatSegmentContainer(e){const n=this.chatSegmentComponentsById.get(e);if((n==null?void 0:n.root)instanceof HTMLElement)return n.root}getConversationContentForAdapter(e="max"){if(typeof e=="number"&&e<0)return void nl(`Invalid value provided for 'historyPayloadSize' : "${e}"! Value must be a positive integer or 'max'.`);if(e===0)return;const n=(r=>{const o=[];return r.forEach(s=>{s.items.forEach(i=>{if(i.status==="complete"){if(i.participantRole==="assistant")o.push({role:"assistant",message:i.content});else if(i.participantRole==="user")return o.push({role:"user",message:i.content})}})}),o})(this.chatSegmentCompIdsByIndex.map(r=>this.chatSegmentComponentsById.get(r)).filter(r=>r!==void 0).map(r=>({uid:r.id,status:"complete",items:r.getChatItems().map(o=>o.getChatSegmentItem())})));return e==="max"?n:n.slice(-e)}removeChatSegment(e){const n=this.chatSegmentComponentsById.get(e);if(!n)return;const r=n.id;this.subComponents.has(r)&&this.removeSubComponent(r),this.chatSegmentComponentsById.delete(n.id);const o=this.chatSegmentCompIdsByIndex.indexOf(e);o>=0&&this.chatSegmentCompIdsByIndex.splice(o,1),this.notifyAboutSegmentCountChange(this.chatSegmentCompIdsByIndex.length)}setAssistantPersona(e){this.setProp("assistantPersona",e),this.chatSegmentComponentsById.forEach(n=>{n.setAssistantPersona(e)})}setConversationLayout(e){this.setProp("conversationLayout",e),this.chatSegmentComponentsById.forEach(n=>{n.setLayout(e)})}setUserPersona(e){this.setProp("userPersona",e),this.chatSegmentComponentsById.forEach(n=>{n.setUserPersona(e)})}updateMarkdownStreamRenderer(e,n){this.setProp(e,n)}setProp(e,n){if(super.setProp(e,n),e==="markdownLinkTarget"||e==="syntaxHighlighter"||e==="htmlSanitizer"||e==="skipStreamingAnimation"||e==="streamingAnimationSpeed"||e==="showCodeBlockCopyButton"){const r=e,o=n;this.chatSegmentComponentsById.forEach(s=>{s.updateMarkdownStreamRenderer(r,o)})}}notifyAboutSegmentCountChange(e){const n=this.getProp("onSegmentCountChange");n&&n(e)}};ll=((t,e,n,r)=>{for(var o,s=e,i=t.length-1;i>=0;i--)(o=t[i])&&(s=o(s)||s);return s})([cn("conversation",({appendToRoot:t})=>{const e=document.createElement("div");return e.classList.add("nlux-chatSegments-container"),t(e),{elements:{segmentsContainer:e},actions:{}}},()=>{})],ll);var My=Object.defineProperty,Oy=Object.getOwnPropertyDescriptor,md=(t,e,n,r)=>{for(var o,s=r>1?void 0:r?Oy(e,n):e,i=t.length-1;i>=0;i--)(o=t[i])&&(s=(r?o(e,n,s):o(s))||s);return r&&s&&My(e,n,s),s};let Ts=class extends nt{constructor(t,e){super(t,e),this.updateConversationStarters=n=>{}}conversationStarterClicked(t){this.getProp("onConversationStarterSelected")(t)}};md([pt("conversation-starter-selected")],Ts.prototype,"conversationStarterClicked",1),Ts=md([cn("conversationStarters",({appendToRoot:t,props:e,compEvent:n})=>{const r=(s=>{const i=document.createElement("div");return i.classList.add("nlux-comp-conversationStarters"),s.forEach((a,l)=>{const c=document.createElement("button");c.classList.add("nlux-comp-conversationStarter");let u=document.createElement("div");a.icon&&(typeof a.icon=="string"?(u=document.createElement("img"),u.setAttribute("src",a.icon),u.setAttribute("width","16px")):(u.className="nlux-comp-conversationStarter-icon-container",u.appendChild(a.icon)));const p=document.createElement("span");p.classList.add("nlux-comp-conversationStarter-prompt"),p.textContent=a.label??a.prompt,c.appendChild(u),c.appendChild(p),i.appendChild(c)}),i})(e.conversationStarters);t(r);let o=[];return e.conversationStarters.forEach((s,i)=>{const[a,l]=ni(r,`:scope > :nth-child(${i+1})`).on("click",()=>{n("conversation-starter-selected")(s)}).get();o.push(l)}),{elements:{},actions:{},onDestroy:()=>{o.forEach(s=>s()),o=[],r.remove()}}},({})=>{})],Ts);const hd="nlux-comp-welcomeMessage-text",Om=(t,e)=>{const n=t.querySelector(`.${hd}`);if(e!==""&&e!==void 0)if(n)n.textContent=e;else{const r=document.createElement("div");r.classList.add(hd),r.textContent=e,t.appendChild(r)}else n==null||n.remove()},zm="nlux-comp-welcomeMessage-personaName",ul=t=>{const e=document.createElement("div");e.classList.add("nlux-comp-welcomeMessage");const n=ku({name:t.name,avatar:t.avatar});e.append(n);const r=document.createElement("div"),o=document.createTextNode(t.name);return r.append(o),r.classList.add(zm),e.append(r),Om(e,t.message),e},gd=()=>ul({name:"",avatar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABGdBTUEAALGPC/xhBQAACklpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAAEiJnVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/stRzjPAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAJcEhZcwAAewgAAHsIAXgkHaEAABj0SURBVHic7Z13vBxV2ce/Z29ugEQMEAICQUBAkBqqlCiRKqC0gApKE14poh8VUCmihv4SCB2CVAtFQBR9UZpCaMIL0ouAGIIEQgsJya27e/zjmb117+yUc+bM7J7v53Nys3dnzjx3dn9z2nOeR2mt8Xg89Sm5NsDjyTNeIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCKNsVdwzY4Ktqgej+v6RHwpQ8lqr2jFD3q+9UAPrGHDcwN8F6JD3hr1m0LHjgYnAWsAqwGrA8sDKwNLAOGAMsCTQPuDkMtANdAALgUXAPOBtYC4wB5gNvI5m7gBLhxjOiK8VwMAdpQOPrf1eD31PD/5dcJwa8lr+P+D4Ie8pCxtZ249/z3id1gTSoowHNgEmBWUDNGsBYy1eswy8BrwIPAs8BTyBiMeTEi+QdCwFfA6YAmwLbAaMHf7Ytsoo4NNB2XPA758GHgHuB2bBwFbGExUvkPisAOwK7ALsAKyQrR4is3FQjgR6EaH8CfgL8E+HdhUKL5BoLAHsBUwFdkczxq05sWkHdgwKiFhuBm7DtyyheIGEsyFwMHCA0nol18YYZLugnAfcAlwD3OPUopziBVKf3dEcCXzJtSGWGQ0cEJTHgV8A1wI9Dm3KFX4dZDD7A48iffVmF8dQNgdmAv8CTkCmoFseLxDhq8CTaH09Wm+J1rRwmYjWZyBC+TEy/mpZWl0gOwEPorkRzaT+BS1f0ExAcybwKvCtNDe5yLSqQNYAbkZzF5ptc/BlzHOZiGYm0vXcKukNLyqtKJD9gRdB7+v6m1ewsiXoR4CTE931gtJKAvkEcAua69Es4f77VthyKuLOsk3cD6CItIpADgReRjM1B1+wZigbo3kIOCPm51A4mn0dZDRwFVp/w7UhTcoJyETHQYizZNPRzALZXMGNwJquDWlyNgeeAw5DFhmbimYVyBHA5WjXZrQMJcRdZUvgaMe2GKUZBXIZWh/p2ogW5SjEf20v4H23ppiheQSiWBL4E5odXJvS4kxGNm7tiuxJKTTNIpBV0PwNWNu1IR4AVkKmgr8I3OnWlHTYE8iwfdqGGD6uWA/0LGS7qydf/AX4BvAb14YkxZ5AqtZqFkSAWwctR0s71OWcXwPLAhe7NiQJ1gSiKnamkHTf0qaaDDxg5SIe01yErEmd59qQuBR1DLI1WntxFItzkX7F+Y7tiEURXU0mAQ+5NsKTiBnIGlVhKFYLolgDzcPYmwLw2Ody4EPgJsd2RMKeQLThMYji42j+riQWlafY3Ai8hWaWa0MaYVEgButSgOYBJCaVpzn4G7AWmn+7NiSMYnSxNLcBG7k2w2OUEjKWXJ0cR1HJdxdLRho/Q3x7PM3HSsDdwHZ5dSzNexdrd+CnRmry5JXPA+eiOda1IfXIcxdrRTS3uzbCkwk/QMKh5u7zznMX6y7ys07TDTwJvAC8gkxTdiIxb5dGIqtvCHyWfD908sxtwIqA+SQfKcjrh3kG+RiU3wr8DvgrkrimEasAOyN74L9g0a5mpATcgWy6yg1Km16vCOg9bdlkJyq2AB4zakx8LgQuQPFaorPllu4AnIL0sT3ROREJWBeb9pPnm7bFpkCWSXimmovMbrjgLuBYFM+JKQlr0YP+fwzirOeJjP400pWNRfvJHxq3xJ43bzLdzQBnaQaO04pzLXixXKy0noUExF7VdOVNyu+QMZ1z7A2C48daWg/N9xzEeOpGxg3n2roVwDPARmieyUFMqyKUDYDvxD7PAnmZJQL4rYNrfoCkKbvb6lWkUfoQ2AIRi6cRmguBZVybYXFHYQxJK74JrG/Nlvp8BGyGUrMzvGYPmm1Av4qEQvWEcxWaqS4NyMM07yh05tsxe4FtUBmkShZHSyT3BgCLgc+h+Sf5asHzyD7AlmjtbFYzDwuF15O1C7tSnwee6/vijrK4vaQKDN9+/CqyK/JRexduGn4PrOzq4m4H6dL/38+aDfX5X+Dvfa+0li9wnC5hFJSITpUrUvfwTE6PAd81e9GmZCXgOFcXt7YOUj7l41EOewAJNJYVz1JvhV4H/7S3oUeV+lu/NA2LVqieClSrfWIZgUfJ2epxDukAxgHlsINGTVto/MIWW5C6T82BZXM0kzOePtwtdHqwtwrlavqlkJJClatSH6qRTfvlYFo172UMmh81/E5ZwGUXa3rGySm/D/o/oTe3qlFdZekShT/1R6ZNich6ysHdbXgj5qD12TlI3pn3ciKattBbaQFrAlHhZX0F2zU4xlzRvAicH3oTNX0th+pJ2IoooKIpdVZQOrh2NULRnKA0CzO7H8UsYxR8O+wYG7hqQX6eaRMNBygNkYpSqN4qqrsCpRi3XQFKUeqsyKBfqThPNQ0cl4OuTN7LSVRhxGIBFwuFy6MyXfy5AQmkHAvVXUGPLolIosxwlRSqqwK9gbDi94l/Afwcd46aRWAFYE80f8jqgi4WquL72KRrPY6JbaECtKbUUZaWoNF4pKRQZY3qLMvJye09PgdP6byXE8I/DLO4WCj8trVrDmc6Wn2Q7FQFPRXU4l70Um2hhwHQ0SstTRs1YSbhN8DZyMYrT30+i+zgfDmLi2XdguxKdmkKysApqR5XJYVa3CuD9lEj3KpSCdVZ7h+zJBdHjT+mrqH5OSqrC2U9SD86w6b4TDSdqetpK6E6yjJ1O6qEbh9QlmiDSlXeL5VM2X1dDroxeS8Ho1HDfm+BLMP+LIuE8cmCHpShHN4KEUFXBb0UlDrL/X9bSUFZB+MUI1cD+DuapxE3HE99at+lP9m+UJZjkP2wN109lIuArtS1aEQEo0qU3u/qdx3RA94f3UZ13GgRibmcKGcjTpyekTmQDARizRerctyYob/6K9lF+hiPbIZKR5uCKqiPumWMoZT8TiHiCFoXVElEMrpNumIm0HyAPCk99elA7k9f2NK26R3GL5LVIH05shPHLzEljrKm9GGXiGNUqV8c0P+zTZwbSx92oxb3BouLqaZ6ay3UL1L/Dc3NGCRJqFUsBm0Y1DLtYes6wy/M6anO14gYequoBd39r8MIFgbVRz3Sooxtly5musb5YuCHqWpofqZiORpjVi3IbhldZxaal1M9uUvB+seCbqmxLeKwSclYRXWUUYuClqTWFUvGG0gYIs/IHASMtXmBLGaxSsCO1q4zmNNSnd2mpOVY2CNf7ji+WDVGlaBLnBX12HZx8EouknOQiCue+jyI5YmfLGaxtiCbweabpIlO0iZOiiwMxnxJxDGgLrrK4q84ph10NalI7kH+Lr+yPpw7Ucr6GCSLhcLtM1o8ujDxuUoG5OqjQBxRu1VhtJVQnRXZX5J0b4kwIwcLc3krj5DBAB2yGYN8LoNraGBmorMCb93Sop7+1yZQoEsKtbgsriqlxDNbM7HmzF1I3gCmZHUx212sNsS5zDa3AgtinzVQHBUtU7YmCcYxalEP+mPt0F5Kspi4CHFiPNCscYVkIRIMvAcN8gTB6ijEdhdrPTTLZdDkxu+GBDaqjl5xFzHVcgwlqLa0qBd6ddKW5MwcdGtcl/mI+83sure5104ja3sWaxNr9ffzGoqHY59VKqG6yqjuqt24WNDfUnX0Uh07WkQTxHOIyItoHgK2tWVizqkAW1EaIA5N315b1V016eYzCIuRFTVoJtmrP0BxOTrOF1ye4qqnIhucbLUcQwkcG1VHL3rMKLEj3kPvdCTBTCuyA6iX++5XTRwaiR5TrprvHgfYTn9gP4S95ur+PlMEFBK9pKPc/zoralPJXRX0Um2oeE+9PwNzgE/aMS63HKPh/mEPFI3cv4rF7jH2u1jrWqtf+APwfuSjg8AKqm/3X5bqCCgp8e1qU0kG7afSWj5aN6G4pO6nVNVSLM/D2pzFmghMtFY/gFKXRD5WB0+anir0OBIH9LVYqrOMVu3yAVc1kZoyxVVoPR2JMtjsvIlSX6vbOdBBy5HBR2hTf2tYrBs089D67khBx6rBzawEgeEcaaOPUuBG31Vm0JRaoyJ7E9I5YxYBzUJgu4afZwbYnOZdzeq0H1wZ41gg6NpUcC8QkDvfq2UGRsWa+p2BpisH0662ygfApsC/6t63kUMwrTDSG2mwGZt3ouVQlDMjH6tA9VZkHSIkQEnmlIDuqtgWhBqKUMpoPS0HoUBtlPlonUQce6D1LTY+IpuDdJsOdg8iLgeNCWat6DYQlNo0NXtqrUh09/izgROBj1myzAWdwBYoXq/7blWH3ZvrgCVsGGWzizXeYvcqRkYqJb5Q8t/8URu091Ti3IMqmhNz0B0y+ZluS1jLUR3x3IPRLIO2EyfL5iyWrRx8H4G6OdKRqraQpNM+ClZFgpWtDiyP7HlfEom99T4wF3gJeE7si4kCKuIuodtV1FX2i9CcBKwY+3p5Q7ELWj0JBGIZ0lSMHDehDbg0+P9oG6bZzFG4jKV6f43Wjdega12r3sTi2BHYE/FG3pBaLeFdoPlI9+92xIFyfuSrlZBZthLo6AHo/gfLW04z4BDCdk6GBxU5A9mbzoCfRrEW1YTD214C1jFer2JD5EndmLIeeUpwYCyrvp9qLBK175vAZ1JaugC4EjgXrd8C+r/0mvofvAZKSJariCjNw8DW6Ux1g4afopgmr4Z/SCr8u7kcgxeJ53Jlxfi412YXy4ai/4FWjcVRaz3izZcfjdanYK7LMg44FjgamAac1fCMwIlRlXWchcz90Xp2Qhtdcp1Salq/BgaLQdXrag1m6HqQlS6WzUH6khYGchdGOjCeONZDciVegmZFCwPQpYAzkVyEjVulmrgrVSJOjb4O/Mz5IDtemQUcgtaoEYr8bSOePwHNkUN+Z+Vhb3Ml3bSiO9HcEOkDiJ6x9lDgeWq5Em0hdm2JdA2/2vD42nTvyDM3Q8vPySjauQFepVGMtMafxU/q/M7Kd9nmOohpg69hQBS9kOs2RlqWc9CZpxcuATcis2LTGx6tNTH6iLshX748Mx/YhjBH/8af3xJIt3UoVibxXeQHSYbiVGN1aW4H/WVj9cXnHMTT+fCGR0YXyb9A7wnZZV+KySsodgb1LlBfCHqkNwZxJhn6Q7jIMJWE69G8Ham70Zg7AJfiqHEYkadoo3buuZ1sExRF5U0k/NPs8MMafoAfA75vwqCo2BRIxWBd6QLC9fN7JIlPXvgycJnhOi9FotvnhbeBzYAFouOQCYfGhInfyqZ0mwJpPF6IxqPAiwbq+SWy8Jc3jgS+Y7jO75KP9An/RuISzDNUX1jrYfKB3IdNgXQaquenBuo4j3yHzbkQ2MpwnV9HwgW54lFgEtKCmGB3wteoyoauMwibAllsoI5XgDtT1nEsGfdbE3IX5j1SvwFcYLjOKPwKEfxCg3U2mnE01WMZhE2BmMhmcnLK8/chynRqPlga8d8yzfeQblwWaCTt9kGG612dxtEUew1fE7ArkPdSnv8f4Lcpzt8CO184m+yORA40zUyku/OQhbpr3IF4JUSPExCdKDNzprr0g7ApkHdSnv+DFOeuBNyf8vqusNUlehqYDByBhA8yxYPIbNzuiMu/DQ6LcExLCeQ1INqej+G0Aw8DS6W4vksmIW7strgCWBNZpLwvYR2vI+GHvoBsB7CZTHNvoqXPiL8PJwI294P8J8W5ab4g9yF91iJzGeKSYuVDR2Z8rgrK2siXfAuki7QyMh6qBUjtQB52s4EngVnIDJVN77WBRJ0Cf9fGxfMokPuRjLhJuBXx9Sk6bci44YAMrvVKUK4e8Luao6nG0uA3IqsQPfnrXBsG2OxizU54XtL1iiuQWatmYX+yCN1an56guBQHwLdiHFt/P3tKbArkNeLf4FOIGq1kMNOx2293xTWuDXBMY2fOfl6zYYBNgcwnnvv1C5DIY/cMZDGwGdmMfPmOZckUZDwUFSszaLa9eeMYnSTn3HnACQnOKxKXuzbAEXH80+Yhfl/GsS2QZyIety/xu1anUwwXkrR8EvGraiXGIdO7UXmWAnrzAjwV4ZgTib/iPSU4r1U4z7UBGXMg8XYIPm3LENsCeaLB+6cjO8TisAytl2lpBeINWIvOUTGP/4cVK7AvkDcYeXbheJI5I/6V4q6Sp+EM1wZkxKbIgmUcHrNhCGSz5XZogs1XgZ1I5mV7A9kkBs0jE4jmk1R04m4ZnoPFYBVZCOTR4OdLSKuxDnBPgnpmAF8zZVRBMbX1OK+MRhZI4zDLhiE1bLqa1LgJmc1K84eciexraHU+gQxgf+XaEEscSPzuc1K3pEhk0YK8SzpxnAz82JAtzUAzp2BLMm2fpDcSmbyH/TmQZKvrzcyqNJfPWY1JwPoxz3meZK5JkcmzQL6ERCLxDOds1wZYIEmUyz8at2IIeRXIXmTwxxeYtYCdXRthkKVJ5tpvJS/hQPIokKOA21wbUQDOcW2AQY4gfmzdN2i8EJ2avAnkMvpTannC2Qg7AR5ckKR7lSagR2TyIpDtkdQAWYWnaRaaYSyyD8mSFl1n2pB6uBbIpsje63uJP4PhkeBsm7s2IiVJImc+j3jwWieLhcKhrI3sG/8KktPCk44ZSNCFIrIt0lWMy0zThoyEC4HcgOyU85hhMtISW/NotUiSLmIVuNawHSPioot1rYNrNjs2ohnaZiOkBYnL9dgLhzQMFwK5BLNBjT0yFpns2oiYJI0gmenEhAuBaNxEHG92MuuXG2ATGgejrsdjyGxnZriaxZpOdpH5WoX1kImPIpBUzJkH6HAlkIW0brQOm1zs2oAIfBEJcxqXl7Hs2l4Pl+sgJjJHeQYzAZjm2ogGXJnwPCexz1wK5F2KOfuSd36CpH/IIyci8Xbj8hJ2I8iPiOuV9JMcX79ZudG1AXWYQPLNXseYNCQOrgWygNYI/pY1n0cy3eaJPyc8707EFckJrgUCcD7iW+MxywXILr08cDXJvSf2NWlIXPIgEJBsrB7z/J9rAxBv3UMTnns8sMigLbHJi0CeonkjdbhkZdzmSl+d5IlU55CDDMV5EQhIfg8riRhbnAOQHXtZsyTwQIrz9zNlSBryJJBukmeX8oRzOdmnpnsAmJjw3KuwGE40DnkSCEhznHS2wxPOfcCnMrxW0o1cH5CjbGF5EwjIrEW3ayOakHYkDGzSp3oUPg48AmyXoo69yJGfXh4F0kG85Cme6CyPbKxa00LdmyHbYLdKUce5pBu3GCePAgHpZnk3FDtMQBLOTDFY57HA40g2rKQ8T7LoJlbJq0BA3Asy2ZjfgowF/gb8KGU9OyHpLdJOx+qgrtyRZ4EA7Ijk6/bY4SzgIeQ+R2UMkobiXuAuYGsDduwBvGWgHuO4CNoQh3eQ/QOZ7wNoIbYB7gYeRIKxPYBkjF0MLAGMR+JWbYhET9kNSQlnip/hyFM3CkprSxMGh8SNJBnKMcBFJiv0hLIAcfFYElgWez2NWzC5IHit+e9y3rtYNS6mGLvlmoVxyL6N8dj7jjxBTlbLwyiKQEASy//OtREeI8yhIHGFiyQQgKlYzknnsc6HyFpJh2M7IlE0gYCs0j7u2ghPIjqBz5LTGat6FFEgIFOLT7o2whOLbkQcL7s2JA5FFUgZudn/79oQTySqyOdVuIXfogoEoBe56fe7NsTTkMMR95bCUWSBgLgoTAF+79YMTwhzgGtcG5GUogukxt5I+jZP/rCax9w2zSIQgKOBH7o2wjMMp0EX0tJMAgHJ/LoX3sExT6zu2oA0NJtAAP4AbIBESvG4J0mKtdzQjAIBeAXJQXGFa0M8rI6EHyokzSqQGkcgQekWuzakxVnPtQFJaXaBgAROWwfpenncsIFrA5LSCgIBeBMZvB+Gz4/oAi+QgnA18GkkYrgnOz7j2oCktJpAAOYh23gPBd5wbEursC4Sl6twtKJAalwLrI1kZPLdLrssB6zl2ogktLJAQFywT0MCqZ1FwVd9c866rg1IQqsLpMZ7SIrhNZEkmPPcmtOUFHLB0AtkMO8g2Xc/BXwbCSzQClSwvwW2kGshXiD16QAuRSKUb4+MVz5yaZAl7gC+DqwBrIbs1DwBO6kHxlio0zpFiYuVB8YjEQD3BnYBRrs1JzGPALche2heCTlucySC4lTMOBxegu1stRbiYnmBJGMlYGckZOcU7KYUSMsiZNflX5C9GS8lqGNP4CtBSRqNczIS5tQeXiC5pA3Z+jsZCWezKdJdccX7wDNILpCHkODSHxiqe1Xgm4hQ4owp7iVe/N9keIEUhvWBjZF4tusgawCfRCIWmqILeB2YDfwTCYjwNPAC2Thn7oDkP9wLWecYiReALTOxyQuk0IxDumYrBz+XRRLajEeCRI9GVptLyF77XmTjVw8SbO09pCWYB8wF3kZm3VwzDhHJVMTnanlkVuwtxKXneCQKjX0KJRCPpwnw07weTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwheIB5PCF4gHk8IXiAeTwj/Ba/47FkhCYEqAAAAAElFTkSuQmCC"});let cl=class extends nt{constructor(t,e){super(t,e),this.setConversationStarters(e.conversationStarters)}setAssistantPersona(t){this.setProp("assistantPersona",t),this.executeDomAction("updateAssistantPersona",t)}setConversationStarters(t){var e;if(t||this.conversationStartersComp){if(t&&!this.conversationStartersComp){const n=this.getProp("onConversationStarterSelected");return this.conversationStartersComp=ar(Ts).withContext(this.context).withProps({conversationStarters:t,onConversationStarterSelected:n}).create(),void this.addSubComponent(this.conversationStartersComp.id,this.conversationStartersComp,"conversationStartersContainer")}!t&&this.conversationStartersComp?(this.removeSubComponent(this.conversationStartersComp.id),this.conversationStartersComp=void 0):(e=this.conversationStartersComp)==null||e.updateConversationStarters(t)}}setShowGreeting(t){this.setProp("showGreeting",t),this.executeDomAction("resetGreeting",t)}resetConversationStarters(){const t=this.getProp("conversationStarters");this.setConversationStarters(t)}};cl=((t,e,n,r)=>{for(var o,s=e,i=t.length-1;i>=0;i--)(o=t[i])&&(s=o(s)||s);return s})([cn("launchPad",({appendToRoot:t,props:e})=>{const n={assistantPersona:e.assistantPersona,conversationStarters:e.conversationStarters,showGreeting:e.showGreeting!==!1};let r;if(n.showGreeting)if(e.assistantPersona){const i=e.assistantPersona;r=ul({name:i.name,avatar:i.avatar,message:i.tagline})}else r=gd();r&&(t(r),n.greetingElement=r);const o=document.createElement("div");o.classList.add("nlux-conversationStarters-container"),t(o);const s=(i=!0)=>{n.showGreeting=i,n.greetingElement&&(n.greetingElement.remove(),n.greetingElement=void 0),i&&(n.greetingElement=n.assistantPersona?ul({name:n.assistantPersona.name,avatar:n.assistantPersona.avatar,message:n.assistantPersona.tagline}):gd(),n.greetingElement&&o.insertAdjacentElement("beforebegin",n.greetingElement))};return{elements:{conversationStartersContainer:o},actions:{resetGreeting:(i=!0)=>{s(i)},updateAssistantPersona:i=>{const a=n.assistantPersona;n.assistantPersona=i,(a||i)&&n.showGreeting&&(i&&a?((l,c,u)=>{if(c.message!==u.message||c.name!==u.name||c.avatar!==u.avatar){if(c.message!==u.message&&Om(l,u.message),c.name!==u.name){const p=l.querySelector(`.${zm}`);if(p){const d=document.createTextNode(u.name);p.replaceChildren(d)}}if(c.avatar!==u.avatar||c.name!==u.name){const p=l.querySelector(`.${yu}`);p&&Rm(p,{name:c.name,avatar:c.avatar},{name:u.name,avatar:u.avatar})}}})(n.greetingElement,{name:a==null?void 0:a.name,avatar:a==null?void 0:a.avatar,message:a==null?void 0:a.tagline},{name:i.name,avatar:i.avatar,message:i.tagline}):s())}},onDestroy:()=>{var i;(i=n.greetingElement)==null||i.remove(),o.remove()}}},({})=>{})],cl);const dl=t=>{if(typeof t!="object"||t===null)return!1;const e=t;return(typeof e.streamText=="function"||typeof e.batchText=="function")&&["stream","batch"].includes(e.dataTransferMode)&&typeof e.id=="string"&&typeof e.info=="object"&&e.info!==null&&typeof e.preProcessAiBatchedMessage=="function"&&typeof e.preProcessAiStreamedChunk=="function"};var Yd;const zy=typeof navigator<"u"&&((Yd=navigator==null?void 0:navigator.userAgent)!=null&&Yd.includes("Safari"))?100:1,ve=(t,e=zy)=>{setTimeout(()=>{t()},e)},Ny=(t,e,n,r,o,s,i,a,l)=>new Promise(c=>{const u=dt(),p=[],d=[];let m=!1,h=!1,y=!1;const w=dl(n),v={next:f=>{if(h||y)return;let g,k;if(w){const x=f,P=n.preProcessAiStreamedChunk(x,r);P!=null&&(g=P,k=x,p.push(g),d.push(k))}else g=f,p.push(g);g!=null?(m||m||(m=!0,ve(()=>{o.forEach(x=>{x({uid:u,status:"streaming",time:new Date,participantRole:"assistant",dataTransferMode:"stream"})})})),ve(()=>{i.forEach(x=>{x({chunk:g,messageId:u,serverResponse:k})})})):Me("Adapter returned an undefined or null value from streamText. This chunk will be ignored.")},complete:()=>{h||y||(y=!0,ve(()=>{const f={uid:u,status:"complete",content:p,contentType:"text",serverResponse:void 0,time:new Date,participantRole:"assistant",dataTransferMode:"stream"};s.forEach(g=>{g(f)}),c()}),ve(()=>{const f={uid:t,status:"complete",items:[e,{uid:u,status:"complete",contentType:"text",content:p,serverResponse:d,time:new Date,participantRole:"assistant",dataTransferMode:"stream"}]};a.forEach(g=>{g(f)})}))},error:f=>{h||y||(h=!0,ve(()=>{l.forEach(g=>{g("failed-to-stream-content",f)}),c()}))}};n.streamText(e.content,v,r)}),Dy=(t,e,n)=>{if(!t)return(()=>{const f=new Set,g=dt(),k={uid:g,status:"complete",items:[]};return ve(()=>{f.forEach(x=>{x(k)}),f.clear()}),{segment:k,observable:{on:(x,P)=>{x==="complete"&&f.add(P)},removeListener:(x,P)=>{f.delete(P)},destroy:()=>{f.clear()},get segmentId(){return g}},dataTransferMode:"batch"}})();const r=e;if(r.streamText===void 0&&r.batchText===void 0&&r.streamServerComponent===void 0)return(f=>{const g=new Set,k=dt(),x={uid:k,status:"error",items:[]};return ve(()=>{g.forEach(P=>P(f)),g.clear()}),{segment:x,dataTransferMode:"stream",observable:{on:(P,R)=>{P==="error"&&g.add(R)},removeListener:(P,R)=>{g.delete(R)},destroy:()=>{g.clear()},get segmentId(){return k}}}})("no-data-transfer-mode-supported");const o=dt(),s=(f=>({uid:dt(),time:new Date,status:"complete",participantRole:"user",content:f,contentType:"text"}))(t);let i,a,l,c,u,p,d=new Set,m=new Set,h=new Set;ve(()=>{d!=null&&d.size&&(d.forEach(f=>{f(s)}),d.clear(),d=void 0)});const y=(f=>{const g=[],k=f,x=f;(k==null?void 0:k.streamText)===void 0&&(x==null?void 0:x.streamServerComponent)===void 0||g.push("stream"),(k==null?void 0:k.batchText)!==void 0&&g.push("batch");const P=dl(f)?f:void 0,R=(P==null?void 0:P.dataTransferMode)??void 0,M=g.length===1?g[0]:"stream";return R??M})(e);(f=>"streamServerComponent"in f?"server-component":"text")(e)==="server-component"?(l=new Set,a=new Set,((f,g,k,x,P,R,M,b)=>new Promise((I,_)=>{try{const D=g.content,F=dt(),z="assistant",j="streaming",Y=new Date,S="stream";let E,L;const N=()=>{ve(()=>{R.forEach(ne=>{E&&L&&ne({...E,content:L,status:"complete"})})},20);const $={uid:f,status:"complete",items:[g,E]};ve(()=>{M.forEach(ne=>{ne($)}),I()},20)},U=()=>{b.forEach($=>{$("failed-to-stream-server-component",new Error("Failed to load content"))})};L=k.streamServerComponent(D,x,{onServerComponentReceived:N,onError:U}),E={uid:F,content:L,contentType:"server-component",participantRole:z,status:j,time:Y,dataTransferMode:S},ve(()=>{P.forEach($=>{$(E)})},10)}catch(D){Me(D);const F=D instanceof Error?D:typeof D=="string"?new Error(D):new Error("Unknown error");ve(()=>{b.forEach(z=>z("failed-to-load-content",F))})}}))(o,s,e,n,a,l,m,h).finally(()=>{ve(()=>v())})):y==="batch"?(i=new Set,(async(f,g,k,x,P,R,M)=>{try{const b=g.content,I=dl(k)?k:void 0,_=I!==void 0,D=dt(),F="assistant",z="complete",j=new Date,Y="batch";let S;if(_){const N=await I.batchText(b,x),U=I.preProcessAiBatchedMessage(N,x);U!=null&&(S={uid:D,content:U,contentType:"text",serverResponse:N,participantRole:F,status:z,time:j,dataTransferMode:Y})}else S={uid:D,content:await k.batchText(b,x),contentType:"text",serverResponse:void 0,participantRole:F,status:z,time:j,dataTransferMode:Y};if(!S)throw new Error("Response from adapter was undefined or cannot be processed");const E=S;ve(()=>{P.forEach(N=>{N(E)})});const L={uid:f,status:"complete",items:[g,S]};ve(()=>{R.forEach(N=>{N(L)})})}catch(b){Me(b);const I=b instanceof Error?b:typeof b=="string"?new Error(b):new Error("Unknown error");ve(()=>{M.forEach(_=>_("failed-to-load-content",I))})}})(o,s,e,n,i,m,h).finally(()=>{ve(()=>v())})):(c=new Set,u=new Set,p=new Set,Ny(o,s,e,n,c,u,p,m,h).finally(()=>{ve(()=>v())}));const v=()=>{d==null||d.clear(),d=void 0,i==null||i.clear(),i=void 0,a==null||a.clear(),a=void 0,l==null||l.clear(),l=void 0,c==null||c.clear(),c=void 0,u==null||u.clear(),u=void 0,p==null||p.clear(),p=void 0,m==null||m.clear(),m=void 0,h==null||h.clear(),h=void 0};return{segment:{status:"active",uid:o,items:[]},dataTransferMode:y,observable:{get segmentId(){return o},on:(f,g)=>{f==="userMessageReceived"&&d?d.add(g):f==="aiMessageReceived"&&i?i.add(g):f==="aiServerComponentStreamStarted"&&a?a.add(g):f==="aiServerComponentStreamed"&&l?l.add(g):f==="aiMessageStreamStarted"&&c?c.add(g):f==="aiMessageStreamed"&&u?u.add(g):f==="aiChunkReceived"&&p?p.add(g):f==="complete"&&m?m.add(g):f==="error"&&h&&h.add(g)},removeListener:(f,g)=>{f!=="userMessageReceived"?f!=="aiMessageReceived"?f!=="aiMessageStreamStarted"?f!=="aiMessageStreamed"?f!=="aiChunkReceived"?f!=="complete"?f!=="error"||(h==null||h.delete(g)):m==null||m.delete(g):p==null||p.delete(g):u==null||u.delete(g):c==null||c.delete(g):i==null||i.delete(g):d==null||d.delete(g)},destroy:()=>v()}}},By={"data-transfer-mode-not-supported":"Requested data transfer mode is not supported","no-data-transfer-mode-supported":"Adapter does not support any valid data transfer modes","connection-error":"Connection error","invalid-credentials":"Invalid credentials","invalid-api-key":"Invalid API key","http-server-side-error":"HTTP server side error","http-client-side-error":"HTTP client side error","failed-to-load-content":"Failed to load content","failed-to-stream-content":"Failed to stream content","failed-to-stream-server-component":"Failed to stream server component","failed-to-render-content":"Failed to display content"},pl=(t,e)=>t!==void 0&&t.length>0||e!==void 0&&e>0?"active":"starting";var jy=Object.defineProperty,Hy=Object.getOwnPropertyDescriptor,ia=(t,e,n,r)=>{for(var o,s=r>1?void 0:r?Hy(e,n):e,i=t.length-1;i>=0;i--)(o=t[i])&&(s=(r?o(e,n,s):o(s))||s);return r&&s&&jy(e,n,s),s};let is=class extends nt{constructor(t,{conversationLayout:e,autoScroll:n,streamingAnimationSpeed:r,visible:o=!0,composer:s,assistantPersona:i,userPersona:a,showGreeting:l,conversationStarters:c,initialConversationContent:u,syntaxHighlighter:p,htmlSanitizer:d,markdownLinkTarget:m,showCodeBlockCopyButton:h,skipStreamingAnimation:y}){if(super(t,{conversationLayout:e,visible:o,autoScroll:n,streamingAnimationSpeed:r,assistantPersona:i,userPersona:a,conversationStarters:c,showGreeting:l,initialConversationContent:u,composer:s,syntaxHighlighter:p,htmlSanitizer:d,markdownLinkTarget:m,showCodeBlockCopyButton:h,skipStreamingAnimation:y}),this.handleConversationStarterClick=w=>{this.composer.setDomProps({status:"submitting-conversation-starter"}),this.composer.handleTextChange(w.prompt),this.composer.handleSendButtonClick()},this.handleSegmentCountChange=w=>{var f,g;if(this.segmentCount===w)return;this.segmentCount=w;const v=pl(this.getProp("initialConversationContent")||void 0,this.segmentCount);this.chatRoomStatus!==v&&(this.chatRoomStatus=v,this.executeDomAction("updateChatRoomStatus",this.chatRoomStatus),this.chatRoomStatus==="active"?(f=this.launchPad)!=null&&f.id&&(this.removeSubComponent((g=this.launchPad)==null?void 0:g.id),this.launchPad=void 0):this.addLaunchPad(this.getProp("showGreeting")??!0,this.getProp("assistantPersona"),this.getProp("conversationStarters"),this.handleConversationStarterClick))},this.prompt="",this.segmentCount=u&&u.length>0?1:0,this.chatRoomStatus=pl(u,this.segmentCount),this.chatRoomStatus==="starting"&&this.addLaunchPad(l,i,c,this.handleConversationStarterClick),this.addConversation(i,a,u),this.addComposer(s==null?void 0:s.placeholder,s==null?void 0:s.autoFocus,s==null?void 0:s.disableSubmitButton,s==null?void 0:s.submitShortcut),!this.conversation||!this.composer)throw new Error("Chat room not initialized  An error occurred while initializing key components.")}getConversationContentForAdapter(t="max"){return this.conversation.getConversationContentForAdapter(t)}hide(){this.setProp("visible",!1)}messagesContainerClicked(){var t;(t=this.composer)==null||t.focusTextInput()}onChatRoomReady(){Ct(()=>{var e,n;const t=(n=(e=this.renderedDom)==null?void 0:e.elements)==null?void 0:n.conversationContainer;if(t instanceof HTMLElement){this.autoScrollController=Ey(t,this.getProp("autoScroll")??!0);let r=0;const o=20,s=()=>{t.scrollHeight>t.clientHeight&&(t.scrollTo({behavior:"smooth",top:5e4}),clearInterval(i))},i=setInterval(()=>{r>=o?clearInterval(i):(s(),r++)},10)}this.context.emit("ready",{aiChatProps:Ay(this.context.aiChatProps)})})}setProps(t){var e,n,r,o,s,i,a;if(t.hasOwnProperty("autoScroll")){const l=t.autoScroll;(e=this.autoScrollController)==null||e.updateProps({autoScroll:l})}if(t.hasOwnProperty("conversationLayout")&&((n=this.conversation)==null||n.setConversationLayout(t.conversationLayout)),t.hasOwnProperty("syntaxHighlighter")&&this.setProp("syntaxHighlighter",t.syntaxHighlighter),t.hasOwnProperty("htmlSanitizer")&&this.setProp("htmlSanitizer",t.htmlSanitizer),t.hasOwnProperty("markdownLinkTarget")&&this.setProp("markdownLinkTarget",t.markdownLinkTarget),t.hasOwnProperty("skipStreamingAnimation")&&this.setProp("skipStreamingAnimation",t.skipStreamingAnimation),t.hasOwnProperty("streamingAnimationSpeed")&&this.setProp("streamingAnimationSpeed",t.streamingAnimationSpeed),t.hasOwnProperty("assistantPersona")&&((r=this.conversation)==null||r.setAssistantPersona(t.assistantPersona??void 0),(o=this.launchPad)==null||o.setAssistantPersona(t.assistantPersona??void 0)),t.hasOwnProperty("userPersona")&&((s=this.conversation)==null||s.setUserPersona(t.userPersona??void 0)),t.hasOwnProperty("showGreeting")&&((i=this.launchPad)==null||i.setShowGreeting(t.showGreeting??!0)),t.hasOwnProperty("conversationStarters")&&((a=this.launchPad)==null||a.setConversationStarters(t.conversationStarters)),t.hasOwnProperty("composer")&&this.composer){const l={...this.composer.getProp("domCompProps"),...t.composer};this.composer.setDomProps(l)}}show(){this.setProp("visible",!0)}setProp(t,e){if(super.setProp(t,e),t==="markdownLinkTarget"||t==="syntaxHighlighter"||t==="htmlSanitizer"||t==="skipStreamingAnimation"||t==="streamingAnimationSpeed"){const n=t,r=e;this.conversation.updateMarkdownStreamRenderer(n,r)}}addComposer(t,e,n,r){this.composer=ar(yn).withContext(this.context).withProps({props:{domCompProps:{status:"typing",placeholder:t,autoFocus:e,disableSubmitButton:n,submitShortcut:r}},eventListeners:{onTextUpdated:o=>this.handleComposerTextChange(o),onSubmit:()=>this.handleComposerSubmit()}}).create(),this.addSubComponent(this.composer.id,this.composer,"composerContainer")}addConversation(t,e,n){this.conversation=ar(ll).withContext(this.context).withProps({assistantPersona:t,userPersona:e,messages:n,conversationLayout:this.getProp("conversationLayout"),markdownLinkTarget:this.getProp("markdownLinkTarget"),showCodeBlockCopyButton:this.getProp("showCodeBlockCopyButton"),skipStreamingAnimation:this.getProp("skipStreamingAnimation"),streamingAnimationSpeed:this.getProp("streamingAnimationSpeed"),syntaxHighlighter:this.getProp("syntaxHighlighter"),htmlSanitizer:this.getProp("htmlSanitizer"),onSegmentCountChange:this.handleSegmentCountChange}).create(),this.addSubComponent(this.conversation.id,this.conversation,"conversationContainer")}addLaunchPad(t,e,n,r){this.launchPad=ar(cl).withContext(this.context).withProps({showGreeting:t,assistantPersona:e,conversationStarters:n,onConversationStarterSelected:r}).create(),this.addSubComponent(this.launchPad.id,this.launchPad,"launchPadContainer")}handleComposerSubmit(){const t=this.props.composer;(({context:e,composerInstance:n,conversation:r,autoScrollController:o,messageToSend:s,resetComposer:i,setComposerAsWaiting:a})=>()=>{var c,u;const l=r.addChatSegment();try{const p=n.getProp("domCompProps");n.setDomProps({...p,status:"submitting-prompt"});const d={aiChatProps:e.aiChatProps,conversationHistory:r.getConversationContentForAdapter((u=(c=e.aiChatProps)==null?void 0:c.conversationOptions)==null?void 0:u.historyPayloadSize)},m=Dy(s,e.adapter,d);m.observable.on("error",(h,y)=>{r.removeChatSegment(l),o==null||o.handleChatSegmentRemoved(l),i(!1),e.exception(h),e.emit("error",{errorId:h,message:By[h],errorObject:y})}),m.observable.on("userMessageReceived",h=>{r.addChatItem(l,h),e.emit("messageSent",{uid:h.uid,message:h.content}),Ct(()=>{if(o){const y=r.getChatSegmentContainer(l);y&&o.handleNewChatSegmentAdded(l,y)}})}),m.dataTransferMode==="batch"?m.observable.on("aiMessageReceived",h=>{const y=typeof h.content=="string",w={...h,content:y?"":h.content};r.addChatItem(l,w),y&&r.addChunk(l,w.uid,h.content,h.serverResponse),r.completeChatSegment(l),e.emit("messageReceived",{uid:h.uid,message:h.content}),i(!0)}):(m.observable.on("aiMessageStreamStarted",h=>{r.addChatItem(l,h),a(),e.emit("messageStreamStarted",{uid:h.uid})}),m.observable.on("aiChunkReceived",h=>{const{messageId:y,chunk:w,serverResponse:v}=h;r.addChunk(l,y,w,v)}),m.observable.on("aiMessageStreamed",h=>{h.status==="complete"&&e.emit("messageReceived",{uid:h.uid,message:h.content})}),m.observable.on("aiServerComponentStreamStarted",h=>{r.addChatItem(l,h),a(),e.emit("messageStreamStarted",{uid:h.uid})}),m.observable.on("aiServerComponentStreamed",h=>{h.status==="complete"&&e.emit("messageReceived",{uid:h.uid,message:h.content})}),m.observable.on("complete",()=>{r.completeChatSegment(l),i(!1)}))}catch(p){Me(p),i(!1)}})({context:this.context,composerInstance:this.composer,conversation:this.conversation,messageToSend:this.prompt,autoScrollController:this.autoScrollController,resetComposer:e=>{this.destroyed||this.resetComposer(e,t==null?void 0:t.autoFocus)},setComposerAsWaiting:()=>{this.destroyed||this.composer.setDomProps({status:"waiting"})}})()}handleComposerTextChange(t){this.prompt=t}resetComposer(t=!1,e=!1){if(!this.composer)return;const n={...this.composer.getProp("domCompProps"),status:"typing"};t&&(n.message=""),this.composer.setDomProps(n),e&&this.composer.focusTextInput()}};ia([pt("conversation-container-clicked")],is.prototype,"messagesContainerClicked",1),ia([pt("chat-room-ready")],is.prototype,"onChatRoomReady",1),is=ia([cn("chatRoom",({appendToRoot:t,compEvent:e,props:n})=>{const r=document.createElement("div");r.classList.add("nlux-conversation-container");const o=document.createElement("div");o.classList.add("nlux-composer-container");const s=document.createElement("div");s.classList.add("nlux-launchPad-container");const i=document.createDocumentFragment();i.appendChild(s),i.appendChild(r),i.appendChild(o);const a=n.visible??!0,l=document.createElement("div"),c=d=>{l.classList.remove("nlux-chatRoom-starting"),l.classList.remove("nlux-chatRoom-active"),l.classList.add(`nlux-chatRoom-${d}`)};l.classList.add("nlux-chatRoom-container"),c(pl(n.initialConversationContent)),l.append(i),l.style.display=a?"":"none";const[u,p]=ni(l,":scope > .nlux-conversation-container").on("click",e("conversation-container-clicked")).get();return t(l),e("chat-room-ready")(),{elements:{composerContainer:o,conversationContainer:r,launchPadContainer:s},actions:{updateChatRoomStatus:d=>{c(d)}},onDestroy:()=>{p()}}},({propName:t,newValue:e,dom:{elements:n}})=>{})],is);const _y=t=>{const e=new Set;let n=!1,r=null,o=null;const s=()=>{if(n||e.size===0)return;n=!0;const a=e.values().next().value;e.delete(a),r=(({message:l})=>{const c=document.createElement("div");c.classList.add("nlux-comp-exceptionItem");const u=document.createElement("span");return u.classList.add("nlux-comp-exp_itm_msg"),u.append(document.createTextNode(l)),c.append(u),c})(a),t.append(r),o=setTimeout(i,3e3)},i=()=>{r==null||r.classList.add("nlux-comp-exceptionItem--hiding"),o=setTimeout(()=>{n=!1,r==null||r.remove(),r=null,s()},500)};return{displayException:a=>{e.add({message:a}),n||s()},destroy:()=>{e.clear(),r==null||r.remove(),o&&clearTimeout(o)}}};let vd=class extends nt{constructor(t,e){super(t,e)}destroy(){super.destroy()}showAlert(t,e){this.executeDomAction("displayException",e)}};vd=((t,e,n,r)=>{for(var o,s=e,i=t.length-1;i>=0;i--)(o=t[i])&&(s=o(s)||s);return s})([cn("exceptionsBox",({props:t,appendToRoot:e})=>{const n=(()=>{const o=document.createElement("div");return o.classList.add("nlux-comp-exceptionBox"),o})();e(n);let r=_y(n);return{elements:{root:n},actions:{displayException:o=>{r==null||r.displayException(o)}},onDestroy:()=>{r==null||r.destroy(),n.remove(),r=void 0}}},()=>{})],vd);const Fy=t=>{const e=new Set;let n=!1,r=null,o=null;const s=()=>{if(n||e.size===0)return;n=!0;const a=e.values().next().value;e.delete(a),r=(({message:l})=>{const c=document.createElement("div");c.classList.add("nlux-comp-exceptionItem");const u=document.createElement("span");return u.classList.add("nlux-comp-exp_itm_msg"),u.append(document.createTextNode(l)),c.append(u),c})(a),t.append(r),o=setTimeout(i,3e3)},i=()=>{r==null||r.classList.add("nlux-comp-exceptionItem--hiding"),o=setTimeout(()=>{n=!1,r==null||r.remove(),r=null,s()},500)};return{displayException:a=>{e.add({message:a}),n||s()},destroy:()=>{e.clear(),r==null||r.remove(),o&&clearTimeout(o)}}},bt=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return(t=="x"?e:3&e|8).toString(16)}),$e=t=>{typeof t!="string"?t&&typeof t.toString=="function"?console.warn(`[nlux] ${t.toString()}`):console.warn("[nlux]"):console.warn(`[nlux] ${t}`)},yd=[],xo=t=>{yd.includes(t)||(yd.push(t),$e(t))},Uy={typing:"nlux-composer--typing","submitting-prompt":"nlux-composer--submitting","submitting-conversation-starter":"nlux-composer--submitting",waiting:"nlux-composer--waiting"},Nm=(t,e)=>{if(!e||e==="Enter"){const n=t.key==="Enter"&&!t.nativeEvent.isComposing,r=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;return n&&!r}return!!(e==="CommandEnter"&&t.key==="Enter"&&(t.getModifierState("Control")||t.getModifierState("Meta")))},$y=()=>A.jsx("div",{className:"nlux-comp-cancelIcon",children:A.jsx("div",{className:"nlux-comp-cancelIcon-container"})}),Wy=()=>A.jsx("div",{className:"nlux-comp-sendIcon",children:A.jsx("div",{className:"nlux-comp-sendIcon-container"})}),aa=["submitting-prompt","submitting-edit","submitting-conversation-starter","submitting-external-message"],Qy=t=>{const e=`nlux-comp-composer ${Uy[t.status]||""}`,n=aa.includes(t.status),r=!t.hasValidInput||t.status==="waiting"||aa.includes(t.status),o=t.status==="typing"||t.status==="waiting",s=t.hideStopButton!==!0&&(aa.includes(t.status)||t.status==="waiting"),i=C.useRef(null);C.useEffect(()=>{t.status==="typing"&&t.autoFocus&&i.current&&i.current.focus()},[t.status,t.autoFocus,i.current]);const a=C.useMemo(()=>u=>{var p;(p=t.onChange)==null||p.call(t,u.target.value)},[t.onChange]),l=C.useMemo(()=>()=>{var u;(u=t.onSubmit)==null||u.call(t)},[t.onSubmit]),c=C.useMemo(()=>u=>{Nm(u,t.submitShortcut)&&(u.preventDefault(),l())},[l,t.submitShortcut]);return C.useEffect(()=>{if(!i.current)return;const u=()=>{const p=i.current;p&&(p.style.height="auto",p.style.height=`${p.scrollHeight}px`)};return i.current.addEventListener("input",u),()=>{var p;(p=i.current)==null||p.removeEventListener("input",u)}},[i.current]),A.jsxs("div",{className:e,children:[A.jsx("textarea",{tabIndex:0,ref:i,disabled:n,placeholder:t.placeholder,value:t.prompt,onChange:a,onKeyDown:c,"aria-label":t.placeholder}),!s&&A.jsxs("button",{tabIndex:0,disabled:r,onClick:()=>t.onSubmit(),"aria-label":"Send",children:[o&&A.jsx(Wy,{}),!o&&t.Loader]}),s&&A.jsx("button",{tabIndex:0,onClick:t.onCancel,"aria-label":"Cancel",children:A.jsx($y,{})})]})},as=(t,e)=>{var n,r;return t==="assistant"?((n=e==null?void 0:e.assistant)==null?void 0:n.name)??"Assistant":t==="user"?((r=e==null?void 0:e.user)==null?void 0:r.name)??"User":""},Yy=t=>{const e="nlux-chatSegment";return t==="complete"?`${e} nlux-chatSegment--complete`:t==="error"?`${e} nlux-chatSegment--error`:`${e} nlux-chatSegment--active`},fl={received:"nlux_msg_received",sent:"nlux_msg_sent"},ml={streaming:"nlux_msg_streaming",complete:"nlux_msg_complete"},kd=t=>{if(!(t instanceof HTMLButtonElement)||t.dataset.clickListenerSet==="true")return;let e=!1;const n=t.nextElementSibling;t.addEventListener("click",()=>{if(e||!n)return;const r=n.innerText;navigator.clipboard.writeText(r??""),e=!0,t.classList.add("clicked"),setTimeout(()=>{e=!1,t.classList.remove("clicked")},1e3)}),t.dataset.clickListenerSet="true"},Dm=t=>{const e="nlux-comp-copyButton";t instanceof HTMLButtonElement&&t.classList.contains(e)?kd(t):t.querySelectorAll(`.${e}`).forEach(kd)};function Xy(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Dn={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function wd(t){Dn=t}var Zy=Object.defineProperty,Bm=(t,e,n)=>((r,o,s)=>o in r?Zy(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,typeof e!="symbol"?e+"":e,n);class qr{constructor(e){Bm(this,"options"),this.options=e||Dn}postprocess(e){return e}preprocess(e){return e}processAllTokens(e){return e}}Bm(qr,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));const jm=/[&<>"']/,Ky=new RegExp(jm.source,"g"),Hm=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Gy=new RegExp(Hm.source,"g"),qy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xd=t=>qy[t];function Ye(t,e){if(e){if(jm.test(t))return t.replace(Ky,xd)}else if(Hm.test(t))return t.replace(Gy,xd);return t}const Vy=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Jy(t){return t.replace(Vy,(e,n)=>(n=n.toLowerCase())==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):"")}const e0=/(^|[^\[])\^/g;function q(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const r={replace:(o,s)=>{let i=typeof s=="string"?s:s.source;return i=i.replace(e0,"$1"),n=n.replace(o,i),r},getRegex:()=>new RegExp(n,e)};return r}function Sd(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Vr={exec:()=>null};function Cd(t,e){const n=t.replace(/\|/g,(o,s,i)=>{let a=!1,l=s;for(;--l>=0&&i[l]==="\\";)a=!a;return a?"|":" |"}).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function ls(t,e,n){const r=t.length;if(r===0)return"";let o=0;for(;o<r;){const s=t.charAt(r-o-1);if(s!==e||n){if(s===e||!n)break;o++}else o++}return t.slice(0,r-o)}const Lo=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,_m=/(?:[*+-]|\d{1,9}[.)])/,Fm=q(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,_m).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Pu=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Tu=/(?!\s*\])(?:\\.|[^\[\]\\])+/,t0=q(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Tu).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),n0=q(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,_m).getRegex(),Ti="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Iu=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,r0=q("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Iu).replace("tag",Ti).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ed=q(Pu).replace("hr",Lo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ti).getRegex(),bu={blockquote:q(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ed).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:t0,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Lo,html:r0,lheading:Fm,list:n0,newline:/^(?: *(?:\n|$))+/,paragraph:Ed,table:Vr,text:/^[^\n]+/},Ad=q("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Lo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ti).getRegex(),o0={...bu,table:Ad,paragraph:q(Pu).replace("hr",Lo).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ad).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ti).getRegex()},s0={...bu,html:q(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Iu).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Vr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:q(Pu).replace("hr",Lo).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Fm).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Um=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,$m=/^( {2,}|\\)\n(?!\s*$)/,Mo="\\p{P}\\p{S}",i0=q(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Mo).getRegex(),a0=q(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Mo).getRegex(),l0=q("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Mo).getRegex(),u0=q("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Mo).getRegex(),c0=q(/\\([punct])/,"gu").replace(/punct/g,Mo).getRegex(),d0=q(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),p0=q(Iu).replace("(?:-->|$)","-->").getRegex(),f0=q("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",p0).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ri=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,m0=q(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ri).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Pd=q(/^!?\[(label)\]\[(ref)\]/).replace("label",ri).replace("ref",Tu).getRegex(),Td=q(/^!?\[(ref)\](?:\[\])?/).replace("ref",Tu).getRegex(),Ru={_backpedal:Vr,anyPunctuation:c0,autolink:d0,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:$m,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Vr,emStrongLDelim:a0,emStrongRDelimAst:l0,emStrongRDelimUnd:u0,escape:Um,link:m0,nolink:Td,punctuation:i0,reflink:Pd,reflinkSearch:q("reflink|nolink(?!\\()","g").replace("reflink",Pd).replace("nolink",Td).getRegex(),tag:f0,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Vr},h0={...Ru,link:q(/^!?\[(label)\]\((.*?)\)/).replace("label",ri).getRegex(),reflink:q(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ri).getRegex()},hl={...Ru,escape:q(Um).replace("])","~|])").getRegex(),url:q(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},g0={...hl,br:q($m).replace("{2,}","*").getRegex(),text:q(hl.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},us={normal:bu,gfm:o0,pedantic:s0},Mr={normal:Ru,gfm:hl,breaks:g0,pedantic:h0};var v0=Object.defineProperty,la=(t,e,n)=>((r,o,s)=>o in r?v0(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,typeof e!="symbol"?e+"":e,n);function Id(t,e,n,r){const o=e.href,s=e.title?Ye(e.title):null,i=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:o,title:s,text:i,tokens:r.inlineTokens(i)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:o,title:s,text:Ye(i)}}class oi{constructor(e){la(this,"lexer"),la(this,"options"),la(this,"rules"),this.options=e||Dn}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,o;return n[2]==="@"?(r=Ye(n[1]),o="mailto:"+r):(r=Ye(n[1]),o=r),{type:"link",raw:n[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=n[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=ls(r.replace(/^ *>[ \t]?/gm,""),`
`);const o=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:n[0],tokens:s,text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:ls(r,`
`)}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const o=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return o&&s&&(r=r.substring(1,r.length-1)),r=Ye(r,!0),{type:"codespan",raw:n[0],text:r}}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),o=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:o,title:s}}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}emStrong(e,n,r=""){let o=this.rules.inline.emStrongLDelim.exec(e);if(o&&!(o[3]&&r.match(/[\p{L}\p{N}]/u))&&(!(o[1]||o[2])||!r||this.rules.inline.punctuation.exec(r))){const s=[...o[0]].length-1;let i,a,l=s,c=0;const u=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,n=n.slice(-1*e.length+s);(o=u.exec(n))!=null;){if(i=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!i)continue;if(a=[...i].length,o[3]||o[4]){l+=a;continue}if((o[5]||o[6])&&s%3&&!((s+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);const p=[...o[0]][0].length,d=e.slice(0,s+o.index+p+a);if(Math.min(s,a)%2){const h=d.slice(1,-1);return{type:"em",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}const m=d.slice(2,-2);return{type:"strong",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Ye(n[1])}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],o=function(s,i){const a=s.match(/^(\s+)(?:```)/);if(a===null)return i;const l=a[1];return i.split(`
`).map(c=>{const u=c.match(/^\s+/);if(u===null)return c;const[p]=u;return p.length>=l.length?c.slice(l.length):c}).join(`
`)}(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:o}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const o=ls(r,"#");this.options.pedantic?r=o.trim():o&&!/ $/.test(o)||(r=o.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let r;return r=this.lexer.state.inRawBlock?n[0]:Ye(n[0]),{type:"text",raw:n[0],text:r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const i=ls(r.slice(0,-1),"\\");if((r.length-i.length)%2==0)return}else{const i=function(a,l){if(a.indexOf(l[1])===-1)return-1;let c=0;for(let u=0;u<a.length;u++)if(a[u]==="\\")u++;else if(a[u]===l[0])c++;else if(a[u]===l[1]&&(c--,c<0))return u;return-1}(n[2],"()");if(i>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+i;n[2]=n[2].substring(0,i),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let o=n[2],s="";if(this.options.pedantic){const i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);i&&(o=i[1],s=i[3])}else s=n[3]?n[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),Id(n,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const o=r.length>1,s={type:"list",raw:"",ordered:o,start:o?+r.slice(0,-1):"",loose:!1,items:[]};r=o?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=o?r:"[*+-]");const i=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;e;){let u=!1;if(!(n=i.exec(e))||this.rules.block.hr.test(e))break;a=n[0],e=e.substring(a.length);let p=n[2].split(`
`,1)[0].replace(/^\t+/,v=>" ".repeat(3*v.length)),d=e.split(`
`,1)[0],m=0;this.options.pedantic?(m=2,l=p.trimStart()):(m=n[2].search(/[^ ]/),m=m>4?1:m,l=p.slice(m),m+=n[1].length);let h=!1;if(!p&&/^ *$/.test(d)&&(a+=d+`
`,e=e.substring(d.length+1),u=!0),!u){const v=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),f=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),g=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){const x=e.split(`
`,1)[0];if(d=x,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),g.test(d)||k.test(d)||v.test(d)||f.test(e))break;if(d.search(/[^ ]/)>=m||!d.trim())l+=`
`+d.slice(m);else{if(h||p.search(/[^ ]/)>=4||g.test(p)||k.test(p)||f.test(p))break;l+=`
`+d}h||d.trim()||(h=!0),a+=x+`
`,e=e.substring(x.length+1),p=d.slice(m)}}s.loose||(c?s.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let y,w=null;this.options.gfm&&(w=/^\[[ xX]\] /.exec(l),w&&(y=w[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:a,task:!!w,checked:y,loose:!1,text:l,tokens:[]}),s.raw+=a}s.items[s.items.length-1].raw=a.trimEnd(),s.items[s.items.length-1].text=l.trimEnd(),s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){const p=s.items[u].tokens.filter(m=>m.type==="space"),d=p.length>0&&p.some(m=>/\n.*\n/.test(m.raw));s.loose=d}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const o=n[(r[2]||r[1]).replace(/\s+/g," ").toLowerCase()];if(!o){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return Id(r,o,r[0],this.lexer)}}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const r=Cd(n[1]),o=n[2].replace(/^\||\| *$/g,"").split("|"),s=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],i={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===o.length){for(const a of o)/^ *-+: *$/.test(a)?i.align.push("right"):/^ *:-+: *$/.test(a)?i.align.push("center"):/^ *:-+ *$/.test(a)?i.align.push("left"):i.align.push(null);for(const a of r)i.header.push({text:a,tokens:this.lexer.inline(a)});for(const a of s)i.rows.push(Cd(a,i.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return i}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}url(e){var r;let n;if(n=this.rules.inline.url.exec(e)){let o,s;if(n[2]==="@")o=Ye(n[0]),s="mailto:"+o;else{let i;do i=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(i!==n[0]);o=Ye(n[0]),s=n[1]==="www."?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:o,href:s,tokens:[{type:"text",raw:o,text:o}]}}}}var y0=Object.defineProperty,Or=(t,e,n)=>((r,o,s)=>o in r?y0(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,typeof e!="symbol"?e+"":e,n);class Mt{constructor(e){Or(this,"options"),Or(this,"state"),Or(this,"tokens"),Or(this,"inlineQueue"),Or(this,"tokenizer"),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Dn,this.options.tokenizer=this.options.tokenizer||new oi,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:us.normal,inline:Mr.normal};this.options.pedantic?(n.block=us.pedantic,n.inline=Mr.pedantic):this.options.gfm&&(n.block=us.gfm,this.options.breaks?n.inline=Mr.breaks:n.inline=Mr.gfm),this.tokenizer.rules=n}static get rules(){return{block:us,inline:Mr}}static lex(e,n){return new Mt(n).lex(e)}static lexInline(e,n){return new Mt(n).inlineTokens(e)}blockTokens(e,n=[]){let r,o,s,i;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,n))&&(e=e.substring(r.raw.length),n.push(r),!0))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),o=n[n.length-1],!o||o.type!=="paragraph"&&o.type!=="text"?n.push(r):(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.list(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.def(e))e=e.substring(r.raw.length),o=n[n.length-1],!o||o.type!=="paragraph"&&o.type!=="text"?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+=`
`+r.raw,o.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),n.push(r);else{if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s)))o=n[n.length-1],i&&o.type==="paragraph"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r),i=s.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),o=n[n.length-1],o&&o.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r);else if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,o,s,i,a,l,c=e;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(c))!=null;)u.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.blockSkip.exec(c))!=null;)c=c.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(c))!=null;)c=c.slice(0,i.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(l=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>!!(r=u.call({lexer:this},e,n))&&(e=e.substring(r.raw.length),n.push(r),!0))))if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.tag(e))e=e.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),o=n[n.length-1],o&&r.type==="text"&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);else if(r=this.tokenizer.emStrong(e,c,l))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),n.push(r);else if(r=this.tokenizer.autolink(e))e=e.substring(r.raw.length),n.push(r);else if(this.state.inLink||!(r=this.tokenizer.url(e))){if(s=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const p=e.slice(1);let d;this.options.extensions.startInline.forEach(m=>{d=m.call({lexer:this},p),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(r=this.tokenizer.inlineText(s))e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(l=r.raw.slice(-1)),a=!0,o=n[n.length-1],o&&o.type==="text"?(o.raw+=r.raw,o.text+=r.text):n.push(r);else if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}}else e=e.substring(r.raw.length),n.push(r);return n}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}}var k0=Object.defineProperty,w0=(t,e,n)=>((r,o,s)=>o in r?k0(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,e+"",n);class si{constructor(e){w0(this,"options"),this.options=e||Dn}blockquote(e){return`<blockquote>
${e}</blockquote>
`}br(){return"<br>"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}code(e,n,r){var s;const o=(s=(n||"").match(/^\S*/))==null?void 0:s[0];return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="language-'+Ye(o)+'">'+(r?e:Ye(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Ye(e,!0))+`</code></pre>
`}codespan(e){return`<code>${e}</code>`}del(e){return`<del>${e}</del>`}em(e){return`<em>${e}</em>`}heading(e,n,r){return`<h${n}>${e}</h${n}>
`}hr(){return`<hr>
`}html(e,n){return e}image(e,n,r){const o=Sd(e);if(o===null)return r;let s=`<img src="${e=o}" alt="${r}"`;return n&&(s+=` title="${n}"`),s+=">",s}link(e,n,r){const o=Sd(e);if(o===null)return r;let s='<a href="'+(e=o)+'"';return n&&(s+=' title="'+n+'"'),s+=">"+r+"</a>",s}list(e,n,r){const o=n?"ol":"ul";return"<"+o+(n&&r!==1?' start="'+r+'"':"")+`>
`+e+"</"+o+`>
`}listitem(e,n,r){return`<li>${e}</li>
`}paragraph(e){return`<p>${e}</p>
`}strong(e){return`<strong>${e}</strong>`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}tablerow(e){return`<tr>
${e}</tr>
`}text(e){return e}}class Lu{br(){return""}codespan(e){return e}del(e){return e}em(e){return e}html(e){return e}image(e,n,r){return""+r}link(e,n,r){return""+r}strong(e){return e}text(e){return e}}var x0=Object.defineProperty,ua=(t,e,n)=>((r,o,s)=>o in r?x0(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,typeof e!="symbol"?e+"":e,n);class Ot{constructor(e){ua(this,"options"),ua(this,"renderer"),ua(this,"textRenderer"),this.options=e||Dn,this.options.renderer=this.options.renderer||new si,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Lu}static parse(e,n){return new Ot(n).parse(e)}static parseInline(e,n){return new Ot(n).parseInline(e)}parse(e,n=!0){let r="";for(let o=0;o<e.length;o++){const s=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const i=s,a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(i.type)){r+=a||"";continue}}switch(s.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":{const i=s;r+=this.renderer.heading(this.parseInline(i.tokens),i.depth,Jy(this.parseInline(i.tokens,this.textRenderer)));continue}case"code":{const i=s;r+=this.renderer.code(i.text,i.lang,!!i.escaped);continue}case"table":{const i=s;let a="",l="";for(let u=0;u<i.header.length;u++)l+=this.renderer.tablecell(this.parseInline(i.header[u].tokens),{header:!0,align:i.align[u]});a+=this.renderer.tablerow(l);let c="";for(let u=0;u<i.rows.length;u++){const p=i.rows[u];l="";for(let d=0;d<p.length;d++)l+=this.renderer.tablecell(this.parseInline(p[d].tokens),{header:!1,align:i.align[d]});c+=this.renderer.tablerow(l)}r+=this.renderer.table(a,c);continue}case"blockquote":{const i=s,a=this.parse(i.tokens);r+=this.renderer.blockquote(a);continue}case"list":{const i=s,a=i.ordered,l=i.start,c=i.loose;let u="";for(let p=0;p<i.items.length;p++){const d=i.items[p],m=d.checked,h=d.task;let y="";if(d.task){const w=this.renderer.checkbox(!!m);c?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=w+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=w+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:w+" "}):y+=w+" "}y+=this.parse(d.tokens,c),u+=this.renderer.listitem(y,h,!!m)}r+=this.renderer.list(u,a,l);continue}case"html":{const i=s;r+=this.renderer.html(i.text,i.block);continue}case"paragraph":{const i=s;r+=this.renderer.paragraph(this.parseInline(i.tokens));continue}case"text":{let i=s,a=i.tokens?this.parseInline(i.tokens):i.text;for(;o+1<e.length&&e[o+1].type==="text";)i=e[++o],a+=`
`+(i.tokens?this.parseInline(i.tokens):i.text);r+=n?this.renderer.paragraph(a):a;continue}default:{const i='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return r}parseInline(e,n){n=n||this.renderer;let r="";for(let o=0;o<e.length;o++){const s=e[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const i=this.options.extensions.renderers[s.type].call({parser:this},s);if(i!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=i||"";continue}}switch(s.type){case"escape":{const i=s;r+=n.text(i.text);break}case"html":{const i=s;r+=n.html(i.text);break}case"link":{const i=s;r+=n.link(i.href,i.title,this.parseInline(i.tokens,n));break}case"image":{const i=s;r+=n.image(i.href,i.title,i.text);break}case"strong":{const i=s;r+=n.strong(this.parseInline(i.tokens,n));break}case"em":{const i=s;r+=n.em(this.parseInline(i.tokens,n));break}case"codespan":{const i=s;r+=n.codespan(i.text);break}case"br":r+=n.br();break;case"del":{const i=s;r+=n.del(this.parseInline(i.tokens,n));break}case"text":{const i=s;r+=n.text(i.text);break}default:{const i='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return r}}var Jr,bd,gl,S0=Object.defineProperty,Wm=t=>{throw TypeError(t)},xt=(t,e,n)=>((r,o,s)=>o in r?S0(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,typeof e!="symbol"?e+"":e,n),vl=(t,e,n)=>(((r,o,s)=>{o.has(r)||Wm("Cannot "+s)})(t,e,"access private method"),n);Jr=new WeakSet,bd=function(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const r="<p>An error occurred:</p><pre>"+Ye(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}},gl=function(t,e){return(n,r)=>{const o={...r},s={...this.defaults,...o};this.defaults.async===!0&&o.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const i=vl(this,Jr,bd).call(this,!!s.silent,!!s.async);if(n==null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(a=>t(a,s)).then(a=>s.hooks?s.hooks.processAllTokens(a):a).then(a=>s.walkTokens?Promise.all(this.walkTokens(a,s.walkTokens)).then(()=>a):a).then(a=>e(a,s)).then(a=>s.hooks?s.hooks.postprocess(a):a).catch(i);try{s.hooks&&(n=s.hooks.preprocess(n));let a=t(n,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let l=e(a,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(a){return i(a)}}};const kn=new class{constructor(...t){var e,n,r;e=this,(n=Jr).has(e)?Wm("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,r),xt(this,"Hooks",qr),xt(this,"Lexer",Mt),xt(this,"Parser",Ot),xt(this,"Renderer",si),xt(this,"TextRenderer",Lu),xt(this,"Tokenizer",oi),xt(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),xt(this,"options",this.setOptions),xt(this,"parse",vl(this,Jr,gl).call(this,Mt.lex,Ot.parse)),xt(this,"parseInline",vl(this,Jr,gl).call(this,Mt.lexInline,Ot.parseInline)),this.use(...t)}lexer(t,e){return Mt.lex(t,e??this.defaults)}parser(t,e){return Ot.parse(t,e??this.defaults)}setOptions(t){return this.defaults={...this.defaults,...t},this}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=e.renderers[o.name];e.renderers[o.name]=s?function(...i){let a=o.renderer.apply(this,i);return a===!1&&(a=s.apply(this,i)),a}:o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=e[o.level];s?s.unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&(o.level==="block"?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:o.level==="inline"&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),n.renderer){const o=this.defaults.renderer||new si(this.defaults);for(const s in n.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(s==="options")continue;const i=s,a=n.renderer[i],l=o[i];o[i]=(...c)=>{let u=a.apply(o,c);return u===!1&&(u=l.apply(o,c)),u||""}}r.renderer=o}if(n.tokenizer){const o=this.defaults.tokenizer||new oi(this.defaults);for(const s in n.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const i=s,a=n.tokenizer[i],l=o[i];o[i]=(...c)=>{let u=a.apply(o,c);return u===!1&&(u=l.apply(o,c)),u}}r.tokenizer=o}if(n.hooks){const o=this.defaults.hooks||new qr;for(const s in n.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const i=s,a=n.hooks[i],l=o[i];qr.passThroughHooks.has(s)?o[i]=c=>{if(this.defaults.async)return Promise.resolve(a.call(o,c)).then(p=>l.call(o,p));const u=a.call(o,c);return l.call(o,u)}:o[i]=(...c)=>{let u=a.apply(o,c);return u===!1&&(u=l.apply(o,c)),u}}r.hooks=o}if(n.walkTokens){const o=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(i){let a=[];return a.push(s.call(this,i)),o&&(a=a.concat(o.call(this,i))),a}}this.defaults={...this.defaults,...r}}),this}walkTokens(t,e){var r,o;let n=[];for(const s of t)switch(n=n.concat(e.call(this,s)),s.type){case"table":{const i=s;for(const a of i.header)n=n.concat(this.walkTokens(a.tokens,e));for(const a of i.rows)for(const l of a)n=n.concat(this.walkTokens(l.tokens,e));break}case"list":{const i=s;n=n.concat(this.walkTokens(i.items,e));break}default:{const i=s;(o=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&o[i.type]?this.defaults.extensions.childTokens[i.type].forEach(a=>{const l=i[a].flat(1/0);n=n.concat(this.walkTokens(l,e))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,e)))}}return n}};function oe(t,e){return kn.parse(t,e)}oe.options=oe.setOptions=function(t){return kn.setOptions(t),oe.defaults=kn.defaults,wd(oe.defaults),oe},oe.getDefaults=Xy,oe.defaults=Dn,oe.use=function(...t){return kn.use(...t),oe.defaults=kn.defaults,wd(oe.defaults),oe},oe.walkTokens=function(t,e){return kn.walkTokens(t,e)},oe.parseInline=kn.parseInline,oe.Parser=Ot,oe.parser=Ot.parse,oe.Renderer=si,oe.TextRenderer=Lu,oe.Lexer=Mt,oe.lexer=Mt.lex,oe.Tokenizer=oi,oe.Hooks=qr,oe.parse=oe;const Qm=(t,e)=>{const{showCodeBlockCopyButton:n,markdownLinkTarget:r,syntaxHighlighter:o,htmlSanitizer:s}=e||{},i=oe(t,{async:!1,breaks:!0});if(typeof i!="string")throw new Error("Markdown parsing failed");const a=document.createElement("div");return a.innerHTML=s?s(i):i,a.querySelectorAll("pre").forEach(l=>{const c=document.createElement("div");c.className="code-block";const u=l.querySelector("code");if(!u){const h=l.innerHTML;return c.innerHTML=s?s(h):h,void l.replaceWith(c)}let p;for(let h=0;h<u.classList.length;h++){const y=u.classList[h];if(y.startsWith("language-")){p=y.slice(9);break}}const d=document.createElement("pre"),m="<div>"+u.innerHTML+"</div>";if(d.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(m):m,p&&(d.setAttribute("data-language",p),o)){const h="<div>"+o.createHighlighter()(u.textContent||"",p)+"</div>";d.innerHTML=s?s(h):h,d.className="highlighter-dark"}(h=>{h.replaceChildren()})(c),c.appendChild(d),l.replaceWith(c)}),n!==!1&&a.querySelectorAll(".code-block").forEach(l=>{var d;if(!l.querySelector("pre")||(d=l.previousElementSibling)!=null&&d.classList.contains("nlux-comp-copyButton"))return;const c="Copy code block to clipboard",u=document.createElement("button");u.classList.add("nlux-comp-copyButton"),u.setAttribute("aria-label",c),u.setAttribute("title",c);const p=document.createElement("span");p.classList.add("icon-copy"),u.appendChild(p),l.appendChild(u)}),r!=="self"&&a.querySelectorAll("a").forEach(l=>{l.setAttribute("target","_blank")}),a.innerHTML},Ym="nlux-comp-message",Rd={received:"nlux-comp-chatItem--received",sent:"nlux-comp-chatItem--sent"},C0="nlux-comp-chatItem--bubblesLayout",E0="nlux-comp-chatItem--listLayout",A0=(t,e)=>{let n=!1;const{onComplete:r}=e||{},o=[],s=(e!=null&&e.skipStreamingAnimation?"timeout":"animationFrame")=="timeout"?p=>setTimeout(p,0):p=>requestAnimationFrame(p),i=document.createElement("div");i.classList.add("md-in-progress"),t.append(i);const a=()=>{for(;i.firstChild;){const p=i.firstChild;p instanceof HTMLElement&&Dm(p),i.before(p)}},l=!(e!=null&&e.skipStreamingAnimation)&&(e!=null&&e.streamingAnimationSpeed)&&e.streamingAnimationSpeed>=0?e.streamingAnimationSpeed:e!=null&&e.skipStreamingAnimation?0:8,c={timeSinceLastProcessing:new Date().getTime(),currentMarkdown:"",previousHtml:void 0};let u=setInterval(()=>{const p=new Date().getTime(),d=(e==null?void 0:e.waitTimeBeforeStreamCompletion)!=="never";if(o.length===0&&d){const h=typeof(e==null?void 0:e.waitTimeBeforeStreamCompletion)=="number"?e.waitTimeBeforeStreamCompletion:2e3;return void((n||p-c.timeSinceLastProcessing>h)&&(n=!0,u&&(clearInterval(u),u=void 0),a(),i.remove(),r==null?void 0:r()))}c.timeSinceLastProcessing=p;const m=o.shift();m!==void 0&&typeof m=="string"&&s(()=>{const h=c.currentMarkdown+m,y=Qm(h,e).trim();if(typeof y!="string")return c.currentMarkdown=c.currentMarkdown.slice(0,-m.length),void $e("Markdown parsing failed");if(c.previousHtml&&y.length>c.previousHtml.length&&y.startsWith(c.previousHtml)){a();const w=y.slice(c.previousHtml.length).trim();i.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(w):w,c.currentMarkdown=m,c.previousHtml=void 0}else i.innerHTML=e!=null&&e.htmlSanitizer?e.htmlSanitizer(y):y,c.currentMarkdown=h,c.previousHtml=y})},l);return{next:p=>{if(n)$e("Stream is already complete. No more chunks can be added");else for(const d of p)o.push(d)},complete:()=>{o.push(`
`),n=!0},cancel:()=>{u&&(clearInterval(u),u=void 0),n=!0,i.remove()},error:()=>{n=!0}}},P0=function(t,e){const{uid:n,status:r,responseRenderer:o,markdownOptions:s,initialMarkdownMessage:i,markdownContainersController:a}=t,[l,c]=C.useState([]),u=C.useRef(null),p=C.useRef(null),d=C.useRef(null),m=C.useRef(null),[h,y]=C.useState();C.useEffect(()=>{u.current!==p.current&&(p.current=u.current,y(u.current||void 0))}),C.useEffect(()=>{if(h){const v=a.getStreamingDomElement(n);h.append(v)}},[h]),C.useEffect(()=>{m.current=v=>{c(f=>[...f,v])}},[c]),C.useEffect(()=>{const v=a.getStreamingDomElement(n);return d.current=A0(v,{syntaxHighlighter:s==null?void 0:s.syntaxHighlighter,htmlSanitizer:s==null?void 0:s.htmlSanitizer,markdownLinkTarget:s==null?void 0:s.markdownLinkTarget,showCodeBlockCopyButton:s==null?void 0:s.showCodeBlockCopyButton,skipStreamingAnimation:s==null?void 0:s.skipStreamingAnimation,streamingAnimationSpeed:s==null?void 0:s.streamingAnimationSpeed,waitTimeBeforeStreamCompletion:s==null?void 0:s.waitTimeBeforeStreamCompletion,onComplete:s==null?void 0:s.onStreamComplete}),i&&d.current.next(i),()=>{a.deleteStreamingDomElement(n)}},[]),C.useEffect(()=>()=>{p.current=null,d.current=null,m.current=null,y(void 0)},[]),C.useImperativeHandle(e,()=>({streamChunk:v=>{var f,g;m.current&&((f=m.current)==null||f.call(m,v)),typeof v=="string"&&((g=d.current)==null||g.next(v))},completeStream:()=>{var v;(v=d.current)==null||v.complete()},cancelStream:()=>{var v;(v=d.current)==null||v.cancel()}}),[]);const w=o||void 0;return A.jsxs("div",{className:`${Ym} ${ml[r]} ${fl.received}`,children:[w&&A.jsx(w,{uid:n,status:r,containerRef:u,content:l,contentType:"text",serverResponse:[],dataTransferMode:"stream"}),!w&&A.jsx("div",{className:"nlux-markdownStream-root",ref:u})]})},T0=t=>{const{markdownOptions:e}=t,n=C.useRef(null),r=C.useMemo(()=>t.content?Qm(t.content,{syntaxHighlighter:e==null?void 0:e.syntaxHighlighter,htmlSanitizer:e==null?void 0:e.htmlSanitizer,markdownLinkTarget:e==null?void 0:e.markdownLinkTarget,showCodeBlockCopyButton:e==null?void 0:e.showCodeBlockCopyButton}):"",[t.content,e==null?void 0:e.markdownLinkTarget,e==null?void 0:e.syntaxHighlighter,e==null?void 0:e.htmlSanitizer,e==null?void 0:e.showCodeBlockCopyButton]);C.useEffect(()=>{n.current&&(e==null?void 0:e.showCodeBlockCopyButton)!==!1&&Dm(n.current)},[r,n.current,e==null?void 0:e.showCodeBlockCopyButton]);const o=C.useMemo(()=>e!=null&&e.htmlSanitizer?e.htmlSanitizer(r):r,[r,e==null?void 0:e.htmlSanitizer]),s=C.useCallback(c=>{if(!t.canResubmit)return;const u=c.currentTarget.textContent;return u?Nm(c,t.submitShortcutKey)?(c.preventDefault(),void(t.onResubmit&&t.onResubmit(u))):void(c.key==="Escape"&&(c.preventDefault(),c.currentTarget.textContent=t.content,c.currentTarget.blur())):void 0},[t.canResubmit,t.onResubmit,t.content]),i=C.useCallback(c=>{t.canResubmit&&(c.preventDefault(),c.currentTarget.textContent=t.content,c.currentTarget.blur())},[t.canResubmit,t.content]),a=C.useCallback(c=>{if(!t.canResubmit)return;c.preventDefault();const u=document.createRange();u.selectNodeContents(c.currentTarget);const p=window.getSelection();p==null||p.removeAllRanges(),p==null||p.addRange(u)},[t.canResubmit]),l=t.canResubmit?"editable-markdown-container":"";return A.jsx(Xm,{children:A.jsx("div",{className:"nlux-markdownStream-root"+(l?` ${l}`:""),children:A.jsx("div",{className:"nlux-markdown-container",ref:n,dangerouslySetInnerHTML:{__html:o},contentEditable:t.canResubmit,onKeyDown:s,onBlur:i,onFocus:a})})})};class Xm extends C.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){$e("Markdown rendering error occurred. This could be due to a malformed markdown content, or it could be because the page requires an HTML sanitizer. Please check the error message for more details and consider configuring NLUX with a compatible sanitizer."),this.props.onMarkdownRenderingError&&this.props.onMarkdownRenderingError(e)}render(){return this.state.hasError?null:this.props.children}}const Ld=t=>A.jsx(Xm,{children:A.jsx(T0,{...t})}),Zm=t=>{const e=typeof t.avatar=="string",n=!e&&C.isValidElement(t.avatar);return A.jsxs("div",{className:"nlux-comp-avatar",children:[n&&t.avatar,!n&&e&&A.jsx("div",{className:"nlux-comp-avatarContainer",children:t.avatar&&A.jsx("div",{className:"nlux-comp-avatarPicture",style:{backgroundImage:`url("${encodeURI(t.avatar)}")`}})})]})},I0=function(t,e){var v,f,g,k,x,P,R,M;const n=C.useRef(null);C.useImperativeHandle(e,()=>({streamChunk:b=>setTimeout(()=>{var I;return(I=n==null?void 0:n.current)==null?void 0:I.streamChunk(b)}),completeStream:()=>setTimeout(()=>{var b;return(b=n==null?void 0:n.current)==null?void 0:b.completeStream()}),cancelStream:()=>{var b;return(b=n==null?void 0:n.current)==null?void 0:b.cancelStream()}}),[]);const r=t.contentType==="server-component",o=t.direction==="received",s=t.direction==="sent",i=t.dataTransferMode==="stream",a=t.isPartOfInitialSegment,l=C.useCallback(()=>{var b;return(b=t.onMarkdownStreamRendered)==null?void 0:b.call(t,t.uid)},[t.uid]);C.useEffect(()=>{var b;i||r||a||((b=t.onMarkdownStreamRendered)==null||b.call(t,t.uid))},[]);const c=function(b){const{uid:I,status:_,dataTransferMode:D,contentType:F,fetchedContent:z,streamedContent:j,streamedServerResponse:Y,fetchedServerResponse:S,direction:E,messageOptions:L}=b;if((L==null?void 0:L.responseRenderer)!==void 0){if(D==="stream"){const $={uid:I,status:_,dataTransferMode:D,contentType:F,content:j??[],serverResponse:Y??[]};return()=>{const ne=L.responseRenderer;return A.jsx(ne,{...$})}}const N=C.isValidElement(z),U={uid:I,status:"complete",dataTransferMode:D,contentType:F,content:z?N?[]:[z]:[],serverComponent:N?z:void 0,serverResponse:S?[S]:[]};return()=>{const $=L.responseRenderer;return A.jsx($,{...U})}}if(E==="sent"){if(typeof z=="string"){const N=z;return()=>A.jsx(A.Fragment,{children:N})}return()=>""}if(typeof z=="string"){const N=z;return()=>A.jsx(Ld,{messageUid:I,content:N,markdownOptions:{syntaxHighlighter:L==null?void 0:L.syntaxHighlighter,htmlSanitizer:L==null?void 0:L.htmlSanitizer,markdownLinkTarget:L==null?void 0:L.markdownLinkTarget,showCodeBlockCopyButton:L==null?void 0:L.showCodeBlockCopyButton,skipStreamingAnimation:L==null?void 0:L.skipStreamingAnimation}})}return C.isValidElement(z)?()=>A.jsx(A.Fragment,{children:z}):()=>""}(t),u=function(b){var I;return C.useCallback(()=>{var D,F,z;if(((D=b.messageOptions)==null?void 0:D.promptRenderer)===void 0)return A.jsx(Ld,{messageUid:b.uid,content:b.fetchedContent,markdownOptions:{htmlSanitizer:(F=b.messageOptions)==null?void 0:F.htmlSanitizer},canResubmit:(z=b.messageOptions)==null?void 0:z.editableUserMessages,submitShortcutKey:b.submitShortcutKey,onResubmit:j=>{b.onPromptResubmit&&b.onPromptResubmit(j)}});const _=b.messageOptions.promptRenderer;return A.jsx(_,{uid:b.uid,prompt:b.fetchedContent,onResubmit:j=>{b.onPromptResubmit&&b.onPromptResubmit(j)}})},[(I=b.messageOptions)==null?void 0:I.promptRenderer,b.fetchedContent,b.uid])}(t),p=C.useMemo(()=>C.forwardRef(P0),[]),d=function(b){const I=C.useMemo(()=>A.jsxs("div",{className:"nlux-comp-chatItem-participantInfo",children:[b.avatar!==void 0&&A.jsx(Zm,{name:b.name,avatar:b.avatar}),A.jsx("span",{className:"nlux-comp-chatItem-participantName",children:b.name})]}),[b.avatar,b.name]);return()=>A.jsx(A.Fragment,{children:I})}(t),m=`nlux-comp-chatItem ${t.direction?Rd[t.direction]:Rd.received} ${t.layout==="bubbles"?C0:E0}`,h=t.status?ml[t.status]:ml.rendered,y=t.direction?fl[t.direction]:fl.received,w=`${Ym} ${h} ${y}`;return A.jsxs("div",{className:m,children:[A.jsx(d,{}),o&&i&&!r&&A.jsx(p,{uid:t.uid,status:t.status,ref:n,direction:t.direction,responseRenderer:(v=t.messageOptions)==null?void 0:v.responseRenderer,markdownContainersController:t.markdownContainersController,markdownOptions:{syntaxHighlighter:(f=t.messageOptions)==null?void 0:f.syntaxHighlighter,htmlSanitizer:(g=t.messageOptions)==null?void 0:g.htmlSanitizer,markdownLinkTarget:(k=t.messageOptions)==null?void 0:k.markdownLinkTarget,showCodeBlockCopyButton:(x=t.messageOptions)==null?void 0:x.showCodeBlockCopyButton,skipStreamingAnimation:(P=t.messageOptions)==null?void 0:P.skipStreamingAnimation,streamingAnimationSpeed:(R=t.messageOptions)==null?void 0:R.streamingAnimationSpeed,waitTimeBeforeStreamCompletion:(M=t.messageOptions)==null?void 0:M.waitTimeBeforeStreamCompletion,onStreamComplete:l}},"do-not-change"),o&&i&&r&&A.jsx("div",{className:w,children:t.fetchedContent}),o&&!i&&A.jsx("div",{className:w,children:A.jsx(c,{})}),s&&A.jsx("div",{className:w,children:A.jsx(u,{})})]})},cs=(t,e)=>{var n,r;return t==="assistant"?(n=e==null?void 0:e.assistant)==null?void 0:n.avatar:t==="user"?(r=e==null?void 0:e.user)==null?void 0:r.avatar:void 0},Md=t=>typeof t=="string"||typeof t=="number"||typeof t=="boolean"||t==null,b0=function(t,e){const{chatSegment:n,containerRef:r}=t,[o,s]=C.useState(!1),i=C.useMemo(()=>new Map,[]),a=C.useMemo(()=>new Map,[]),l=C.useRef(new Map),c=C.useRef(new Map);((m,h,y,w)=>{C.useEffect(()=>{if(m.length===0)return w.clear(),h.current.clear(),void y.current.clear();const v=new Set(w.keys()),f=new Set(m.map(g=>g.uid));v.forEach(g=>{f.has(g)||w.delete(g)}),new Set(h.current.keys()).forEach(g=>{f.has(g)||(h.current.delete(g),y.current.delete(g))})},[m])})(n.items,l,c,i),C.useImperativeHandle(e,()=>({streamChunk:(m,h)=>{const y=i.get(m);if(y!=null&&y.current){const w=y.current.streamChunk;(a.get(m)??[]).forEach(v=>{w(v)}),a.delete(m),w(h)}else{const w=a.get(m)??[];a.set(m,[...w,h])}},completeStream:m=>{const h=i.get(m);h!=null&&h.current?(h.current.completeStream(),i.delete(m)):s(!0)},cancelStreams:()=>{a.clear(),i.forEach(m=>{var h;(h=m.current)==null||h.cancelStream()})}}),[]),C.useEffect(()=>{a.size>0&&a.forEach((m,h)=>{const y=i.get(h);y!=null&&y.current&&(m.forEach(w=>{var v;(v=y==null?void 0:y.current)==null||v.streamChunk(w)}),a.delete(h),o&&(y.current.completeStream(),s(!1)))})});const u=C.useMemo(()=>n.status!=="active"?null:A.jsx("div",{className:"nlux-chatSegment-loader-container",children:t.Loader}),[n.status,t.Loader]),p=C.useMemo(()=>C.forwardRef(I0),[]),d=C.useCallback(m=>{var h;(h=t.onMarkdownStreamRendered)==null||h.call(t,n.uid,m)},[]);return n.items.length===0?null:A.jsxs("div",{ref:r,className:Yy(n.status),children:[n.items.map(m=>R0(t,p,n,m,i,c,l,d)),u]})},R0=function(t,e,n,r,o,s,i,a){var d;const l=t.isInitialSegment;let c=o.get(r.uid);c||(c=C.createRef(),o.set(r.uid,c));let u=r.content,p="text";if(typeof u=="function"){const m=s.current.get(r.uid),h=i.current.get(r.uid);if(m&&h)u=h,p="server-component";else{i.current.delete(r.uid),s.current.delete(r.uid);try{const y=u;if(u=A.jsx(y,{}),!u||!C.isValidElement(u))throw new Error("Invalid React element returned from the AI chat content function.");p="server-component",i.current.set(r.uid,u),s.current.set(r.uid,y)}catch{return $e(`The type of the AI chat content is an invalid function.
If you're looking to render a React Server Components, please refer to docs.nlkit.com/nlux for more information.
`),null}}}if(r.participantRole==="user")return r.status!=="complete"?(xo(`User chat item should be always be in complete state  Current status: ${r.status}  Segment UID: ${n.uid}`),null):Md(u)?A.jsx(e,{ref:c,uid:r.uid,status:"complete",direction:"sent",contentType:p,dataTransferMode:"batch",fetchedContent:r.content,markdownContainersController:t.markdownContainersController,layout:t.layout,messageOptions:t.messageOptions,isPartOfInitialSegment:l,name:as(r.participantRole,t.personaOptions),avatar:cs(r.participantRole,t.personaOptions),submitShortcutKey:t.submitShortcutKey,onPromptResubmit:m=>t.onPromptResubmit(t.chatSegment.uid,r.uid,m)},r.uid):(xo(`User chat item should have primitive content (string, number, boolean, null)  Current content: ${JSON.stringify(u)}  Segment UID: ${n.uid}`),null);if(r.status==="complete"){if(r.dataTransferMode==="stream"){const m=r;return A.jsx(e,{ref:c,uid:r.uid,status:r.status,direction:"received",contentType:p,dataTransferMode:r.dataTransferMode,markdownContainersController:t.markdownContainersController,onMarkdownStreamRendered:a,streamedContent:u,streamedServerResponse:m.serverResponse,layout:t.layout,messageOptions:t.messageOptions,isPartOfInitialSegment:l,name:as(r.participantRole,t.personaOptions),avatar:cs(r.participantRole,t.personaOptions)},r.uid)}return p!=="text"||Md(u)||(d=t.messageOptions)!=null&&d.responseRenderer?A.jsx(e,{ref:c,uid:r.uid,status:"complete",direction:"received",contentType:p,dataTransferMode:r.dataTransferMode,markdownContainersController:t.markdownContainersController,onMarkdownStreamRendered:a,fetchedContent:u,fetchedServerResponse:r.serverResponse,layout:t.layout,messageOptions:t.messageOptions,isPartOfInitialSegment:l,name:as(r.participantRole,t.personaOptions),avatar:cs(r.participantRole,t.personaOptions)},r.uid):($e(`When the type of the AI chat content is not primitive (object or array), a custom renderer must be provided  Current content: ${JSON.stringify(u)}  Segment UID: ${n.uid}`),null)}if(r.status==="streaming"){const m=p==="server-component"&&C.isValidElement(u)?u:void 0;return A.jsx(e,{ref:c,uid:r.uid,status:"streaming",direction:"received",contentType:p,dataTransferMode:r.dataTransferMode,markdownContainersController:t.markdownContainersController,onMarkdownStreamRendered:a,fetchedContent:m,layout:t.layout,messageOptions:t.messageOptions,isPartOfInitialSegment:l,name:as(r.participantRole,t.personaOptions),avatar:cs(r.participantRole,t.personaOptions)},r.uid)}},L0=function(t,e){const{segments:n,personaOptions:r,conversationOptions:o,onLastActiveSegmentChange:s}=t,i=C.createRef();(function(u,p,d){const m=C.useMemo(()=>{const y=u.length>0?u[u.length-1]:void 0;return(y==null?void 0:y.status)==="active"?y.uid:void 0},[u]),h=C.useRef(void 0);C.useEffect(()=>{if(!d)return;const y=h.current;if(m===(y==null?void 0:y.uid)&&p.current===(y==null?void 0:y.div))return;const w=m&&p.current?{uid:m,div:p.current}:void 0;(w||h.current)&&(d(w),h.current=w)})})(n,i,s);const a=function(u){const p=C.useMemo(()=>new Map,[]);return C.useEffect(()=>{if(u.length===0)return void p.clear();const d=new Set(p.keys()),m=new Set(u.map(h=>h.uid));d.forEach(h=>{m.has(h)||p.delete(h)})},[u]),{get:d=>{var m;return(m=p.get(d))==null?void 0:m.current},getRef:d=>p.get(d),set:(d,m)=>{p.set(d,m)},remove:d=>{p.delete(d)}}}(n),l=(u=>C.useMemo(()=>{return p=u==null?void 0:u.layout,p??"bubbles";var p},[u==null?void 0:u.layout]))(o);C.useImperativeHandle(e,()=>({streamChunk:(u,p,d)=>{const m=a.get(u);m==null||m.streamChunk(p,d)},completeStream:(u,p)=>{const d=a.get(u);d==null||d.completeStream(p)},cancelSegmentStreams:u=>{const p=a.get(u);p==null||p.cancelStreams()}}),[]);const c=C.useMemo(()=>C.forwardRef(b0),[]);return A.jsx("div",{className:"nlux-chatSegments-container",children:n.map((u,p)=>{const d=p===n.length-1,m=u.uid==="initial";let h=a.getRef(u.uid);return h||(h=C.createRef(),a.set(u.uid,h)),A.jsx(c,{ref:h,containerRef:d?i:void 0,markdownContainersController:t.markdownContainersController,chatSegment:u,isInitialSegment:m,layout:l,personaOptions:r,messageOptions:t.messageOptions,Loader:t.Loader,submitShortcutKey:t.submitShortcutKey,onPromptResubmit:t.onPromptResubmit,onMarkdownStreamRendered:t.onMarkdownStreamRendered},u.uid)})})},M0=t=>{const{onConversationStarterSelected:e}=t;return A.jsx("div",{className:"nlux-comp-conversationStarters",children:t.items.map((n,r)=>A.jsxs("button",{className:"nlux-comp-conversationStarter",onClick:()=>e(n),children:[A.jsx(O0,{icon:n.icon}),A.jsx("span",{className:"nlux-comp-conversationStarter-prompt",children:n.label??n.prompt})]},r))})},O0=({icon:t})=>t?typeof t=="string"?A.jsx("img",{src:t,width:16}):A.jsx("div",{className:"nlux-comp-conversationStarter-icon-container",children:t}):null,Km="nlux-comp-welcomeMessage",Gm=t=>A.jsxs("div",{className:Km,children:[A.jsx(Zm,{avatar:t.avatar,name:t.name}),A.jsx("div",{className:"nlux-comp-welcomeMessage-personaName",children:t.name}),t.message&&A.jsx("div",{className:"nlux-comp-welcomeMessage-text",children:t.message})]}),Od=({children:t})=>A.jsx("div",{className:Km,children:t}),z0=()=>{const t=C.useMemo(()=>"data:image/png;base64,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",[]);return A.jsx(Gm,{avatar:t,name:""})},N0=t=>{const{segments:e,personaOptions:n,conversationOptions:r,userDefinedGreeting:o}=t,s=C.useMemo(()=>e.some(p=>p.items.length>0),[e]),i=C.useMemo(()=>!o&&!s&&(n==null?void 0:n.assistant)===void 0&&(r==null?void 0:r.showWelcomeMessage)!==!1,[s,n==null?void 0:n.assistant,r==null?void 0:r.showWelcomeMessage,o]),a=C.useMemo(()=>!o&&!s&&(n==null?void 0:n.assistant)!==void 0&&(r==null?void 0:r.showWelcomeMessage)!==!1,[o,s,n==null?void 0:n.assistant,r==null?void 0:r.showWelcomeMessage]),l=C.useMemo(()=>!s&&(r==null?void 0:r.conversationStarters)&&(r==null?void 0:r.conversationStarters.length)>0,[s,r==null?void 0:r.conversationStarters]),c=C.useMemo(()=>o!==void 0&&(r==null?void 0:r.showWelcomeMessage)!==!1,[o]);C.useEffect(()=>{o&&(r==null?void 0:r.showWelcomeMessage)===!1&&xo("Configuration conflict: The greeting UI override provided via <AiChatUI.Greeting> will not be shown because conversationOptions.showWelcomeMessage is set to false.")},[r==null?void 0:r.showWelcomeMessage,o]);const u=!(i||a||c||s);return A.jsxs(A.Fragment,{children:[i&&A.jsx(z0,{}),a&&A.jsx(Gm,{name:n.assistant.name,avatar:n.assistant.avatar,message:n.assistant.tagline}),c&&A.jsx(Od,{children:o}),u&&A.jsx(Od,{children:null}),A.jsx("div",{className:"nlux-conversationStarters-container",children:l&&A.jsx(M0,{items:r.conversationStarters??[],onConversationStarterSelected:t.onConversationStarterSelected})})]})},yl=t=>{var r;const e={},n=Object.keys(t);for(let o=0;o<n.length;o++){const s=n[o];s!=="personaOptions"&&s!=="messageOptions"&&s!=="adapter"&&s!=="events"&&Object.assign(e,{[s]:t[s]})}return t.personaOptions&&(e.personaOptions={},t.personaOptions.assistant&&(e.personaOptions.assistant={name:t.personaOptions.assistant.name,avatar:typeof t.personaOptions.assistant.avatar=="string"?t.personaOptions.assistant.avatar:"<REACT ELEMENT />",tagline:t.personaOptions.assistant.tagline}),t.personaOptions.user&&(e.personaOptions.user={name:t.personaOptions.user.name,avatar:typeof t.personaOptions.user.avatar=="string"?t.personaOptions.user.avatar:"<REACT ELEMENT />"})),t.messageOptions&&(e.messageOptions={...t.messageOptions,responseRenderer:t.messageOptions.responseRenderer?()=>null:void 0,promptRenderer:t.messageOptions.promptRenderer?()=>null:void 0}),(r=t.conversationOptions)!=null&&r.conversationStarters&&(e.conversationOptions={...t.conversationOptions,conversationStarters:t.conversationOptions.conversationStarters.map(o=>({...o,icon:o.icon?"<REACT ELEMENT />":void 0}))}),e};var D0=Object.defineProperty,ds=(t,e,n)=>((r,o,s)=>o in r?D0(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s)(t,typeof e!="symbol"?e+"":e,n);class B0 extends Error{constructor(e={}){super(e.message),ds(this,"exceptionId"),ds(this,"message"),ds(this,"source"),ds(this,"type"),this.message=e.message??"",this.source=e.source,this.type=this.constructor.name,this.exceptionId=e.exceptionId}}const j0=(t,e)=>{let n,r=e,o=t,s=!0;const i=((y,w)=>{let v=!1;if(typeof y!="function")throw new B0({source:"x/throttle",message:"Callback must be a function"});return(...f)=>{v||(y.apply(void 0,f),v=!0,setTimeout(function(){v=!1},w))}})((y=>{let w,v;return f=>{const g=f.target;if(!(g instanceof HTMLElement))return;const{scrollTop:k,clientHeight:x,scrollHeight:P}=g,R=P-30,M=Math.ceil(k+x)>=R,b=w===void 0||v===void 0?void 0:k>w&&v===P?"down":k<w&&v===P?"up":void 0;v=P,w=k,y({scrolledToBottom:M,scrollDirection:b})}})(({scrolledToBottom:y,scrollDirection:w})=>{s?w==="up"&&(s=!1):w==="down"&&y&&(s=!0)}),50),a=y=>{y.addEventListener("scroll",i)},l=y=>{y==null||y.removeEventListener("scroll",i)},c=y=>{(n==null?void 0:n.uid)===y&&(u==null||u.disconnect(),p==null||p.disconnect(),n=void 0,u=void 0,p=void 0)};let u,p;const d=()=>{o==null||o.scrollTo({top:5e4,behavior:"instant"})},m=()=>{o&&r&&s&&d()},h=()=>{m()};return a(o),{updateConversationContainer:y=>{l(o),a(y),o=y},updateProps:({autoScroll:y})=>{r=y},handleNewChatSegmentAdded:(y,w)=>{n&&(u==null||u.disconnect(),p==null||p.disconnect()),n={uid:y,container:w},u=new ResizeObserver(m),u.observe(w),p=new MutationObserver(h),p.observe(w,{childList:!0,subtree:!0,characterData:!0}),r&&d()},handleChatSegmentRemoved:y=>c(y),handleChatSegmentComplete:y=>c(y),destroy:()=>{n&&(c(n.uid),n=void 0),l(o),o=void 0}}},zd=!0,Nd=C.createContext({}),ii=t=>{if(typeof t!="object"||t===null)return!1;const e=t;return(typeof e.streamText=="function"||typeof e.batchText=="function")&&["stream","batch"].includes(e.dataTransferMode)&&typeof e.id=="string"&&typeof e.info=="object"&&e.info!==null&&typeof e.preProcessAiBatchedMessage=="function"&&typeof e.preProcessAiStreamedChunk=="function"};var Xd;const H0=typeof navigator<"u"&&((Xd=navigator==null?void 0:navigator.userAgent)!=null&&Xd.includes("Safari"))?100:1,ye=(t,e=H0)=>{setTimeout(()=>{t()},e)},_0=(t,e,n,r,o,s,i,a,l)=>new Promise(c=>{const u=bt(),p=[],d=[];let m=!1,h=!1,y=!1;const w=ii(n),v={next:f=>{if(h||y)return;let g,k;if(w){const x=f,P=n.preProcessAiStreamedChunk(x,r);P!=null&&(g=P,k=x,p.push(g),d.push(k))}else g=f,p.push(g);g!=null?(m||m||(m=!0,ye(()=>{o.forEach(x=>{x({uid:u,status:"streaming",time:new Date,participantRole:"assistant",dataTransferMode:"stream"})})})),ye(()=>{i.forEach(x=>{x({chunk:g,messageId:u,serverResponse:k})})})):$e("Adapter returned an undefined or null value from streamText. This chunk will be ignored.")},complete:()=>{h||y||(y=!0,ye(()=>{const f={uid:u,status:"complete",content:p,contentType:"text",serverResponse:void 0,time:new Date,participantRole:"assistant",dataTransferMode:"stream"};s.forEach(g=>{g(f)}),c()}),ye(()=>{const f={uid:t,status:"complete",items:[e,{uid:u,status:"complete",contentType:"text",content:p,serverResponse:d,time:new Date,participantRole:"assistant",dataTransferMode:"stream"}]};a.forEach(g=>{g(f)})}))},error:f=>{h||y||(h=!0,ye(()=>{l.forEach(g=>{g("failed-to-stream-content",f)}),c()}))}};n.streamText(e.content,v,r)}),F0=(t,e,n)=>{if(!t)return(()=>{const f=new Set,g=bt(),k={uid:g,status:"complete",items:[]};return ye(()=>{f.forEach(x=>{x(k)}),f.clear()}),{segment:k,observable:{on:(x,P)=>{x==="complete"&&f.add(P)},removeListener:(x,P)=>{f.delete(P)},destroy:()=>{f.clear()},get segmentId(){return g}},dataTransferMode:"batch"}})();const r=e;if(r.streamText===void 0&&r.batchText===void 0&&r.streamServerComponent===void 0)return(f=>{const g=new Set,k=bt(),x={uid:k,status:"error",items:[]};return ye(()=>{g.forEach(P=>P(f)),g.clear()}),{segment:x,dataTransferMode:"stream",observable:{on:(P,R)=>{P==="error"&&g.add(R)},removeListener:(P,R)=>{g.delete(R)},destroy:()=>{g.clear()},get segmentId(){return k}}}})("no-data-transfer-mode-supported");const o=bt(),s=(f=>({uid:bt(),time:new Date,status:"complete",participantRole:"user",content:f,contentType:"text"}))(t);let i,a,l,c,u,p,d=new Set,m=new Set,h=new Set;ye(()=>{d!=null&&d.size&&(d.forEach(f=>{f(s)}),d.clear(),d=void 0)});const y=(f=>{const g=[],k=f,x=f;(k==null?void 0:k.streamText)===void 0&&(x==null?void 0:x.streamServerComponent)===void 0||g.push("stream"),(k==null?void 0:k.batchText)!==void 0&&g.push("batch");const P=ii(f)?f:void 0,R=(P==null?void 0:P.dataTransferMode)??void 0,M=g.length===1?g[0]:"stream";return R??M})(e);(f=>"streamServerComponent"in f?"server-component":"text")(e)==="server-component"?(l=new Set,a=new Set,((f,g,k,x,P,R,M,b)=>new Promise((I,_)=>{try{const D=g.content,F=bt(),z="assistant",j="streaming",Y=new Date,S="stream";let E,L;const N=()=>{ye(()=>{R.forEach(ne=>{E&&L&&ne({...E,content:L,status:"complete"})})},20);const $={uid:f,status:"complete",items:[g,E]};ye(()=>{M.forEach(ne=>{ne($)}),I()},20)},U=()=>{b.forEach($=>{$("failed-to-stream-server-component",new Error("Failed to load content"))})};L=k.streamServerComponent(D,x,{onServerComponentReceived:N,onError:U}),E={uid:F,content:L,contentType:"server-component",participantRole:z,status:j,time:Y,dataTransferMode:S},ye(()=>{P.forEach($=>{$(E)})},10)}catch(D){$e(D);const F=D instanceof Error?D:typeof D=="string"?new Error(D):new Error("Unknown error");ye(()=>{b.forEach(z=>z("failed-to-load-content",F))})}}))(o,s,e,n,a,l,m,h).finally(()=>{ye(()=>v())})):y==="batch"?(i=new Set,(async(f,g,k,x,P,R,M)=>{try{const b=g.content,I=ii(k)?k:void 0,_=I!==void 0,D=bt(),F="assistant",z="complete",j=new Date,Y="batch";let S;if(_){const N=await I.batchText(b,x),U=I.preProcessAiBatchedMessage(N,x);U!=null&&(S={uid:D,content:U,contentType:"text",serverResponse:N,participantRole:F,status:z,time:j,dataTransferMode:Y})}else S={uid:D,content:await k.batchText(b,x),contentType:"text",serverResponse:void 0,participantRole:F,status:z,time:j,dataTransferMode:Y};if(!S)throw new Error("Response from adapter was undefined or cannot be processed");const E=S;ye(()=>{P.forEach(N=>{N(E)})});const L={uid:f,status:"complete",items:[g,S]};ye(()=>{R.forEach(N=>{N(L)})})}catch(b){$e(b);const I=b instanceof Error?b:typeof b=="string"?new Error(b):new Error("Unknown error");ye(()=>{M.forEach(_=>_("failed-to-load-content",I))})}})(o,s,e,n,i,m,h).finally(()=>{ye(()=>v())})):(c=new Set,u=new Set,p=new Set,_0(o,s,e,n,c,u,p,m,h).finally(()=>{ye(()=>v())}));const v=()=>{d==null||d.clear(),d=void 0,i==null||i.clear(),i=void 0,a==null||a.clear(),a=void 0,l==null||l.clear(),l=void 0,c==null||c.clear(),c=void 0,u==null||u.clear(),u=void 0,p==null||p.clear(),p=void 0,m==null||m.clear(),m=void 0,h==null||h.clear(),h=void 0};return{segment:{status:"active",uid:o,items:[]},dataTransferMode:y,observable:{get segmentId(){return o},on:(f,g)=>{f==="userMessageReceived"&&d?d.add(g):f==="aiMessageReceived"&&i?i.add(g):f==="aiServerComponentStreamStarted"&&a?a.add(g):f==="aiServerComponentStreamed"&&l?l.add(g):f==="aiMessageStreamStarted"&&c?c.add(g):f==="aiMessageStreamed"&&u?u.add(g):f==="aiChunkReceived"&&p?p.add(g):f==="complete"&&m?m.add(g):f==="error"&&h&&h.add(g)},removeListener:(f,g)=>{f!=="userMessageReceived"?f!=="aiMessageReceived"?f!=="aiMessageStreamStarted"?f!=="aiMessageStreamed"?f!=="aiChunkReceived"?f!=="complete"?f!=="error"||(h==null||h.delete(g)):m==null||m.delete(g):p==null||p.delete(g):u==null||u.delete(g):c==null||c.delete(g):i==null||i.delete(g):d==null||d.delete(g)},destroy:()=>v()}}},U0={"data-transfer-mode-not-supported":"Requested data transfer mode is not supported","no-data-transfer-mode-supported":"Adapter does not support any valid data transfer modes","connection-error":"Connection error","invalid-credentials":"Invalid credentials","invalid-api-key":"Invalid API key","http-server-side-error":"HTTP server side error","http-client-side-error":"HTTP client side error","failed-to-load-content":"Failed to load content","failed-to-stream-content":"Failed to stream content","failed-to-stream-server-component":"Failed to stream server component","failed-to-render-content":"Failed to display content"},$0=t=>{var g;const{aiChatProps:e,adapterToUse:n,prompt:r,composerOptions:o,showException:s,initialSegment:i,newSegments:a,cancelledSegmentIds:l,cancelledMessageIds:c,setChatSegments:u,setComposerStatus:p,setPrompt:d,conversationRef:m}=t,h=C.useMemo(()=>r.length>0,[r]),y=C.useRef(r);y.current=r;const w=C.useRef({newSegments:a,cancelledSegmentIds:l,cancelledMessageIds:c,setChatSegments:u,setComposerStatus:p,showException:s,setPrompt:d}),v=C.useRef({});C.useEffect(()=>{w.current={newSegments:a,cancelledSegmentIds:l,cancelledMessageIds:c,setChatSegments:u,setComposerStatus:p,showException:s,setPrompt:d}},[a,l,c,u,p,s,d]);const f=((k,x,P)=>C.useMemo(()=>{const R=(b=>{const I=[];return b.forEach(_=>{_.items.forEach(D=>{if(D.status==="complete"){if(D.participantRole==="assistant")I.push({role:"assistant",message:D.content});else if(D.participantRole==="user")return I.push({role:"user",message:D.content})}})}),I})(x),M=P==="max"||P===void 0?R:P>0?R.slice(-P):void 0;return{aiChatProps:yl(k),conversationHistory:M}},[k,x,P]))(e,i?[i,...a]:a,(g=e.conversationOptions)==null?void 0:g.historyPayloadSize);return C.useEffect(()=>{v.current=e.events||{}},[e.events]),C.useCallback(()=>{if(!n)return void $e("No valid adapter was provided to AiChat component");if(!h||o!=null&&o.disableSubmitButton)return;p("submitting-prompt");const k=r,x=new Set,P=ii(n)?n:n.streamServerComponent?{streamServerComponent:n.streamServerComponent}:{batchText:n.batchText,streamText:n.streamText},{segment:R,observable:M}=F0(k,P,f);if(R.status==="error")return $e("Error occurred while submitting prompt"),s("Error occurred while submitting prompt"),p("typing"),void(y.current===""&&d(k));const b=I=>{const _=w.current.newSegments.map(D=>D.uid!==M.segmentId?D:{...D,items:[...D.items,{...I}]});w.current.setChatSegments(_)};M.on("userMessageReceived",I=>{var _,D;(_=w.current)!=null&&_.cancelledMessageIds.includes(I.uid)||(b(I),(D=v.current)!=null&&D.messageSent&&v.current.messageSent({uid:I.uid,message:I.content}))}),M.on("aiMessageStreamStarted",I=>{var _,D;(_=w.current)!=null&&_.cancelledMessageIds.includes(I.uid)||(b(I),w.current.setComposerStatus("waiting"),y.current===k&&w.current.setPrompt(""),x.add(I.uid),(D=v.current)!=null&&D.messageStreamStarted&&v.current.messageStreamStarted({uid:I.uid}))}),M.on("aiServerComponentStreamStarted",I=>{var _,D,F;(_=w.current)!=null&&_.cancelledMessageIds.includes(I.uid)||(b(I),w.current.setComposerStatus("waiting"),y.current===k&&w.current.setPrompt(""),x.add(I.uid),(D=v.current)!=null&&D.serverComponentStreamStarted&&((F=v.current)==null||F.serverComponentStreamStarted({uid:I.uid})))}),M.on("aiServerComponentStreamed",I=>{var _,D,F;(_=w.current)!=null&&_.cancelledMessageIds.includes(I.uid)||(D=v.current)!=null&&D.serverComponentRendered&&!w.current.cancelledMessageIds.includes(I.uid)&&((F=v.current)==null||F.serverComponentRendered({uid:I.uid}))}),M.on("aiMessageReceived",I=>{var D,F;if((D=w.current)!=null&&D.cancelledMessageIds.includes(I.uid))return;const _=w.current.newSegments.map(z=>z.uid!==M.segmentId?z:{...z,items:[...z.items,{...I}]});w.current.setChatSegments(_),(F=v.current)!=null&&F.messageReceived&&v.current.messageReceived({uid:I.uid,message:I.content})}),M.on("complete",I=>{var D;if((D=w.current)!=null&&D.cancelledMessageIds.includes(I.uid))return;w.current.setComposerStatus("typing");const _=w.current.newSegments.map(F=>F.uid!==M.segmentId?F:{...I});w.current.setChatSegments(_),y.current===k&&d(""),x.size>0&&(x.forEach(F=>{requestAnimationFrame(()=>{var z;(z=m.current)==null||z.completeStream(M.segmentId,F)})}),x.clear())}),M.on("aiChunkReceived",({messageId:I,chunk:_})=>{var D,F;(D=w.current)!=null&&D.cancelledMessageIds.includes(I)||((F=m.current)==null||F.streamChunk(R.uid,I,_))}),M.on("aiMessageStreamed",I=>{var _,D,F;(_=w.current)!=null&&_.cancelledMessageIds.includes(I.uid)||(D=v.current)!=null&&D.messageReceived&&((F=v.current)==null||F.messageReceived({uid:I.uid,message:I.content}))}),M.on("error",(I,_)=>{var z;const D=w.current.newSegments.filter(j=>j.uid!==R.uid),F=U0[I];w.current.setChatSegments(D),w.current.setComposerStatus("typing"),w.current.showException(F),y.current===""&&d(k),(z=v.current)!=null&&z.error&&v.current.error({errorId:I,message:F,errorObject:_})}),w.current.setChatSegments([...w.current.newSegments,R])},[r,n,f,s,w,o==null?void 0:o.disableSubmitButton])},Dd=()=>A.jsx("div",{className:"nlux-comp-messageLoader",children:A.jsx("div",{className:"nlux-comp-loaderContainer",children:A.jsx("span",{className:"spinning-loader"})})}),Bd={Loader:t=>A.jsx(A.Fragment,{children:t.children}),Greeting:t=>A.jsx(A.Fragment,{children:t.children})},W0=function(t){var zu,Nu,Du,Bu,ju;const{adapter:e,className:n,initialConversation:r,conversationOptions:o,composerOptions:s,displayOptions:i}=t,{themeId:a,colorScheme:l}=i??{},c=C.useRef(null),u=C.useRef(null),p=C.useRef(void 0),d=C.useRef(null),m=((T,H)=>{const[Q,ie]=C.useState(),[ge,de]=C.useState(),J=C.useRef(Q),Ee=C.useRef(H);return C.useEffect(()=>{const Re=T.current||void 0;Re!==ge&&de(Re)}),C.useEffect(()=>{ge?J.current?J.current.updateConversationContainer(ge):(J.current=j0(ge,Ee.current??zd),ie(J.current)):J.current&&(J.current.destroy(),ie(void 0),J.current=void 0)},[ge]),C.useEffect(()=>{Ee.current=H,J.current&&J.current.updateProps({autoScroll:H??zd})},[H]),Q})(u,o==null?void 0:o.autoScroll),h=C.useMemo(()=>d.current?Fy(d.current):void 0,[d.current]),y=(()=>{const T={},H=new Set;return C.useMemo(()=>({getStreamingDomElement:Q=>{if(H.has(Q)&&H.delete(Q),T[Q]===void 0){const ie=document.createElement("div");ie.setAttribute("nlux-message-id",Q),ie.className="nlux-markdown-container",T[Q]=ie}return T[Q]},deleteStreamingDomElement:Q=>{H.add(Q),setTimeout(()=>{H.forEach(ie=>{T[ie]&&(T[ie].remove(),delete T[ie])}),H.clear()},1e3)}}),[])})(),{PrimitivesContextProvider:w}=function(T){var ie,ge,de,J,Ee,Re,pn,Bn,fn;const[H,Q]=C.useState(T);return C.useEffect(()=>{Q(T)},[(ie=T==null?void 0:T.messageOptions)==null?void 0:ie.htmlSanitizer,(ge=T==null?void 0:T.messageOptions)==null?void 0:ge.syntaxHighlighter,(de=T==null?void 0:T.messageOptions)==null?void 0:de.markdownLinkTarget,(J=T==null?void 0:T.messageOptions)==null?void 0:J.showCodeBlockCopyButton,(Ee=T==null?void 0:T.messageOptions)==null?void 0:Ee.skipStreamingAnimation,(Re=T==null?void 0:T.messageOptions)==null?void 0:Re.streamingAnimationSpeed,(pn=T==null?void 0:T.messageOptions)==null?void 0:pn.waitTimeBeforeStreamCompletion,(Bn=T==null?void 0:T.messageOptions)==null?void 0:Bn.responseRenderer,(fn=T==null?void 0:T.messageOptions)==null?void 0:fn.promptRenderer]),{PrimitivesContextProvider:C.useMemo(()=>({children:Ri})=>A.jsx(Nd.Provider,{value:H,children:Ri}),[H]),primitivesContext:Nd}}({messageOptions:t.messageOptions}),[v,f]=C.useState(""),[g,k]=C.useState("typing"),[x,P]=C.useState(),[R,M]=C.useState([]),[b,I]=C.useState([]),[_,D]=C.useState([]),F=C.useMemo(()=>x?[x,...R]:R,[x,R]),z=C.useMemo(()=>(T=>{const H=T;if(typeof(H==null?void 0:H.create)=="function")return H.create();if(typeof(H==null?void 0:H.batchText)=="function"||typeof(H==null?void 0:H.streamText)=="function"||typeof(H==null?void 0:H.streamServerComponent)=="function")return T;$e("Unable to determine the type of the adapter! Missing batchText or streamText method.")})(e),[e]),j=(T=>C.useMemo(()=>{const H={minWidth:"280px",minHeight:"280px"};return T!=null&&T.width&&(H.width=T.width),T!=null&&T.height&&(H.height=T.height),H},[T==null?void 0:T.width,T==null?void 0:T.height]))(i),Y=C.useMemo(()=>(T=>{const H=["nlux-AiChat-root"],Q=`nlux-theme-${T.themeId||"nova"}`;return H.push(Q),T.className&&H.push(T.className),H})({className:n,themeId:a}).join(" "),[n,a]),S=C.useMemo(()=>{var T;return l!=="auto"&&l?l:typeof globalThis!==void 0&&globalThis.matchMedia&&((T=globalThis.matchMedia("(prefers-color-scheme: dark)"))!=null&&T.matches)?"dark":"light"},[l]),E=C.useCallback(T=>h==null?void 0:h.displayException(T),[h]),L=function(T,H,Q,ie,ge,de,J,Ee){return C.useCallback(()=>{var pn;const Re=T.length>0?T[T.length-1]:void 0;(Re==null?void 0:Re.status)==="active"&&(ie(T.slice(0,-1)),ge([...H,Re.uid]),de([...Q,...Re.items.map(Bn=>Bn.uid)]),(pn=J.current)==null||pn.cancelSegmentStreams(Re.uid)),Ee("typing")},[T,H,Q,ie,ge,de,J,Ee])}(R,b,_,M,I,D,c,k),N=C.useCallback(T=>f(T),[f]),U=$0({aiChatProps:t,adapterToUse:z,conversationRef:c,initialSegment:x,newSegments:R,cancelledMessageIds:_,cancelledSegmentIds:b,prompt:v,composerOptions:s,showException:E,setChatSegments:M,setComposerStatus:k,setPrompt:f}),$=((T,H,Q,ie,ge,de)=>C.useCallback((J,Ee,Re)=>{if(J==="initial"&&T){const fn=[];for(const Hu of T.items){if(Hu.uid===Ee)break;fn.push(Hu)}const Ri={...T,items:fn};return H(Ri),ie([]),ge(Re),void de("submitting-edit")}const pn=Q.findIndex(fn=>fn.uid===J),Bn=Q.slice(0,pn);ie(Bn),ge(Re),de("submitting-edit")},[Q,ie,T,H,ge,de]))(x,P,R,M,f,k),ne=C.useCallback((T,H)=>{var Q;(Q=t.events)!=null&&Q.messageRendered&&t.events.messageRendered({uid:H})},[]),De=C.useCallback(T=>{f(T.prompt),k("submitting-conversation-starter")},[f,k]),dn=((T,H)=>C.useCallback(Q=>{T&&Q&&(H.current=Q.uid,T.handleNewChatSegmentAdded(Q.uid,Q.div))},[T]))(m,p);C.useEffect(()=>{g!=="submitting-conversation-starter"&&g!=="submitting-external-message"&&g!=="submitting-edit"||U()},[g,U]),C.useEffect(()=>P(r?{uid:"initial",status:"complete",items:r.map((T,H)=>{if(T.role==="assistant"||T.role==="user")return T.role==="user"?typeof T.message!="string"?void $e(`Invalid message type for item at index ${H} in initial conversation: When role is "user", message must be a string`):{uid:bt(),time:new Date,status:"complete",participantRole:"user",content:T.message,contentType:"text"}:{uid:bt(),time:new Date,status:"complete",participantRole:"assistant",content:T.message,contentType:"text",serverResponse:T.serverResponse,dataTransferMode:"batch"};$e(`Invalid role for item at index ${H} in initial conversation: Role must be "assistant" or "user"`)}).filter(T=>T!==void 0)}:void 0),[r]),C.useEffect(()=>{var T;x&&((T=u.current)==null||T.scrollTo({behavior:"smooth",top:5e4}))},[x]);const Be=C.useRef(void 0);C.useEffect(()=>{const T=t.api;Be.current=T,typeof(T==null?void 0:T.__setHost)=="function"?T.__setHost({sendMessage:H=>{f(H),k("submitting-external-message")},resetConversation:()=>{M([]),P(void 0)},cancelLastMessageRequest:L}):xo(`API object passed was is not compatible with AiChat.
Only use API objects created by the useAiChatApi() hook.`)},[t.api,L,f,k,M,P]),C.useEffect(()=>()=>{var T;typeof((T=Be.current)==null?void 0:T.__unsetHost)=="function"&&(Be.current.__unsetHost(),Be.current=void 0)},[]),(T=>{C.useEffect(()=>{var Q;const H=(Q=T.events)==null?void 0:Q.ready;H&&H({aiChatProps:yl(T)})},[])})(t),((T,H)=>{var ge;const Q=C.useRef(),ie=C.useRef();C.useEffect(()=>{Q.current=()=>{const de=[];return H.forEach(J=>{J.items&&J.items.length!==0&&J.items.forEach(Ee=>{Ee.status==="complete"&&(Ee.participantRole!=="assistant"?Ee.participantRole==="user"&&de.push({role:"user",message:Ee.content}):de.push({role:"assistant",message:Ee.content}))})}),de}},[H]),C.useEffect(()=>{var de;ie.current=(de=T.events)==null?void 0:de.preDestroy},[(ge=T.events)==null?void 0:ge.preDestroy]),C.useEffect(()=>()=>{var J;const de=ie.current;de&&(de({aiChatProps:yl(T),conversationHistory:((J=Q.current)==null?void 0:J.call(Q))??[]}),Q.current=void 0)},[])})(t,F);const _t=C.useMemo(()=>C.forwardRef(L0),[]),bi=(T=>{const H=C.useMemo(()=>T.children?Array.isArray(T.children)?T.children:[T.children]:[],[T.children]);return{Loader:C.useMemo(()=>H.length===0?A.jsx(Dd,{}):H.find(Q=>Q.type===Bd.Loader)||A.jsx(Dd,{}),[H]),Greeting:C.useMemo(()=>{if(H.length!==0)return H.find(Q=>Q.type===Bd.Greeting)},[H])}})(t),ch=v.length>0,dh=F.length===0?"nlux-chatRoom-starting":"nlux-chatRoom-active";return z?A.jsx(w,{children:A.jsxs("div",{className:Y,style:j,"data-color-scheme":S,children:[A.jsx("div",{className:"nlux-comp-exceptionBox",ref:d}),A.jsxs("div",{className:`nlux-chatRoom-container ${dh}`,children:[A.jsx("div",{className:"nlux-launchPad-container",children:A.jsx(N0,{segments:F,onConversationStarterSelected:De,conversationOptions:o,personaOptions:t.personaOptions,userDefinedGreeting:bi.Greeting})}),A.jsx("div",{className:"nlux-conversation-container",ref:u,"aria-label":"Chat conversation",role:"log",children:A.jsx(_t,{ref:c,segments:F,conversationOptions:t.conversationOptions,personaOptions:t.personaOptions,messageOptions:t.messageOptions,onLastActiveSegmentChange:dn,Loader:bi.Loader,markdownContainersController:y,submitShortcutKey:(zu=t.composerOptions)==null?void 0:zu.submitShortcut,onPromptResubmit:$,onMarkdownStreamRendered:ne})}),A.jsx("div",{className:"nlux-composer-container",children:A.jsx(Qy,{status:g,prompt:v,hasValidInput:ch,placeholder:(Nu=t.composerOptions)==null?void 0:Nu.placeholder,autoFocus:(Du=t.composerOptions)==null?void 0:Du.autoFocus,submitShortcut:(Bu=t.composerOptions)==null?void 0:Bu.submitShortcut,hideStopButton:(ju=t.composerOptions)==null?void 0:ju.hideStopButton,onChange:N,onSubmit:U,onCancel:L,Loader:bi.Loader})})]})]})}):(xo("AiChat: No valid adapter provided. The component will not render."),A.jsx(A.Fragment,{}))},Q0="/ai-app-starter/assets/robot-BGNdTZHM.png",Y0="/ai-app-starter/assets/user-B0grYou3.png",X0={assistant:{name:"Assistant",avatar:Q0,tagline:"Your helpful AI assistant"},user:{name:"User",avatar:Y0}},Z0=({apiUrl:t=Hv,model:e=_v,applicationId:n,sessionId:r,idToken:o,accessToken:s,openModal:i})=>{let a;if(!n)throw new Error("Application ID is required.");o&&s?a={"X-KeyTrustee-Application-Id":n,"Content-Type":"application/json","X-Session-ID":r||""}:r&&(a={"X-KeyTrustee-Application-Id":n,"Content-Type":"application/json","X-Session-ID":r});const l=[];return{streamText:async(u,p)=>{l.push({role:"user",content:u});const d=await fetch(t,{method:"POST",headers:a,body:JSON.stringify({messages:l,model:e,stream:!0})});if(!d.ok)throw d.status===401&&(d.statusText==="Expired Token"||d.statusText==="Token validation failed"||d.statusText==="Session not found")&&i(),new Error(`HTTP error! status: ${d.status}`);if(!d.body){p.error(new Error("Response body not present"));return}const m=d.body.getReader(),h=new TextDecoder("utf-8");let y="";for(;;){const{done:w,value:v}=await m.read();if(w)break;y+=h.decode(v,{stream:!0});let f;for(;(f=y.indexOf("}{"))!==-1;){const g=y.substring(0,f+1).trim();y=y.slice(f+1);try{const k=JSON.parse(g);k.choices&&k.choices[0]&&k.choices[0].delta&&k.choices[0].delta.content&&p.next(k.choices[0].delta.content)}catch{p.error(new Error("Error while processing chunks"))}}}if(y.length>0)try{const w=JSON.parse(y.trim());w.choices&&w.choices[0]&&w.choices[0].delta&&w.choices[0].delta.content&&p.next(w.choices[0].delta.content)}catch{p.error(new Error("Error while processing final chunk"))}p.complete()}}};var kl={exports:{}},Mn={},qm={exports:{}},K0="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",G0=K0,q0=G0;function Vm(){}function Jm(){}Jm.resetWarningCache=Vm;var V0=function(){function t(r,o,s,i,a,l){if(l!==q0){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Jm,resetWarningCache:Vm};return n.PropTypes=n,n};qm.exports=V0();var eh=qm.exports,wl={exports:{}},vt={},xl={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",o=/input|select|textarea|button|object|iframe/;function s(p,d){return d.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function i(p){var d=p.offsetWidth<=0&&p.offsetHeight<=0;if(d&&!p.innerHTML)return!0;try{var m=window.getComputedStyle(p),h=m.getPropertyValue("display");return d?h!==r&&s(p,m):h===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(p){for(var d=p,m=p.getRootNode&&p.getRootNode();d&&d!==document.body;){if(m&&d===m&&(d=m.host.parentNode),i(d))return!1;d=d.parentNode}return!0}function l(p,d){var m=p.nodeName.toLowerCase(),h=o.test(m)&&!p.disabled||m==="a"&&p.href||d;return h&&a(p)}function c(p){var d=p.getAttribute("tabindex");d===null&&(d=void 0);var m=isNaN(d);return(m||d>=0)&&l(p,!m)}function u(p){var d=[].slice.call(p.querySelectorAll("*"),0).reduce(function(m,h){return m.concat(h.shadowRoot?u(h.shadowRoot):[h])},[]);return d.filter(c)}t.exports=e.default})(xl,xl.exports);var th=xl.exports;Object.defineProperty(vt,"__esModule",{value:!0});vt.resetState=nk;vt.log=rk;vt.handleBlur=So;vt.handleFocus=Co;vt.markForFocusLater=ok;vt.returnFocus=sk;vt.popWithoutFocus=ik;vt.setupScopedFocus=ak;vt.teardownScopedFocus=lk;var J0=th,ek=tk(J0);function tk(t){return t&&t.__esModule?t:{default:t}}var hr=[],er=null,Sl=!1;function nk(){hr=[]}function rk(){}function So(){Sl=!0}function Co(){if(Sl){if(Sl=!1,!er)return;setTimeout(function(){if(!er.contains(document.activeElement)){var t=(0,ek.default)(er)[0]||er;t.focus()}},0)}}function ok(){hr.push(document.activeElement)}function sk(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{hr.length!==0&&(e=hr.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function ik(){hr.length>0&&hr.pop()}function ak(t){er=t,window.addEventListener?(window.addEventListener("blur",So,!1),document.addEventListener("focus",Co,!0)):(window.attachEvent("onBlur",So),document.attachEvent("onFocus",Co))}function lk(){er=null,window.addEventListener?(window.removeEventListener("blur",So),document.removeEventListener("focus",Co)):(window.detachEvent("onBlur",So),document.detachEvent("onFocus",Co))}var Cl={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=th,r=o(n);function o(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function i(a,l){var c=(0,r.default)(a);if(!c.length){l.preventDefault();return}var u=void 0,p=l.shiftKey,d=c[0],m=c[c.length-1],h=s();if(a===h){if(!p)return;u=m}if(m===h&&!p&&(u=d),d===h&&p&&(u=m),u){l.preventDefault(),u.focus();return}var y=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),w=y!=null&&y[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(w){var v=c.indexOf(h);if(v>-1&&(v+=p?-1:1),u=c[v],typeof u>"u"){l.preventDefault(),u=p?m:d,u.focus();return}l.preventDefault(),u.focus()}}t.exports=e.default})(Cl,Cl.exports);var uk=Cl.exports,yt={},ck=function(){},dk=ck,ht={},nh={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(nh);var pk=nh.exports;Object.defineProperty(ht,"__esModule",{value:!0});ht.canUseDOM=ht.SafeNodeList=ht.SafeHTMLCollection=void 0;var fk=pk,mk=hk(fk);function hk(t){return t&&t.__esModule?t:{default:t}}var Ii=mk.default,gk=Ii.canUseDOM?window.HTMLElement:{};ht.SafeHTMLCollection=Ii.canUseDOM?window.HTMLCollection:{};ht.SafeNodeList=Ii.canUseDOM?window.NodeList:{};ht.canUseDOM=Ii.canUseDOM;ht.default=gk;Object.defineProperty(yt,"__esModule",{value:!0});yt.resetState=xk;yt.log=Sk;yt.assertNodeList=rh;yt.setElement=Ck;yt.validateElement=Mu;yt.hide=Ek;yt.show=Ak;yt.documentNotReadyOrSSRTesting=Pk;var vk=dk,yk=wk(vk),kk=ht;function wk(t){return t&&t.__esModule?t:{default:t}}var Ve=null;function xk(){Ve&&(Ve.removeAttribute?Ve.removeAttribute("aria-hidden"):Ve.length!=null?Ve.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Ve).forEach(function(t){return t.removeAttribute("aria-hidden")})),Ve=null}function Sk(){}function rh(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function Ck(t){var e=t;if(typeof e=="string"&&kk.canUseDOM){var n=document.querySelectorAll(e);rh(n,e),e=n}return Ve=e||Ve,Ve}function Mu(t){var e=t||Ve;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,yk.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Ek(t){var e=!0,n=!1,r=void 0;try{for(var o=Mu(t)[Symbol.iterator](),s;!(e=(s=o.next()).done);e=!0){var i=s.value;i.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}function Ak(t){var e=!0,n=!1,r=void 0;try{for(var o=Mu(t)[Symbol.iterator](),s;!(e=(s=o.next()).done);e=!0){var i=s.value;i.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}function Pk(){Ve=null}var kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.resetState=Tk;kr.log=Ik;var eo={},to={};function jd(t,e){t.classList.remove(e)}function Tk(){var t=document.getElementsByTagName("html")[0];for(var e in eo)jd(t,eo[e]);var n=document.body;for(var r in to)jd(n,to[r]);eo={},to={}}function Ik(){}var bk=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},Rk=function(e,n){return e[n]&&(e[n]-=1),n},Lk=function(e,n,r){r.forEach(function(o){bk(n,o),e.add(o)})},Mk=function(e,n,r){r.forEach(function(o){Rk(n,o),n[o]===0&&e.remove(o)})};kr.add=function(e,n){return Lk(e.classList,e.nodeName.toLowerCase()=="html"?eo:to,n.split(" "))};kr.remove=function(e,n){return Mk(e.classList,e.nodeName.toLowerCase()=="html"?eo:to,n.split(" "))};var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.log=zk;wr.resetState=Nk;function Ok(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var oh=function t(){var e=this;Ok(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},ai=new oh;function zk(){console.log("portalOpenInstances ----------"),console.log(ai.openInstances.length),ai.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function Nk(){ai=new oh}wr.default=ai;var Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.resetState=Hk;Ou.log=_k;var Dk=wr,Bk=jk(Dk);function jk(t){return t&&t.__esModule?t:{default:t}}var Te=void 0,lt=void 0,Pn=[];function Hk(){for(var t=[Te,lt],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}Te=lt=null,Pn=[]}function _k(){console.log("bodyTrap ----------"),console.log(Pn.length);for(var t=[Te,lt],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function Hd(){Pn.length!==0&&Pn[Pn.length-1].focusContent()}function Fk(t,e){!Te&&!lt&&(Te=document.createElement("div"),Te.setAttribute("data-react-modal-body-trap",""),Te.style.position="absolute",Te.style.opacity="0",Te.setAttribute("tabindex","0"),Te.addEventListener("focus",Hd),lt=Te.cloneNode(),lt.addEventListener("focus",Hd)),Pn=e,Pn.length>0?(document.body.firstChild!==Te&&document.body.insertBefore(Te,document.body.firstChild),document.body.lastChild!==lt&&document.body.appendChild(lt)):(Te.parentElement&&Te.parentElement.removeChild(Te),lt.parentElement&&lt.parentElement.removeChild(lt))}Bk.default.subscribe(Fk);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(z){for(var j=1;j<arguments.length;j++){var Y=arguments[j];for(var S in Y)Object.prototype.hasOwnProperty.call(Y,S)&&(z[S]=Y[S])}return z},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},o=function(){function z(j,Y){for(var S=0;S<Y.length;S++){var E=Y[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(j,E.key,E)}}return function(j,Y,S){return Y&&z(j.prototype,Y),S&&z(j,S),j}}(),s=C,i=eh,a=x(i),l=vt,c=k(l),u=uk,p=x(u),d=yt,m=k(d),h=kr,y=k(h),w=ht,v=x(w),f=wr,g=x(f);function k(z){if(z&&z.__esModule)return z;var j={};if(z!=null)for(var Y in z)Object.prototype.hasOwnProperty.call(z,Y)&&(j[Y]=z[Y]);return j.default=z,j}function x(z){return z&&z.__esModule?z:{default:z}}function P(z,j){if(!(z instanceof j))throw new TypeError("Cannot call a class as a function")}function R(z,j){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:z}function M(z,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);z.prototype=Object.create(j&&j.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(z,j):z.__proto__=j)}var b={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},I=function(j){return j.code==="Tab"||j.keyCode===9},_=function(j){return j.code==="Escape"||j.keyCode===27},D=0,F=function(z){M(j,z);function j(Y){P(this,j);var S=R(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,Y));return S.setOverlayRef=function(E){S.overlay=E,S.props.overlayRef&&S.props.overlayRef(E)},S.setContentRef=function(E){S.content=E,S.props.contentRef&&S.props.contentRef(E)},S.afterClose=function(){var E=S.props,L=E.appElement,N=E.ariaHideApp,U=E.htmlOpenClassName,$=E.bodyOpenClassName,ne=E.parentSelector,De=ne&&ne().ownerDocument||document;$&&y.remove(De.body,$),U&&y.remove(De.getElementsByTagName("html")[0],U),N&&D>0&&(D-=1,D===0&&m.show(L)),S.props.shouldFocusAfterRender&&(S.props.shouldReturnFocusAfterClose?(c.returnFocus(S.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),S.props.onAfterClose&&S.props.onAfterClose(),g.default.deregister(S)},S.open=function(){S.beforeOpen(),S.state.afterOpen&&S.state.beforeClose?(clearTimeout(S.closeTimer),S.setState({beforeClose:!1})):(S.props.shouldFocusAfterRender&&(c.setupScopedFocus(S.node),c.markForFocusLater()),S.setState({isOpen:!0},function(){S.openAnimationFrame=requestAnimationFrame(function(){S.setState({afterOpen:!0}),S.props.isOpen&&S.props.onAfterOpen&&S.props.onAfterOpen({overlayEl:S.overlay,contentEl:S.content})})}))},S.close=function(){S.props.closeTimeoutMS>0?S.closeWithTimeout():S.closeWithoutTimeout()},S.focusContent=function(){return S.content&&!S.contentHasFocus()&&S.content.focus({preventScroll:!0})},S.closeWithTimeout=function(){var E=Date.now()+S.props.closeTimeoutMS;S.setState({beforeClose:!0,closesAt:E},function(){S.closeTimer=setTimeout(S.closeWithoutTimeout,S.state.closesAt-Date.now())})},S.closeWithoutTimeout=function(){S.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},S.afterClose)},S.handleKeyDown=function(E){I(E)&&(0,p.default)(S.content,E),S.props.shouldCloseOnEsc&&_(E)&&(E.stopPropagation(),S.requestClose(E))},S.handleOverlayOnClick=function(E){S.shouldClose===null&&(S.shouldClose=!0),S.shouldClose&&S.props.shouldCloseOnOverlayClick&&(S.ownerHandlesClose()?S.requestClose(E):S.focusContent()),S.shouldClose=null},S.handleContentOnMouseUp=function(){S.shouldClose=!1},S.handleOverlayOnMouseDown=function(E){!S.props.shouldCloseOnOverlayClick&&E.target==S.overlay&&E.preventDefault()},S.handleContentOnClick=function(){S.shouldClose=!1},S.handleContentOnMouseDown=function(){S.shouldClose=!1},S.requestClose=function(E){return S.ownerHandlesClose()&&S.props.onRequestClose(E)},S.ownerHandlesClose=function(){return S.props.onRequestClose},S.shouldBeClosed=function(){return!S.state.isOpen&&!S.state.beforeClose},S.contentHasFocus=function(){return document.activeElement===S.content||S.content.contains(document.activeElement)},S.buildClassName=function(E,L){var N=(typeof L>"u"?"undefined":r(L))==="object"?L:{base:b[E],afterOpen:b[E]+"--after-open",beforeClose:b[E]+"--before-close"},U=N.base;return S.state.afterOpen&&(U=U+" "+N.afterOpen),S.state.beforeClose&&(U=U+" "+N.beforeClose),typeof L=="string"&&L?U+" "+L:U},S.attributesFromObject=function(E,L){return Object.keys(L).reduce(function(N,U){return N[E+"-"+U]=L[U],N},{})},S.state={afterOpen:!1,beforeClose:!1},S.shouldClose=null,S.moveFromContentToOverlay=null,S}return o(j,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(S,E){this.props.isOpen&&!S.isOpen?this.open():!this.props.isOpen&&S.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!E.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var S=this.props,E=S.appElement,L=S.ariaHideApp,N=S.htmlOpenClassName,U=S.bodyOpenClassName,$=S.parentSelector,ne=$&&$().ownerDocument||document;U&&y.add(ne.body,U),N&&y.add(ne.getElementsByTagName("html")[0],N),L&&(D+=1,m.hide(E)),g.default.register(this)}},{key:"render",value:function(){var S=this.props,E=S.id,L=S.className,N=S.overlayClassName,U=S.defaultStyles,$=S.children,ne=L?{}:U.content,De=N?{}:U.overlay;if(this.shouldBeClosed())return null;var dn={ref:this.setOverlayRef,className:this.buildClassName("overlay",N),style:n({},De,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Be=n({id:E,ref:this.setContentRef,style:n({},ne,this.props.style.content),className:this.buildClassName("content",L),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),_t=this.props.contentElement(Be,$);return this.props.overlayElement(dn,_t)}}]),j}(s.Component);F.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},F.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(v.default),a.default.instanceOf(w.SafeHTMLCollection),a.default.instanceOf(w.SafeNodeList),a.default.arrayOf(a.default.instanceOf(v.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=F,t.exports=e.default})(wl,wl.exports);var Uk=wl.exports;function sh(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function ih(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function ah(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}sh.__suppressDeprecationWarning=!0;ih.__suppressDeprecationWarning=!0;ah.__suppressDeprecationWarning=!0;function $k(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,o=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||r!==null||o!==null){var s=t.displayName||t.name,i=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+i+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=sh,e.componentWillReceiveProps=ih),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=ah;var a=e.componentDidUpdate;e.componentDidUpdate=function(c,u,p){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;a.call(this,c,u,d)}}return t}const Wk=Object.freeze(Object.defineProperty({__proto__:null,polyfill:$k},Symbol.toStringTag,{value:"Module"})),Qk=fh(Wk);Object.defineProperty(Mn,"__esModule",{value:!0});Mn.bodyOpenClassName=Mn.portalClassName=void 0;var _d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yk=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),lh=C,li=Oo(lh),Xk=am,ui=Oo(Xk),Zk=eh,W=Oo(Zk),Kk=Uk,Fd=Oo(Kk),Gk=yt,qk=Jk(Gk),Kt=ht,Ud=Oo(Kt),Vk=Qk;function Jk(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Oo(t){return t&&t.__esModule?t:{default:t}}function ew(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nw=Mn.portalClassName="ReactModalPortal",rw=Mn.bodyOpenClassName="ReactModal__Body--open",wn=Kt.canUseDOM&&ui.default.createPortal!==void 0,Wd=function(e){return document.createElement(e)},Qd=function(){return wn?ui.default.createPortal:ui.default.unstable_renderSubtreeIntoContainer};function ps(t){return t()}var zo=function(t){tw(e,t);function e(){var n,r,o,s;ew(this,e);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return s=(r=(o=$d(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),o),o.removePortal=function(){!wn&&ui.default.unmountComponentAtNode(o.node);var c=ps(o.props.parentSelector);c&&c.contains(o.node)?c.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(c){o.portal=c},o.renderPortal=function(c){var u=Qd(),p=u(o,li.default.createElement(Fd.default,_d({defaultStyles:e.defaultStyles},c)),o.node);o.portalRef(p)},r),$d(o,s)}return Yk(e,[{key:"componentDidMount",value:function(){if(Kt.canUseDOM){wn||(this.node=Wd("div")),this.node.className=this.props.portalClassName;var r=ps(this.props.parentSelector);r.appendChild(this.node),!wn&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var o=ps(r.parentSelector),s=ps(this.props.parentSelector);return{prevParent:o,nextParent:s}}},{key:"componentDidUpdate",value:function(r,o,s){if(Kt.canUseDOM){var i=this.props,a=i.isOpen,l=i.portalClassName;r.portalClassName!==l&&(this.node.className=l);var c=s.prevParent,u=s.nextParent;u!==c&&(c.removeChild(this.node),u.appendChild(this.node)),!(!r.isOpen&&!a)&&!wn&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Kt.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,o=Date.now(),s=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||o+this.props.closeTimeoutMS);s?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-o)):this.removePortal()}}},{key:"render",value:function(){if(!Kt.canUseDOM||!wn)return null;!this.node&&wn&&(this.node=Wd("div"));var r=Qd();return r(li.default.createElement(Fd.default,_d({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){qk.setElement(r)}}]),e}(lh.Component);zo.propTypes={isOpen:W.default.bool.isRequired,style:W.default.shape({content:W.default.object,overlay:W.default.object}),portalClassName:W.default.string,bodyOpenClassName:W.default.string,htmlOpenClassName:W.default.string,className:W.default.oneOfType([W.default.string,W.default.shape({base:W.default.string.isRequired,afterOpen:W.default.string.isRequired,beforeClose:W.default.string.isRequired})]),overlayClassName:W.default.oneOfType([W.default.string,W.default.shape({base:W.default.string.isRequired,afterOpen:W.default.string.isRequired,beforeClose:W.default.string.isRequired})]),appElement:W.default.oneOfType([W.default.instanceOf(Ud.default),W.default.instanceOf(Kt.SafeHTMLCollection),W.default.instanceOf(Kt.SafeNodeList),W.default.arrayOf(W.default.instanceOf(Ud.default))]),onAfterOpen:W.default.func,onRequestClose:W.default.func,closeTimeoutMS:W.default.number,ariaHideApp:W.default.bool,shouldFocusAfterRender:W.default.bool,shouldCloseOnOverlayClick:W.default.bool,shouldReturnFocusAfterClose:W.default.bool,preventScroll:W.default.bool,parentSelector:W.default.func,aria:W.default.object,data:W.default.object,role:W.default.string,contentLabel:W.default.string,shouldCloseOnEsc:W.default.bool,overlayRef:W.default.func,contentRef:W.default.func,id:W.default.string,overlayElement:W.default.func,contentElement:W.default.func};zo.defaultProps={isOpen:!1,portalClassName:nw,bodyOpenClassName:rw,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return li.default.createElement("div",e,n)},contentElement:function(e,n){return li.default.createElement("div",e,n)}};zo.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,Vk.polyfill)(zo);Mn.default=zo;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Mn,r=o(n);function o(s){return s&&s.__esModule?s:{default:s}}e.default=r.default,t.exports=e.default})(kl,kl.exports);var ow=kl.exports;const uh=ph(ow);uh.setAppElement("#root");const sw=({isModalOpen:t,closeModal:e})=>A.jsxs(uh,{isOpen:t,onRequestClose:e,contentLabel:"Key Trustee Modal",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"400px",backgroundColor:"#242424",color:"rgba(255, 255, 255, 0.87)",padding:"20px",borderRadius:"10px",position:"relative",border:"none"}},children:[A.jsxs("div",{children:[A.jsxs("svg",{viewBox:"0 0 500 30",preserveAspectRatio:"xMinYMin meet",className:"logo-svg",children:[A.jsx("defs",{children:A.jsxs("linearGradient",{id:"gold-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[A.jsx("stop",{offset:"0%",style:{stopColor:"#ffd700",stopOpacity:1}}),A.jsx("stop",{offset:"100%",style:{stopColor:"#7d5100",stopOpacity:1}})]})}),A.jsx("text",{x:"160",y:"25",className:"logo-text",children:"Key Trustee"})]}),A.jsx("button",{onClick:e,style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",color:"#fff",fontSize:"18px",cursor:"pointer"},children:""})]}),A.jsxs("div",{style:{textAlign:"center"},children:[A.jsx("p",{children:"Your session has expired, please begin a new one to proceed."}),A.jsx("button",{style:{backgroundColor:"rgba(255, 255, 255,0.15)",width:"100%"},children:"Create Session"})]})]});function iw(){const[t,e]=C.useState(null),[n,r]=C.useState(!1),o=()=>{r(!0)},s=()=>{r(!1)};C.useEffect(()=>{window.addEventListener("message",a=>{if(a.origin===Gc&&a.data&&a.data.type==="LOGIN_SUCCESS"){const l=a.data.sessionId,c=Kc.toString(),u=Z0({sessionId:l,applicationId:c,openModal:o});e(u)}})},[]);const i=()=>{const a=window.open(`${Gc}?application_id=${Kc}`,"_blank","noopener=false");a?a.focus():console.error("Failed to open new window")};return A.jsxs(A.Fragment,{children:[A.jsx("div",{children:A.jsxs("svg",{viewBox:"0 0 500 100",preserveAspectRatio:"xMinYMin meet",className:"logo-svg",children:[A.jsx("defs",{children:A.jsxs("linearGradient",{id:"gold-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[A.jsx("stop",{offset:"0%",style:{stopColor:"#ffd700",stopOpacity:1}}),A.jsx("stop",{offset:"100%",style:{stopColor:"#7d5100",stopOpacity:1}})]})}),A.jsx("text",{x:"50",y:"75",className:"logo-text-large",children:"Key Trustee"})]})}),A.jsxs("div",{children:[A.jsx("h1",{children:"AI App Starter"}),A.jsxs("p",{children:["This starter provides everything you need to quickly create small AI applications. Once you've registered your application on"," ",A.jsx("a",{href:"https://app.keytrustee.org/",children:"Key Trustee"}),", add your application's ID to your"," ",A.jsx("strong",{children:"config.ts"})," file."]}),"",A.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:A.jsxs("button",{onClick:i,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px"},children:[A.jsx("img",{src:Fv,alt:"KT Icon",style:{height:"24px"}}),"Create Session"]})})]}),A.jsx("div",{className:"card",style:{minWidth:420,minHeight:350},children:A.jsx(W0,{adapter:t,personaOptions:X0})}),A.jsx(sw,{isModalOpen:n,closeModal:s})]})}lm(document.getElementById("root")).render(A.jsx(C.StrictMode,{children:A.jsx(iw,{})}));
